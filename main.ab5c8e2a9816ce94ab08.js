/*! For license information please see main.ab5c8e2a9816ce94ab08.js.LICENSE.txt */
(()=>{var e,t,n,s,r={14(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(73767);function r(e,t=!1,n=!1){const r=(0,s.A)(e,t);return n||null!=e?e:r}},38(e,t,n){"use strict";function s(e){return{publicKey:PublicKeyCredential.parseCreationOptionsFromJSON(e.publicKey)}}function r(e){return{publicKey:PublicKeyCredential.parseRequestOptionsFromJSON(e.publicKey)}}n.d(t,{C:()=>s,I:()=>r})},188(e,t,n){"use strict";n.d(t,{k:()=>o});var s=n(14487),r=n(32989),a=n(13439);function o(e,t){(0,a.aJ)(e,(e,n,a)=>{const{tabId:o=(0,s.g0)()}=a||{};return(0,r.w)(e,{[t]:void 0},o)})}},251(e,t){t.read=function(e,t,n,s,r){var a,o,i=8*r-s-1,c=(1<<i)-1,d=c>>1,u=-7,l=n?r-1:0,f=n?-1:1,g=e[t+l];for(l+=f,a=g&(1<<-u)-1,g>>=-u,u+=i;u>0;a=256*a+e[t+l],l+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=s;u>0;o=256*o+e[t+l],l+=f,u-=8);if(0===a)a=1-d;else{if(a===c)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,s),a-=d}return(g?-1:1)*o*Math.pow(2,a-s)},t.write=function(e,t,n,s,r,a){var o,i,c,d=8*a-r-1,u=(1<<d)-1,l=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,g=s?0:a-1,p=s?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=u?(i=0,o=u):o+l>=1?(i=(t*c-1)*Math.pow(2,r),o+=l):(i=t*Math.pow(2,l-1)*Math.pow(2,r),o=0));r>=8;e[n+g]=255&i,g+=p,i/=256,r-=8);for(o=o<<r|i,d+=r;d>0;e[n+g]=255&o,g+=p,o/=256,d-=8);e[n+g-p]|=128*h}},529(e,t,n){"use strict";let s;n.d(t,{A:()=>r,l:()=>a});try{s=/[^\p{L}\p{M}]+/iu}catch(e){s=/[^\wÐ°-ÑÑ‘Ò‘Ñ”Ñ–Ñ—]+/i}function r(e,t){if(!e||!t)return!1;const n="string"==typeof t?t.toLowerCase().split(s):t,r=e.toLowerCase();if(1===n.length&&!r.includes(n[0]))return!1;let a;return n.every(e=>!!r.includes(e)&&(a||(a=r.split(s)),a.some(t=>t.startsWith(e))))}function a(e){const t=e.toLowerCase().split(s);return e=>r(e,t)}},672(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(37836);function a(e,t,n,a=!1){const o=(0,s.hb)(e,t);return(0,s.Kr)(()=>"number"==typeof n?(0,r.nF)(o,n,!a):(0,r.nb)(n,o),[o,n,a])}},1903(e,t,n){"use strict";n.d(t,{Ms:()=>d,R3:()=>g,V9:()=>o,_$:()=>l,_b:()=>c,dN:()=>f,gV:()=>u,gd:()=>i,tW:()=>h});var s=n(14487),r=n(46211),a=n(5056);function o(e,...[t=(0,s.g0)()]){const{storyViewer:{peerId:n,storyId:r}}=(0,a.n)(e,t);return{peerId:n,storyId:r}}function i(e,...[t=(0,s.g0)()]){const{peerId:n,storyId:r}=o(e,t);return Boolean(n)&&Boolean(r)}function c(e,t){return e.stories.byPeerId[t]}function d(e,t,n){return c(e,t)?.byId[n]}function u(e,t){const n=c(e,t);if(n?.pinnedIds?.length)return n.pinnedIds.map(e=>n.byId[e]).filter(e=>e&&"isInProfile"in e&&e.isInProfile)}function l(e,t){const n=c(e,t);if(!n)return;if(!n.lastReadId)return n.orderedIds?.[0];const s=n.orderedIds.findIndex(e=>e===n.lastReadId);return n.orderedIds?.[s+1]}function f(e,t){return c(e,t)?.orderedIds?.[0]}function g(e,t,n,s,a,o,i){const c=n||l(e,t)||f(e,t);if(!c)return;if(s)return{peerIds:[t],storyIdsByPeerId:{[t]:[c]}};const u=(0,r.PV)(e,t),g=d(e,t,c);if(!u||!g)return;const h=(e.stories.byPeerId[t].lastReadId||0)<g.id;if(a){const n=p(e,t,h,i,o);return n?.length?{peerIds:[t],storyIdsByPeerId:{[t]:n}}:void 0}const{orderedPeerIds:{active:m,archived:y}}=e.stories,b=(u.areStoriesHidden?y:m)??[],_=[],v={};for(const t of b){const n=p(e,t,h,i,o);n?.length&&(_.push(t),v[t]=n)}return _.length?{peerIds:_,storyIdsByPeerId:v}:void 0}function p(e,t,n,s,r){const a=c(e,t),o=s?"archiveIds":r?"profileIds":"orderedIds",i=a?.[o];if(!a||!i?.length)return;if(!a.lastReadId||!n)return i.slice();const d=i.indexOf(a.lastReadId);return i.length>d+1?i.slice(d+1):void 0}function h(e,...[t=(0,s.g0)()]){return(0,a.n)(e,t).selectedStoryAlbumId||"all"}},2188(e,t,n){"use strict";n.d(t,{H:()=>d});var s=n(31481),r=n(14487),a=n(37836);let o,i=!0;window.addEventListener("error",u),window.addEventListener("unhandledrejection",u),s.Oig&&(window.addEventListener("focus",()=>{(0,r.ve)()&&(i=!0,o&&(o=void 0))}),window.addEventListener("blur",()=>{(0,r.ve)()&&(i=!1)}));const c=(0,a.nF)(e=>{i?console.error(e):o=e},1500);function d(e){console.error(e),s.Oig&&c(e)}function u(e){if(e instanceof ErrorEvent){if("ResizeObserver loop limit exceeded"===e.message)return;if(e.message.includes("A wait of"))return}e.preventDefault(),d(e instanceof ErrorEvent?e.error||e.message:e.reason)}},2338(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(13439),a=n(91048),o=n(56494);function i(e){const t=e&&"content"in e,n=(0,r.mS)(),i=t?(0,o.if)(n,e):e?.dataUri,c=(0,a.SJA)(n);return(0,s.Kr)(()=>{const e=i;return e&&"dark"===c?e.replace("<svg",'<svg fill="white"'):e},[i,c])}},3325(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(61433);const a=({containerSelector:e,className:t,children:n})=>{const a=(0,s.li)();return a.current||(a.current=document.createElement("div")),(0,s.Nf)(()=>{const n=document.querySelector(e||"#portals");if(!n)return;const s=a.current;return t&&s.classList.add(t),n.appendChild(s),()=>{r.Ay.render(void 0,s),n.removeChild(s)}},[t,e]),r.Ay.render(n,a.current)}},3544(e,t,n){"use strict";n.d(t,{GG:()=>f,Gn:()=>u,Su:()=>l,dS:()=>d,oL:()=>g,vs:()=>c});var s=n(23174),r=n(58849),a=n(18501),o=n(86525);const i=["â º","â µ","â ž","â Ÿ"],c=200;function d(e,t,n,s=!1,a=c,o=!1){const i=!s&&l(t);return`${i?`${i} `:""}${g(e,t,n,(0,r.A)(u(e,t,n),a),o)}`}function u(e,t,n){const r=(0,o.WD)(t),a=(0,o.BN)(e,n?.story||t)?.text;if(!a)return r;const{entities:c}=t.content.text||{};if(!c?.length)return r?`${r}\n${a}`:a;const d=c.reduce((e,{type:t,offset:n,length:r})=>{if(t!==s.C7.Spoiler)return e;const a=function(e){return new Array(e).fill(void 0).map(()=>i[Math.floor(Math.random()*i.length)]).join("")}(r);return`${e.slice(0,n)}${a}${e.slice(n+r)}`},a);return r?`${r}\n${d}`:d}function l(e){const{photo:t,video:n,audio:s,voice:r,document:a,sticker:o,pollId:i,paidMedia:c,todo:d}=e.content;return e.groupedId||t||c?"ðŸ–¼":n?"ðŸ“¹":o?o.emoji:s?"ðŸŽ§":r?"ðŸŽ¤":a?"ðŸ“Ž":i?"ðŸ“Š":d?"ðŸ“":void 0}function f(e,t,n){return p(e,t,n)}function g(e,t,n,s,r=!1){return p(e,t.content,n,t,s,r)}function p(e,t,n,s,r,o=!1){const{text:i,photo:c,video:d,audio:u,voice:l,document:f,sticker:g,contact:p,invoice:h,location:m,game:y,storyData:b,giveaway:_,giveawayResults:v,paidMedia:w,todo:I}=t,{poll:S}=n||{};let C,A=!1;const P=w?.isBought&&w.extendedMedia,k=w&&!w.isBought?w.extendedMedia:void 0,T=w&&w.extendedMedia.length>1,E=!T&&(P?.[0].video||k?.[0].duration),M=!T&&!E;return(s?.groupedId||T)&&(A=!0,C=r||e("Album")),(c||M)&&(A=!0,C=r||e("AttachPhoto")),(d||E)&&(A=!0,C=r||e(d?.isGif?"AttachGif":"AttachVideo")),g&&(C=e("AttachSticker").trim()),u&&(C=function(e){const{audio:t,text:n}=e;return t&&[t.title,t.performer].filter(Boolean).join(" â€” ")||n?.text}(t)||e("AttachMusic")),l&&(A=!0,C=r||e("AttachAudio")),f&&(A=!o,C=o?f.fileName:r||f.fileName),p&&(C=e("AttachContact")),S&&(C=(0,a.fd)({text:S.summary.question.text,entities:S.summary.question.entities,asPreview:!0})),h&&(C=h.extendedMedia?h.title:e("AttachInvoice",{description:h.description})),i&&(o&&C&&!A?C+=`\n${r}`:C=r),"geo"!==m?.mediaType&&"venue"!==m?.mediaType||(C=e("AttachLocation")),"geoLive"===m?.mediaType&&(C=e("AttachLiveLocation")),y&&(C=`ðŸŽ® ${y.title}`),_&&(C=e("AttachGiveaway")),v&&(C=e("AttachGiveawayResults")),b&&(C=r||e("AttachStory")),I&&(C=(0,a.fd)({text:I.todo.title.text,entities:I.todo.title.entities,asPreview:!0})),C||e("MessageUnsupported")}},4029(e,t,n){"use strict";n.d(t,{S:()=>o,a:()=>a});var s=n(13439);let r;function a(){window.addEventListener("beforeinstallprompt",e=>{r=async()=>{e.prompt(),"accepted"===(await e.userChoice).outcome&&(0,s.ko)().setInstallPrompt({canInstall:!1})},(0,s.ko)().setInstallPrompt({canInstall:!0})})}function o(){return r}},4262(e,t,n){"use strict";n.d(t,{AD:()=>l,I$:()=>f,Nm:()=>g,U5:()=>h,fB:()=>m,sB:()=>p});var s=n(13439),r=n(90709),a=n(96454),o=n(87357),i=n(4961),c=n(96530),d=n(50805),u=n(20021);function l(e,t,n,s,r){const{pluralValue:a,asText:o,withMarkdown:i,renderTextFilters:c}=r||{};return e(n?`${t}You`:t,s,{withNodes:!o,withMarkdown:i,pluralValue:a,renderTextFilters:c})}function f(e,t){const{audio:n,contact:s,document:a,game:o,giveaway:i,giveawayResults:c,paidMedia:d,storyData:u,invoice:l,location:f,photo:g,pollId:p,sticker:h,video:m,voice:y}=(0,r.r_)(t);return t.groupedId||d?e("ActionPinnedMediaAlbum"):g?e("ActionPinnedMediaPhoto"):n?e("ActionPinnedMediaAudio"):y?e("ActionPinnedMediaVoice"):m?.isRound?e("ActionPinnedMediaVideoMessage"):m?.isGif?e("ActionPinnedMediaGif"):m?e("ActionPinnedMediaVideo"):h?e("ActionPinnedMediaSticker"):a?e("ActionPinnedMediaFile"):s?e("ActionPinnedMediaContact"):f?e("ActionPinnedMediaLocation"):u?e("ActionPinnedMediaStory"):l?e("ActionPinnedMediaInvoice"):o?e("ActionPinnedMediaGame",{game:o.title}):p?e("ActionPinnedMediaPoll"):i?e("ActionPinnedMediaGiveaway"):c?e("ActionPinnedMediaGiveawayResults"):void 0}function g(e,t,n){return!e||n?(0,i.A)(t):(0,u.Y)(c.A,{className:(0,o.A)(d.A.peerLink,d.A.strong),onClick:t=>{t.stopPropagation(),(0,s.ko)().openChat({id:e})},withMultilineFix:a.Yw,children:(0,i.A)(t)})}function p(e,t,n,r){const{noEllipsis:i}=r||{};return n||!e?t:(0,u.Y)(c.A,{className:(0,o.A)(d.A.messageLink,i&&d.A.noEllipsis),onClick:t=>{t.stopPropagation(),(0,s.ko)().focusMessage({chatId:e.chatId,messageId:e.id})},withMultilineFix:a.Yw,children:t})}function h(e,t,n,r){return r?n:(0,u.Y)(c.A,{className:d.A.topicLink,onClick:n=>{n.stopPropagation(),(0,s.ko)().openThread({chatId:e,threadId:t})},withMultilineFix:a.Yw,children:n})}function m(e,t){const n="missed"===e.reason,s="busy"===e.reason||void 0===e.duration;return e.isVideo?n?t?"CallMessageVideoOutgoingMissed":"CallMessageVideoIncomingMissed":s?"CallMessageVideoIncomingDeclined":t?"CallMessageVideoOutgoing":"CallMessageVideoIncoming":n?t?"CallMessageOutgoingMissed":"CallMessageIncomingMissed":s?"CallMessageIncomingDeclined":t?"CallMessageOutgoing":"CallMessageIncoming"}},4350(e,t,n){"use strict";n.d(t,{Nv:()=>m,Ph:()=>p,Xz:()=>o,a9:()=>c,gD:()=>h,pg:()=>u,pn:()=>d,rL:()=>i,zk:()=>l});var s=n(31481),r=n(63495);const a="undefined"!=typeof WorkerGlobalScope&&globalThis.self instanceof WorkerGlobalScope?globalThis.self.name:void 0,o=(a?Number(new URLSearchParams(a).get(s.r6P)):void 0)||(r.vM?function(e){const t=new URL(e).searchParams.get(s.r6P),n=t?Number(t):1;return!n||Number.isNaN(n)||1===n?void 0:n}(globalThis.location.href):void 0),i=`${s.YAK}_${o||1}`,c=`${s.L3V}_${o||1}`,d=`${s.z2M}_${o||1}`,u=o?`${s.iJx}_${o}`:s.iJx;function l(){if(!r.vM)return{};const e=Object.keys(localStorage).filter(e=>e.startsWith(s.um6)),t={};for(const n of e){const e=Number(n.slice(s.um6.length)),r=f(e);r&&(t[e]=r)}return t}function f(e){const t=g(e),{userId:n,avatarUri:s,color:r,emojiStatusId:a,firstName:o,lastName:i,isPremium:c,isTest:d,phone:u}=t||{};if(n)return{userId:n,avatarUri:s,color:r,emojiStatusId:a,firstName:o,lastName:i,isPremium:c,isTest:d,phone:u}}function g(e){try{const t=JSON.parse(localStorage.getItem(`${s.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function p(e,t){const n=g(e);if(!n)return;const s={...n,...t};s.userId&&h(e,s)}function h(e,t){localStorage.setItem(`${s.um6}${e||1}`,JSON.stringify(t))}function m(e,t,n){const r=new URL(globalThis.location.href);return 1!==e?r.searchParams.set(s.r6P,String(e)):r.searchParams.delete(s.r6P),n?r.searchParams.set("test","true"):r.searchParams.delete("test"),r.hash=t?"login":"",r.toString()}if("object"==typeof window){const e=new BroadcastChannel("tt-version");e.postMessage({version:"12.17.0"}),e.addEventListener("message",t=>{const{version:n}=t.data;n&&(-1===y("12.17.0",n)&&window.location.reload(),1===y("12.17.0",n)&&e.postMessage({version:"12.17.0"}))})}function y(e,t){return e.startsWith(`${t}-`)?-1:t.startsWith(`${e}-`)?1:e.localeCompare(t,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})}},4438(e,t,n){"use strict";n.d(t,{A:()=>l});var s=n(84051),r=n(87357),a=n(37661),o=n(17712),i=n(83057),c=n(18104),d=n(20021);const u=150,l=(0,s.ph)(function(e){const{size:t=u,play:n=!0,noLoop:l=!0,className:f,noTransition:g,nonInteractive:p,onLoad:h,onClick:m,...y}=e,[b,_]=(0,a.A)(!1),v=(0,i.A)(g||b),w=(0,o.A)(()=>{_(),h?.()}),[I,S]=(0,s.J0)(()=>String(Math.random())),C=(0,o.A)(()=>{!0===n&&S(String(Math.random())),m?.()});return(0,d.Y)(c.A,{className:(0,r.A)(f,v),size:t,play:!0===n?I:n,noLoop:l,onClick:p?void 0:C,onLoad:w,...y})})},4961(e,t,n){"use strict";n.d(t,{A:()=>h,o:()=>w});var s=n(31481),r=n(16120),a=n(96454),o=n(87357),i=n(46275),c=n(52491),d=n(24282),u=n(87894),l=n(56362),f=n(84685),g=n(20021);const p=/(\*\*|__).+?\1/g;function h(e,t=["emoji"],n){return"string"!=typeof e?[e]:(0,u.oE)(t.reduce((e,t)=>{switch(t){case"escape_html":return function(e,t){const n=t||(e=>e),s=document.createElement("div");return e.reduce((e,t)=>"string"!=typeof t?(e.push(t),e):(s.innerText=t,e.push(n(s.innerHTML)),e),[])}(e,n?.markdownPostProcessor);case"hq_emoji":return r.A.lastIndex=0,m(e,"big","jsx",n?.markdownPostProcessor);case"emoji":return r.A.lastIndex=0,m(e,"small","jsx",n?.markdownPostProcessor);case"emoji_html":return r.A.lastIndex=0,m(e,"small","html");case"br":return y(e,"jsx",n?.markdownPostProcessor);case"br_html":return y(e,"html");case"highlight":return function(e,t,n){const s=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n||!t)return e.push(n),e;const r=n.toLowerCase().indexOf(t.toLowerCase());if(r<0)return e.push(s(n)),e;const a=[];return a.push(s(n.substring(0,r))),a.push((0,g.Y)("span",{className:"matching-text-highlight",children:s(n.substring(r,r+t.length))})),a.push(s(n.substring(r+t.length))),[...e,...a]},[])}(e,n.highlight,n?.markdownPostProcessor);case"links":return _(e,void 0,n?.markdownPostProcessor);case"tg_links":return _(e,!0,n?.markdownPostProcessor);case"simple_markdown":return v(e,"jsx",n?.markdownPostProcessor);case"simple_markdown_html":return v(e,"html")}return e},[e]))}function m(e,t,n,s){const i=s||(e=>e);return a.TL?e.map(e=>"string"==typeof e?i(e):e):e.reduce((e,s)=>{if("string"!=typeof s)return e.push(s),e;const a=(s=(0,d.A)(s)).split(r.A),u=s.match(r.A)||[];return e.push(i(a[0])),u.reduce((e,s,r)=>{const d=(0,c.mS)(s);if(d){const r=`./img-apple-${"big"===t?"160":"64"}/${d}.png`,a=(0,o.A)("emoji","small"===t&&"emoji-small");if("jsx"===n){const t=c.On.has(r);e.push((0,g.Y)("img",{src:r,className:`${a}${t?"":" opacity-transition slow shown"}`,alt:s,"data-path":r,draggable:!1,onLoad:t?void 0:c.P_}))}"html"===n&&e.push(`<img            draggable="false"            class="${a}"            src="${r}"            alt="${s}"          />`)}else e.push(i(s));const u=2*r+2;return a[u]&&e.push(i(a[u])),e},e)},[])}function y(e,t,n){const s=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.split(/\r\n|\r|\n/g).reduce((e,n,r,a)=>{const o=n.trimStart(),i=n.length-o.length;return e.push(String.fromCharCode(160).repeat(i)),e.push(s(o)),r!==a.length-1&&e.push("jsx"===t?(0,g.Y)("br",{}):"<br />"),e},[]);return[...e,...r]},[])}const b=new RegExp(`${s.kNZ}|${s.sXR}`,"ig");function _(e,t,n){const s=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.match(b);if(!r||!r.length)return e.push(s(n)),e;const a=[];let o=r.shift(),c=0;for(;o;){const e=n.indexOf(o,c);a.push(s(n.substring(c,e))),o.startsWith("@")?a.push((0,g.Y)(l.A,{username:o,children:s(o)})):(o.endsWith("?")&&(o=o.slice(0,o.length-1)),!t||(0,i.zq)(o)?a.push((0,g.Y)(f.A,{text:o,url:o})):a.push(s(o))),c=e+o.length,o=r.shift()}return a.push(s(n.substring(c))),[...e,...a]},[])}function v(e,t,n){const s=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.split(p),a=n.match(p)||[];return e.push(s(r[0])),a.reduce((e,n,a)=>{"jsx"===t?e.push(n.startsWith("**")?(0,g.Y)("b",{children:s(n.replace(/\*\*/g,""))}):(0,g.Y)("i",{children:s(n.replace(/__/g,""))})):e.push(n.startsWith("**")?`<b>${n.replace(/\*\*/g,"")}</b>`:`<i>${n.replace(/__/g,"")}</i>`);const o=2*a+2;return r[o]&&e.push(s(r[o])),e},e)},[])}function w(e,t){const n=(e.trim().match(/\n/g)||"").length+1,{lineHeight:s}=getComputedStyle(t),r=parseFloat(s.split("px")[0]);return t.clientHeight>=(n+1)*r}},4990(e,t,n){"use strict";var s=n(14487),r=n(99375),a=n(87894),o=n(4350),i=n(6e4),c=n(66414),d=n(80140),u=n(57751),l=n(84553),f=n(90709),g=n(13439),p=n(68873),h=n(17567),m=n(32989),y=n(91048),b=n(30708);function _(e,t,n){const{connectionState:r}=n,o=(0,y.nTw)(e,(0,s.g0)());if("connectionStateReady"===r&&o.isMasterTab&&o.multitabNextAction&&(t[o.multitabNextAction.action](o.multitabNextAction.payload),t.clearMultitabNextAction({tabId:o.id})),r!==e.connectionState){if(e={...e,connectionState:r},(0,g.UF)(e),e.isSynced){const n=Object.values(e.byTabId).flatMap(e=>e.messageLists).map(e=>e.chatId).filter(t=>{const n=e.chats.byId[t];return n&&((0,f.WX)(n)||(0,f.Vs)(n))});"connectionStateReady"===r&&n.length&&(0,a.Am)(n).forEach(e=>{t.requestChannelDifference({chatId:e})})}"connectionStateBroken"===r&&t.signOut({forceInitApi:!0})}}(0,g.aJ)("apiUpdate",(e,t,n)=>{switch(n["@type"]){case"updateApiReady":!function(e){(0,i.wT)((0,b.lS)(e).language)}(e);break;case"updateAuthorizationState":!function(e,t){const n="authorizationStateReady"===e.auth.state,s=t.authorizationState;switch(e=(0,h.K)(e,{state:s,isLoading:!1}),(0,g.UF)(e),e=(0,g.mS)(),s){case"authorizationStateLoggingOut":(0,l.nv)(!1),e=(0,h.K)(e,{isLoggingOut:!0}),(0,g.UF)(e);break;case"authorizationStateWaitCode":e=(0,h.K)(e,{isCodeViaApp:t.isCodeViaApp}),(0,g.UF)(e);break;case"authorizationStateWaitPassword":e=(0,h.K)(e,{hint:t.hint}),t.noReset&&(e=(0,h.K)(e,{hasWebAuthTokenPasswordRequired:!0})),(0,g.UF)(e);break;case"authorizationStateWaitQrCode":e=(0,h.K)(e,{isLoadingQrCode:!1,qrCode:t.qrCode}),(0,g.UF)(e);break;case"authorizationStateReady":if(n)break;(0,l.nv)(!0),e=(0,h.K)(e,{isLoggingOut:!1}),Object.values(e.byTabId).forEach(({id:t})=>{e=(0,m.w)(e,{inactiveReason:void 0},t)}),(0,g.UF)(e)}}(e,n);break;case"updateAuthorizationError":!function(e,t){"PASSKEY_CREDENTIAL_NOT_FOUND"!==t.errorCode?(e=(0,h.K)(e,{errorKey:t.errorKey}),(0,g.UF)(e)):(0,g.ko)().showNotification({message:t.errorKey,tabId:(0,s.g0)()})}(e,n);break;case"updateUserAlreadyAuthorized":!function(e,t){const{userId:n}=t;if(e.currentUserId===n)return;const s=(0,o.zk)(),r=Object.entries(s).find(([e,t])=>t.userId===n)?.[0];if(!r)return;const a=(0,o.Nv)(Number(r));window.location.replace(a)}(e,n);break;case"updateWebAuthTokenFailed":!function(e){(0,c.fY)(),e=(0,h.K)(e,{hasWebAuthTokenFailed:!0}),(0,g.UF)(e)}(e);break;case"updatePasskeyOption":!function(e,t){e=(0,h.K)(e,{passkeyOption:t.option}),(0,g.UF)(e)}(e,n);break;case"updateConnectionState":_(e,t,n);break;case"updateSession":!function(e,t,n){const{sessionData:s}=n,{rememberMe:r,state:a}=e.auth,o=!s||!s.mainDcId,i=s?.isTest;i&&(e={...e,config:{...e.config,isTestServer:i}},(0,g.UF)(e)),r&&"authorizationStateReady"===a&&!o&&t.saveSession({sessionData:s})}(e,t,n);break;case"updateServerTimeOffset":!function(e){(0,d.SH)(e.serverTimeOffset)}(n);break;case"updateCurrentUser":!function(e,t){const{currentUser:n,currentUserFullInfo:s}=t;e={...(0,p.TKu)(e,n.id,n),currentUserId:n.id},e=(0,p.weB)(e,n.id,s),(0,g.UF)(e),(0,u.id)(n.id)}(e,n);break;case"requestReconnectApi":e={...e,isSynced:!1},(0,g.UF)(e),_(e,t,{"@type":"updateConnectionState",connectionState:"connectionStateConnecting"}),t.initApi();break;case"requestSync":t.sync();break;case"updateFetchingDifference":e={...e,isFetchingDifference:n.isFetching},(0,g.UF)(e);break;case"error":Object.values(e.byTabId).forEach(({id:e})=>{const s=(0,r.zr)(n.error);s?t.addPaymentError({error:s,tabId:e}):(0,r.Dd)(n.error)?t.closePaymentModal({tabId:e}):t.showDialog&&t.showDialog({data:n.error,tabId:e})});break;case"notSupportedInFrozenAccount":t.showNotification({title:{key:"NotificationTitleNotSupportedInFrozenAccount"},message:{key:"NotificationMessageNotSupportedInFrozenAccount"},tabId:(0,s.g0)()})}})},5056(e,t,n){"use strict";n.d(t,{n:()=>r});var s=n(14487);function r(e,...[t=(0,s.g0)()]){return e.byTabId[t]}},5560(e,t,n){"use strict";n.d(t,{Ac:()=>B,B1:()=>U,BA:()=>k,DJ:()=>D,Kz:()=>F,M2:()=>C,Mi:()=>O,Oq:()=>L,al:()=>x,wC:()=>T,xe:()=>E});var s=n(13439),r=n(23174),a=n(31481),o=n(90709),i=n(27109),c=n(70636),d=n(91048),u=n(24021),l=n(63495),f=n(96454),g=n(6842),p=n(87894),h=n(43044),m=n(58554),y=n(6e4),b=n(37836),_=n(80140),v=n(18653),w=n(20021);function I(e){const t=e.toJSON();return JSON.stringify({endpoint:t.endpoint,keys:t.keys})}function S(){return!(!f.Tz||l.Vq||("showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(a.Oig&&console.warn("[PUSH] The user has blocked push notifications."),1):!("PushManager"in window)&&(a.Oig&&console.warn("[PUSH] Push messaging isn't supported."),1):(a.Oig&&console.warn("[PUSH] Push notifications aren't supported."),1)))}function C(){return"Notification"in window?"denied"!==Notification.permission||(a.Oig&&console.warn("[PUSH] The user has blocked push notifications."),!1):(a.Oig&&console.warn("[PUSH] This browser does not support desktop notification"),!1)}const A=new Set,P=new Audio("./notification.mp3");async function k(e,t){if(void 0!==e&&A.has(e))return;const{notificationSoundVolume:n}=(0,d.eCL)((0,s.mS)()),r=t?t/10:n/10;if(0!==r){P.volume=r,void 0!==e&&(P.addEventListener("ended",()=>{A.add(e)},{once:!0}),setTimeout(()=>{A.delete(e)},3e3));try{await P.play()}catch(e){a.Oig&&console.warn("[PUSH] Unable to play notification sound")}}}P.setAttribute("mozaudiochannel","notification");const T=(0,b.sg)(k,1e3,!0,!1);async function E(){if(l.Vq){const e=await n.e(131).then(n.bind(n,70131));return!!await e.isPermissionGranted()||"granted"===await e.requestPermission()}if(!("Notification"in window))return!1;let e=Notification.permission;return["granted","denied"].includes(e)||(e=await Notification.requestPermission()),"granted"===e}async function M(e){const{deleteDeviceToken:t}=(0,s.ko)();if(e)try{const n=I(e);return await(0,u.px)("unregisterDevice",n),await e.unsubscribe(),void t()}catch(e){a.Oig&&console.log("[PUSH] Unable to unsubscribe from push.",e)}const n=(0,s.mS)();n.push&&(await(0,u.px)("unregisterDevice",n.push.deviceToken),t())}async function x(){if(!S())return;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();await M(t)}let R=!1;function B(){return R}async function U(){const{setDeviceToken:e,updateWebNotificationSettings:t}=(0,s.ko)();let n=!1,r=!1;if(!S())return n=await E(),void t({hasWebNotifications:n,hasPushNotifications:r});const o=await navigator.serviceWorker.ready;let i=await o.pushManager.getSubscription();if(function(e){const t=(0,s.mS)();return!t.push||!e||I(e)!==t.push.deviceToken||Date.now()-t.push.subscribedAt>432e5}(i)){await M(i);try{i=await o.pushManager.subscribe({userVisibleOnly:!0});const t=I(i);a.Oig&&console.log("[PUSH] Received push subscription: ",t),await(0,u.px)("registerDevice",t),e({token:t}),r=!0,n=!0}catch(e){"denied"===Notification.permission?a.Oig&&console.warn("[PUSH] The user has blocked push notifications."):(a.Oig&&console.log("[PUSH] Unable to subscribe to push.",e),[DOMException.ABORT_ERR,DOMException.NOT_SUPPORTED_ERR].includes(e.code)&&(R=!0,n=await E()))}t({hasWebNotifications:n,hasPushNotifications:r})}}async function N(e){const t=(0,o.cP)(e);if(!t)return;let n=m.Ih(t);return n||(await m.hd(t,r.qZ.BlobUrl),n=m.Ih(t)),n}async function D({call:e,user:t}){const{hasWebNotifications:n}=(0,d.eCL)((0,s.mS)());if(document.hasFocus()||!n)return;if(!C())return;const r=await N(t),a={body:(0,o.Yg)(t),icon:r,badge:r,tag:`call_${e.id}`};"vibrate"in navigator&&(a.vibrate=[200,100,200]);const i=new Notification((0,y.yE)("VoipIncoming"),a);i.onclick=()=>{i.close(),window.focus&&window.focus()}}async function L({chat:e,message:t,isReaction:n=!1}){const r=(0,s.mS)(),{hasWebNotifications:m}=(0,d.eCL)(r);if(!function(e,t){const n=(0,s.mS)(),r=(0,i.If)(e,(0,d.K52)(n),(0,d.P5N)(n,e.id)),a=(0,d.nkm)(n,t),o=a?.notifySettings.mutedUntil,c=void 0===o?r:o>(0,_.Fm)(),u=t.isMentioned,l="phoneCall"!==t.content?.action?.type;if(c&&!u||!l||e.isNotJoined||!e.isListed||(0,d.nZ4)(n,e.id))return!1;if(f.TF){const{chatId:t,type:s}=(0,d.Xf0)(n)||{};return!(t===e.id&&"thread"===s)}return!document.hasFocus()}(e,t))return;const b=(0,i.sh)(e,(0,d.K52)((0,s.mS)()),(0,d.P5N)((0,s.mS)(),e.id)),I=(0,d.nkm)(r,t),A=void 0===I?.notifySettings.hasSound?b:!I.notifySettings.hasSound,P=C();if(!m||!P)return void(A||t.isSilent||n||l.Vq||T(String(t.id)||e.id));if(!P)return;if(!t.id)return;const k=(0,o.cU)(t);if(n&&!k)return;n&&k&&"custom"===k.reaction.type&&await async function(e){let t=(0,s.mS)();if((0,d.O8F)(t,e))return;const n=await(0,u.px)("fetchCustomEmoji",{documentId:[e]});n&&(t=(0,s.mS)(),t={...t,customEmojis:{...t.customEmojis,byId:{...t.customEmojis.byId,...(0,p.dU)(n,"id")}}},(0,s.UF)(t))}(k.reaction.documentId);const E=await N(e),{title:M,body:x}=function(e,t,n){const r=(0,s.mS)();let u=(0,d.Y7C)(r,t);const l=Boolean(n);l&&(u=(0,d.PVB)(r,n.peerId));const{isScreenLocked:f}=r.passcode,p=(0,o.e7)(e)===r.currentUserId;let m;if(!f&&(0,i.o3)(e,(0,d.K52)(r),(0,d.P5N)(r,e.id))){const r=u?(0,c.Q5)((0,h.Yw)(),e.id,u):void 0;let a=(0,g.A)((0,w.Y)("span",{children:(0,w.Y)(v.A,{message:t})}))[0].textContent||"";if(l){const e=function(e){let t;return"emoji"===e.reaction.type&&(t=e.reaction.emoticon),"custom"===e.reaction.type&&(t=(0,d.O8F)((0,s.mS)(),e.reaction.documentId)?.emoji),t||"â¤ï¸"}(n);a=(0,y.yE)("PushReactText",[e,a])}m=r?`${r}: ${a}`:a}else m=(0,h.Yw)()("NotificationMessageTextHidden");let b=f?a.C39:(0,o.Js)(y.yE,e,p);return t.isSilent&&(b+=" ðŸ”•"),{title:b,body:m}}(e,t,k);if(S())navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"showMessageNotification",payload:{title:M,body:x,icon:E,chatId:e.id,messageId:t.id,shouldReplaceHistory:!0,isSilent:A||t.isSilent,reaction:k?.reaction}});else{const r=(0,s.ko)(),a={body:x,icon:E,badge:E,tag:String(t.id)};"vibrate"in navigator&&(a.vibrate=[200,100,200]);const o=new Notification(M,a);o.onclick=()=>{o.close(),r.focusMessage({chatId:e.id,messageId:t.id,shouldReplaceHistory:!0}),window.focus&&window.focus()},o.onshow=()=>{n||t.isSilent||l.Vq||T(String(t.id)||e.id)}}}function F(e){!a.W75&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"closeMessageNotifications",payload:e})}function O(){navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"clientReady"})}},5718(e,t,n){"use strict";n.d(t,{R:()=>a});var s=n(84051),r=n(22237);function a(e,t){const n=(0,s.li)(!0);n.current&&(n.current=!1,t?.forEach(t=>{(0,r.Hp)(t)&&t.subscribe(e)})),(0,s._W)(()=>{(0,r.cO)(e)})}},5912(e,t,n){"use strict";n.d(t,{BL:()=>c,Vz:()=>u,mv:()=>d});var s=n(84051),r=n(46536),a=n(37836),o=n(84080),i=n(17712);function c({rootRef:e,throttleMs:t,throttleScheduler:n,debounceMs:c,shouldSkipFirst:d,margin:u,threshold:l,isDisabled:f},g){const p=(0,s.li)(),h=(0,s.li)(),m=(0,s.li)(0),y=(0,s.li)();h.current=g;const b=(0,i.A)(()=>{m.current++}),_=(0,i.A)(()=>{m.current&&(m.current--,!m.current&&y.current&&(y.current(),y.current=void 0))});return(0,o.Ay)(b,_),(0,s.vJ)(()=>{if(!f)return()=>{p.current&&(p.current.observer.disconnect(),p.current.destroy(),p.current=void 0)}},[f]),{observe:(0,i.A)((s,o)=>{p.current||function(){const s=new Map,o=new Map;let i;function f(){if(m.current)return void(y.current=i);const e=Array.from(o.values());e.forEach(e=>{const t=s.get(e.target);t?.runCallbacks(e)}),h.current&&h.current(e),o.clear()}i="function"==typeof n?(0,a.nb)(n,f):t?(0,a.nF)(f,t,!d):c?(0,a.sg)(f,c,!d):f;const g=new IntersectionObserver(e=>{e.forEach(e=>{o.set(e.target,e)}),m.current?y.current=i:i()},{root:e.current,rootMargin:u?`${u}px`:void 0,threshold:l});p.current={observer:g,addCallback:function(e,t){s.get(e)||s.set(e,(0,r.h)()),s.get(e).addCallback(t)},removeCallback:function(e,t){const n=s.get(e);n&&(n.removeCallback(t),n.hasCallbacks()||s.delete(e))},destroy:function(){s.clear(),g.disconnect(),o.clear()}}}();const i=p.current;return i.observer.observe(s),o&&i.addCallback(s,o),()=>{o&&i.removeCallback(s,o),i.observer.unobserve(s)}}),freeze:b,unfreeze:_}}function d(e,t,n){const r=(0,i.A)(n);(0,s.vJ)(()=>t?t(e.current,r):void 0,[r,t,e])}function u(e,t,n){const[r,a]=(0,s.J0)(!t);return d(e,t,e=>{a(e.isIntersecting),n&&n(e)}),r}},5930(e,t,n){"use strict";function s(e,t){if(e===t)return!0;const n=Object.keys(e),s=n.length;if(s!==Object.keys(t).length)return!1;if(0===s)return!0;for(let r=0;r<s;r++){const s=n[r];if(e[s]!==t[s])return!1}return!0}function r(e,t,n,s=""){const r=Object.keys(e);r.length===Object.keys(t).length?(console.log(n),r.forEach(n=>{e[n]!==t[n]&&console.log(s,n,":",e[n],"=>",t[n])})):console.log(`${n} LENGTH`)}n.d(t,{A:()=>s,q:()=>r})},6842(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(61433);function r(e){const t=document.createElement("div");s.Ay.render(e,t);const n=Array.from(t.children);return s.Ay.render(void 0,t),n}},8366(e,t,n){"use strict";n.d(t,{G:()=>a,S:()=>r});var s=n(31481);function r(e){if(void 0!==e)return s.Oig&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER)&&console.error("Unsafe BigInt conversion",e),Number(e)}function a(e){try{return BigInt(e)}catch(t){return void(s.Oig&&console.error("Error parsing BigInt",e,t))}}},8718(e,t,n){"use strict";n.d(t,{By:()=>h,Mb:()=>u,OV:()=>f,VK:()=>g,qF:()=>p});var s=n(37836),r=n(22237),a=n(66644);let o=0,i=0;const[c,d]=(0,r.n5)(!1),[u,l]=(0,r.n5)(!1),f=c;function g(e=1e3,t=!1){o++,1===o&&d(!0),t&&(i++,1===i&&l(!0));const n=window.setTimeout(r,e);let s=!1;function r(){s||(s=!0,clearTimeout(n),o--,0===o&&d(!1),t&&(i--,0===i&&l(!1)))}return r}function p(e){(0,s.kI)(()=>{c()?(0,a.YS)(()=>{p(e)}):e()})}function h(e){return(0,s.nb)(p,e)}},9267(e,t,n){"use strict";n.d(t,{A:()=>f});var s=n(84051),r=n(87357),a=n(14745);const o={root:"qEhgJEpm",middle:"GjxPnwZR",big:"HRLrnZvQ",adaptive:"ebO2WJkv",svg:"lbK6aMGA",clickable:"hqg1cKl7"};var i=n(20021);const c="M6.63869 12.1902L3.50621 14.1092C3.18049 14.3087 2.75468 14.2064 2.55515 13.8807C2.45769 13.7216 2.42864 13.5299 2.47457 13.3491L2.95948 11.4405C3.13452 10.7515 3.60599 10.1756 4.24682 9.86791L7.6642 8.22716C7.82352 8.15067 7.89067 7.95951 7.81418 7.80019C7.75223 7.67116 7.61214 7.59896 7.47111 7.62338L3.66713 8.28194C2.89387 8.41581 2.1009 8.20228 1.49941 7.69823L0.297703 6.69116C0.00493565 6.44581 -0.0335059 6.00958 0.211842 5.71682C0.33117 5.57442 0.502766 5.48602 0.687982 5.47153L4.35956 5.18419C4.61895 5.16389 4.845 4.99974 4.94458 4.75937L6.36101 1.3402C6.5072 0.987302 6.91179 0.819734 7.26469 0.965925C7.43413 1.03612 7.56876 1.17075 7.63896 1.3402L9.05539 4.75937C9.15496 4.99974 9.38101 5.16389 9.6404 5.18419L13.3322 5.47311C13.713 5.50291 13.9975 5.83578 13.9677 6.2166C13.9534 6.39979 13.8667 6.56975 13.7269 6.68896L10.9114 9.08928C10.7131 9.25826 10.6267 9.52425 10.6876 9.77748L11.5532 13.3733C11.6426 13.7447 11.414 14.1182 11.0427 14.2076C10.8642 14.2506 10.676 14.2208 10.5195 14.1249L7.36128 12.1902C7.13956 12.0544 6.8604 12.0544 6.63869 12.1902Z";function d({randomId:e}){const t=`${e}-mask1`,n=`${e}-mask2`,s=`${e}-gradient1`,r=`${e}-gradient2`,a=`${e}-gradient3`;return(0,i.FD)("svg",{className:o.svg,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.FD)("g",{"clip-path":"url(#clip0_4913_7387)",children:[(0,i.Y)("mask",{id:t,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24",children:(0,i.Y)("path",{d:"M21.416 -1.42493H-1.08398V21.0751H21.416V-1.42493Z",fill:"white"})}),(0,i.FD)("g",{mask:`url(#${t})`,children:[(0,i.Y)("mask",{id:n,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24",children:(0,i.Y)("path",{d:"M-1.08398 -1.42493H21.416V21.0751H-1.08398V-1.42493Z",fill:"white"})}),(0,i.FD)("g",{mask:`url(#${n})`,children:[(0,i.Y)("path",{d:"M7.26843 6.25162L9.28943 2.22541C9.52311 1.76121 10.0884 1.5749 10.5494 1.80857C10.7294 1.90015 10.8747 2.04857 10.9662 2.23172L12.8767 6.11583C13.0314 6.43477 13.3378 6.64951 13.6883 6.69056L17.6829 7.17055C18.2261 7.23686 18.6145 7.73264 18.5513 8.27894C18.5229 8.50314 18.4218 8.71156 18.2608 8.86945L15.0998 11.9862C14.9703 12.1125 14.9103 12.2894 14.9324 12.4694L15.4598 16.6756C15.5356 17.2787 15.1093 17.8282 14.5093 17.904C14.2819 17.9324 14.0546 17.8913 13.8525 17.7808L10.5147 15.9556C10.2715 15.823 9.98099 15.8198 9.73784 15.9461L6.27687 17.7208C5.79057 17.9703 5.1969 17.7745 4.94743 17.285C4.8527 17.1019 4.82112 16.8966 4.84954 16.6945L5.12427 14.7619C5.26006 13.8177 5.84425 12.9967 6.69055 12.5641L10.5305 10.6031C10.6315 10.5526 10.6726 10.4263 10.622 10.322C10.581 10.2431 10.4957 10.1957 10.4073 10.2084L5.70847 10.8841C4.99164 10.9852 4.26535 10.7831 3.7001 10.322L2.13698 9.04629C1.69173 8.68314 1.6191 8.02 1.98225 7.57159C2.15277 7.36317 2.39592 7.22739 2.66118 7.19265L6.6716 6.67793C6.92739 6.64319 7.15159 6.4853 7.26843 6.25162Z",fill:`url(#${s})`}),(0,i.Y)("path",{d:"M10.8242 2.9422C10.4168 2.85062 9.98417 3.0464 9.78839 3.43797L7.76423 7.46419C7.64739 7.69787 7.42634 7.85576 7.1674 7.89049L3.15698 8.40837C2.89804 8.44311 2.6612 8.56942 2.49384 8.76837L3.97801 9.98097C4.44537 10.3631 5.05167 10.5304 5.64849 10.4452L10.3442 9.77255C10.6221 9.73466 10.8936 9.8736 11.0168 10.1231C11.1778 10.442 11.0515 10.8336 10.7326 10.9978L9.50734 11.623L10.9031 11.4209C10.9915 11.4083 11.0799 11.4557 11.1178 11.5346C11.1715 11.6388 11.1273 11.7651 11.0263 11.8157L7.18635 13.7767C6.34006 14.2093 5.75586 15.0303 5.62007 15.9745L5.44008 17.2282C5.60428 17.3924 5.86322 17.4366 6.07796 17.326L9.53261 15.5514C9.90839 15.3587 10.3536 15.365 10.7231 15.5671L14.0609 17.3924C14.1809 17.4587 14.3199 17.4839 14.4556 17.4682C14.8093 17.4239 15.0651 17.0955 15.0209 16.7324L14.4967 12.523C14.4588 12.2072 14.5662 11.8946 14.7904 11.6736L17.9513 8.55679C18.005 8.50311 18.0461 8.43995 18.0745 8.37048L14.1841 7.90312C13.8336 7.86207 13.5304 7.64418 13.3725 7.3284L13.2209 7.01578C12.902 6.87683 12.6399 6.63052 12.482 6.31159L10.8242 2.9422Z",fill:`url(#${r})`}),(0,i.Y)("path",{d:"M10.7484 1.41397C10.0663 1.06977 9.23893 1.3445 8.89789 2.02659L6.87373 6.05596C6.8232 6.15701 6.72531 6.22649 6.61478 6.23912L2.60436 6.757C2.22542 6.80437 1.87806 7.00015 1.63807 7.29699C1.12334 7.93486 1.22124 8.86958 1.85596 9.38746L3.42223 10.6664C4.08222 11.2032 4.93167 11.44 5.77165 11.32L9.09051 10.8432L6.48847 12.1727C5.51271 12.6716 4.84325 13.6126 4.68852 14.6989L4.41063 16.6315C4.36958 16.9252 4.41695 17.222 4.55273 17.4873C4.90956 18.1915 5.77481 18.4725 6.479 18.1125L9.93681 16.3378C10.0505 16.2778 10.1863 16.281 10.3 16.3441L13.6378 18.1662C13.9188 18.3209 14.2441 18.3841 14.563 18.343C15.4061 18.2357 15.9998 17.462 15.8956 16.622L15.3714 12.4126C15.3651 12.3716 15.3809 12.3274 15.4093 12.299L18.5703 9.1822C18.8008 8.95168 18.9492 8.65169 18.9871 8.32959C19.0787 7.5433 18.5229 6.82963 17.7366 6.73489L13.7388 6.25491C13.5399 6.2328 13.363 6.10649 13.2715 5.92334L11.3641 2.03606C11.2315 1.76765 11.0136 1.54976 10.7484 1.41397ZM9.68418 2.42132C9.80734 2.17501 10.1073 2.07712 10.3505 2.20027C10.4452 2.24764 10.5242 2.32974 10.5715 2.42763L12.482 6.31175C12.7031 6.76332 13.1357 7.06962 13.6346 7.12962L17.6324 7.60961C17.9324 7.64435 18.1471 7.91908 18.1124 8.22538C18.0966 8.3517 18.0398 8.46854 17.9513 8.55695L14.7904 11.6737C14.5662 11.8948 14.4588 12.2074 14.4967 12.5232L15.0209 16.7325C15.0651 17.0957 14.8093 17.4241 14.4556 17.4683C14.3199 17.4841 14.1809 17.4588 14.0609 17.3925L10.7231 15.5673C10.3536 15.3652 9.90839 15.362 9.53261 15.5547L6.0748 17.3294C5.80638 17.4652 5.47797 17.3578 5.33903 17.0862C5.2885 16.9852 5.26956 16.8683 5.28534 16.7546L5.56007 14.8252C5.67376 14.0231 6.17269 13.3253 6.88952 12.959L10.7294 10.9979C11.0515 10.8337 11.1778 10.4422 11.0168 10.1232C10.8905 9.87376 10.6221 9.73482 10.3442 9.77271L5.64534 10.4453C5.04851 10.5306 4.44537 10.3632 3.97801 9.98113L2.41489 8.70221C2.15595 8.49064 2.1149 8.10854 2.32647 7.8496C2.42436 7.72961 2.56331 7.65066 2.71488 7.63171L6.72531 7.11383C7.12951 7.06331 7.48003 6.81384 7.66318 6.45069L9.68418 2.42132Z",fill:`url(#${a})`})]})]})]}),(0,i.FD)("defs",{children:[(0,i.FD)("linearGradient",{id:s,x1:"10.1547",y1:"1.70752",x2:"10.1547",y2:"17.9134",gradientUnits:"userSpaceOnUse",children:[(0,i.Y)("stop",{"stop-color":"#FFF0C2"}),(0,i.Y)("stop",{offset:"1","stop-color":"#FFEBBA"})]}),(0,i.FD)("linearGradient",{id:r,x1:"10.2842",y1:"2.92009",x2:"14.7304",y2:"17.4713",gradientUnits:"userSpaceOnUse",children:[(0,i.Y)("stop",{"stop-color":"#FFD147"}),(0,i.Y)("stop",{offset:"1","stop-color":"#FFB526"})]}),(0,i.FD)("linearGradient",{id:a,x1:"10.1547",y1:"1.26556",x2:"14.0546",y2:"18.3525",gradientUnits:"userSpaceOnUse",children:[(0,i.Y)("stop",{"stop-color":"#E58F0D"}),(0,i.Y)("stop",{offset:"1","stop-color":"#EB7814"})]}),(0,i.Y)("clipPath",{id:"clip0_4913_7387",children:(0,i.Y)("rect",{width:"20",height:"20",fill:"white"})})]})]})}function u({randomId:e}){return(0,i.FD)("svg",{className:o.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",children:[(0,i.Y)("defs",{children:(0,i.FD)("linearGradient",{id:e,x1:"3",y1:"63.5001",x2:"84.1475",y2:"-1.32262",gradientUnits:"userSpaceOnUse",children:[(0,i.Y)("stop",{"stop-color":"#6B93FF"}),(0,i.Y)("stop",{offset:"0.439058","stop-color":"#976FFF"}),(0,i.Y)("stop",{offset:"1","stop-color":"#E46ACE"})]})}),(0,i.Y)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:c,fill:`url(#${e})`})]})}function l(){return(0,i.Y)("svg",{className:o.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",children:(0,i.Y)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:c,fill:"var(--color-fill)"})})}const f=(0,s.ph)(({type:e="regular",size:t="small",className:n,style:s,onClick:c})=>{const f=`svg-${(0,a.A)()}`;return(0,i.Y)("i",{onClick:c,className:(0,r.A)("StarIcon",o.root,n,c&&o.clickable,o[t]),style:s,children:(()=>{switch(e){case"gold":return(0,i.Y)(d,{randomId:f});case"premium":return(0,i.Y)(u,{randomId:f});default:return(0,i.Y)(l,{})}})()})})},9705(e,t,n){"use strict";n.d(t,{A:()=>s});class s{constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}static resolved(e){const t=new s;return t.resolve(e),t}}},9716(e,t,n){"use strict";n.d(t,{A2:()=>i,L8:()=>a,QE:()=>o,hy:()=>c});var s=n(31481),r=n(8366);function a(e){return!e.startsWith("-")}function o(e){const t=BigInt(e);return String(-s.OkV-t)}function i(e){const t=BigInt(e);return a(e)?t:BigInt(e)<-s.OkV?-t-s.OkV:-1n*t}function c(e){return(0,r.S)(i(e))}},9935(e,t,n){"use strict";n.d(t,{f:()=>d,iB:()=>g,q2:()=>c,xE:()=>u});var s=n(31481);const r=new Set(["scroll","mouseenter","mouseleave","load","error"]),a={},o={},i=new Map;function c(e,t,n,s=!1){const r=u(t,e);l(r,e,s)?function(e,t,n){a[e]||(a[e]=0,document.addEventListener(e,p)),function(e){return o[e]||(o[e]=new Map),o[e]}(e).set(t,n),function(e){const t=i.get(e);if(t)return t;const n=new Set;return i.set(e,n),n}(t).add(e),a[e]++}(r,e,n):e.addEventListener(r,n,s)}function d(e,t,n,s=!1){const r=u(t,e);l(r,e,s)?f(r,e):e.removeEventListener(r,n,s)}function u(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function l(e,t,n){return!n&&!r.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function f(e,t){a[e]--,a[e]||document.removeEventListener(e,p),o[e].delete(t),i.get(t).delete(e)}function g(e){const t=i.get(e);t&&(t.forEach(t=>f(t,e)),i.delete(e))}function p(e){const t=o[e.type];if(t){let n=!1,s=e.target;const r=()=>{n=!0},a=()=>{e.preventDefault()},o=new Proxy(e,{get:(e,t)=>"currentTarget"===t?s:"stopPropagation"===t||"stopImmediatePropagation"===t?r:"preventDefault"===t?a:Reflect.get(e,t)});for(;s&&s!==document.body;){const e=t.get(s);if(e&&(e(o),n))return;s=s.parentNode}}}s.Oig&&document.addEventListener("dblclick",()=>{const e=Object.keys(a).length,t=Object.values(a).reduce((e,t)=>e+t,0),n=Object.keys(o).length,s=Object.values(o).reduce((e,t)=>e+t.size,0),r=i.size,c=Array.from(i.values()).reduce((e,t)=>e+t.size,0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:s,delegatedEventTypesCount:c,delegationRegistriesCount:n,delegationElementsCount:r,documentListenersCount:e})})},10315(e,t,n){"use strict";n.d(t,{N:()=>o});var s=n(31481);const r=new Set(["text/html","image/svg+xml"]),a=new Set([...s.c59,"htm","html","svg","m4v","m3u","m3u8","xhtml","xml"]);function o({mimeType:e,extension:t}){return!(!e||!r.has(e))||!!a.has(t)}},10328(e,t,n){"use strict";n.d(t,{A:()=>o});var s=n(84051),r=n(66644),a=n(17712);const o=(e,t,n,o,i)=>{const[c,d]=(0,s.J0)(-1);return(0,s.vJ)(()=>{d(-1);const n=e.current;t&&n&&!i&&((0,r.RK)(()=>{n.tabIndex=-1}),(0,r.YS)(()=>n.focus()))},[e,t,i]),(0,a.A)(t=>{const s=e.current;if(!s)return;if(13===t.keyCode&&n)return void n(c);if(38!==t.keyCode&&40!==t.keyCode)return;const r=document.activeElement,a=Array.from(o?s.querySelectorAll(o):s.children);let i=r&&a.indexOf(r)||c;if(38===t.keyCode&&i>0)i--;else if(40===t.keyCode&&i<a.length-1)i++;else{if(1!==a.length)return;i=0}const u=a[i];u&&(d(i),u.focus())})}},11116(e,t,n){"use strict";n.d(t,{BU:()=>o,Ny:()=>a,Tk:()=>r,tX:()=>s});const s=5,r=32,a=/^[a-zA-Z]\w+$/;function o(e,t){const n=t?s:3;return e.length>=n&&e.length<=r&&a.test(e)}},11117(e,t,n){"use strict";var s=n(37932),r=n(89925),a=n(66644),o=n(96454),i=n(61182),c=n(14487),d=n(6e4),u=n(21687),l=n(71322),f=n(74065),g=n(24021),p=n(188),h=n(13439),m=n(68873),y=n(32989),b=n(91048),_=n(30708);let v;(0,s.DW)(e=>{const{updatePageTitle:t,updateShouldDebugExportedSenders:n,updateShouldEnableDebugLog:s}=(0,h.ko)(),r=v;if(v=e,!r)return;const i=(0,_.lS)(r),c=(0,_.lS)(e),p=c.performance,y=i.performance,w=e.peerColors,I=r.peerColors;if(w&&w!==I&&(0,f.En)(w.general),p!==y&&(0,a.RK)(()=>{(0,u.u)(p)}),c.theme!==i.theme){const t=!!document.hasFocus()&&(0,b.PKK)(e);(0,l.A)(c.theme,t)}c.language!==i.language&&(0,d.wT)(c.language),c.timeFormat!==i.timeFormat&&(0,d.bV)(c.timeFormat),c.messageTextSize!==i.messageTextSize&&(document.documentElement.style.setProperty("--composer-text-size",`${Math.max(c.messageTextSize,o.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*c.messageTextSize)}px`),document.documentElement.style.setProperty("--message-text-size",`${c.messageTextSize}px`),document.documentElement.setAttribute("data-message-text-size",c.messageTextSize.toString())),c.canDisplayChatInTitle!==i.canDisplayChatInTitle&&t(),c.shouldForceHttpTransport!==i.shouldForceHttpTransport&&(0,g.px)("setForceHttpTransport",Boolean(c.shouldForceHttpTransport)),c.shouldAllowHttpTransport!==i.shouldAllowHttpTransport&&((0,g.px)("setAllowHttpTransport",Boolean(c.shouldAllowHttpTransport)),!c.shouldAllowHttpTransport&&c.shouldForceHttpTransport&&(e=(0,m.qoo)(e,{shouldForceHttpTransport:!1}),(0,h.UF)(e))),c.shouldDebugExportedSenders!==i.shouldDebugExportedSenders&&n(),c.shouldCollectDebugLogs!==i.shouldCollectDebugLogs&&s()}),(0,h.aJ)("updateShouldEnableDebugLog",e=>{(0,_.lS)(e).shouldCollectDebugLogs?((0,g.eu)(!0),(0,i.fw)()):((0,g.eu)(!1),(0,i.pF)())}),(0,h.aJ)("updateShouldDebugExportedSenders",e=>{const t=(0,_.lS)(e);(0,g.px)("setShouldDebugExportedSenders",Boolean(t.shouldDebugExportedSenders))}),(0,h.aJ)("setSettingOption",(e,t,n)=>(0,m.qpc)(e,n)),(0,h.aJ)("setSharedSettingOption",(e,t,n)=>(0,m.qoo)(e,n)),(0,h.aJ)("updatePerformanceSettings",(e,t,n)=>{const s=(0,_.lS)(e);return(0,m.qoo)(e,{performance:{...s.performance,...n},wasAnimationLevelSetManually:!0})}),(0,h.aJ)("setThemeSettings",(e,t,n)=>{const{theme:s,...r}=n;return(0,m.KyT)(e,s,r)}),(0,h.aJ)("requestNextFoldersAction",(e,t,n)=>{const{foldersAction:s,tabId:r=(0,c.g0)()}=n;return(0,y.w)(e,{nextFoldersAction:s},r)}),(0,h.aJ)("openLeftColumnContent",(e,t,n)=>{const{contentKey:s=r.Bn.ChatList,tabId:a=(0,c.g0)()}=n,o=(0,b.nTw)(e,a);return(0,y.w)(e,{leftColumn:{...o.leftColumn,contentKey:s}},a)}),(0,h.aJ)("openSettingsScreen",(e,t,n)=>{const{screen:s,tabId:a=(0,c.g0)()}=n,o=(0,b.nTw)(e,a);return t.loadPrivacySettings({skipIfCached:!0}),void 0!==n.screen&&t.openLeftColumnContent({contentKey:r.Bn.Settings,tabId:a}),(0,y.w)(e,{leftColumn:{...o.leftColumn,settingsScreen:s||r.VS.Main}},a)}),(0,h.aJ)("openEditChatFolder",(e,t,n)=>{const{folderId:s,isOnlyInvites:a,tabId:o=(0,c.g0)()}=n,i=(0,b.$aQ)(e,s);i&&(t.openSettingsScreen({screen:a?r.VS.FoldersEditFolderInvites:r.VS.FoldersEditFolderFromChatList,tabId:o}),t.requestNextFoldersAction({foldersAction:{type:"editFolder",payload:i},tabId:o}))}),(0,h.aJ)("openShareChatFolderModal",(e,t,n)=>{const{folderId:s,url:a,noRequestNextScreen:o,tabId:i=(0,c.g0)()}=n,d=(0,b.$aQ)(e,s),u=d?.isChatList;if(!u||o)return o||t.openSettingsScreen({screen:r.VS.FoldersShare,tabId:i}),(0,y.w)(e,{shareFolderScreen:{folderId:s,isFromSettings:Boolean(o),url:a}},i);t.openEditChatFolder({folderId:s,isOnlyInvites:!0,tabId:i})}),(0,h.aJ)("closeShareChatFolderModal",(e,t,n)=>{const{tabId:s=(0,c.g0)()}=n||{};return t.openSettingsScreen({screen:void 0,tabId:s}),(0,y.w)(e,{shareFolderScreen:void 0},s)}),(0,h.aJ)("openPasskeyModal",(e,t,n)=>{const{tabId:s=(0,c.g0)()}=n||{};return(0,y.w)(e,{isPasskeyModalOpen:!0},s)}),(0,p.k)("closePasskeyModal","isPasskeyModalOpen")},11217(e,t,n){"use strict";n.d(t,{Q:()=>a});var s=n(96454),r=n(17712);function a(e){const t=(0,r.A)(t=>{"mousedown"===t.type&&t.button!==s.w3.Main||e(t)});return s.TF?{handleClick:e?t:void 0}:{handleMouseDown:e?t:void 0}}},11778(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(52674);function r(e){return(0,s.A)({onEsc:e})}},13235(e,t,n){"use strict";n.d(t,{Yf:()=>i,bc:()=>a,dR:()=>o,hE:()=>d,m:()=>r,tI:()=>c});var s=n(31481);const r=100,a=50,o={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,4096],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140],chatlistInvites:[3,100],chatlistJoined:[2,20],recommendedChannels:[10,100],savedDialogsPinned:[5,100],maxReactions:[1,3],moreAccounts:[3,s.ACj]},i=4096,c=128,d={hash:0,limits:{uploadMaxFileparts:o.uploadMaxFileparts,stickersFaved:o.stickersFaved,savedGifs:o.savedGifs,dialogFiltersChats:o.dialogFiltersChats,dialogFilters:o.dialogFilters,dialogFolderPinned:o.dialogFolderPinned,captionLength:o.captionLength,channels:o.channels,channelsPublic:o.channelsPublic,aboutLength:o.aboutLength,chatlistInvites:o.chatlistInvites,chatlistJoined:o.chatlistJoined,recommendedChannels:o.recommendedChannels,savedDialogsPinned:o.savedDialogsPinned,moreAccounts:o.moreAccounts,maxReactions:o.maxReactions},autologinDomains:["instantview.telegram.org","translations.telegram.org","contest.dev","contest.com","bugs.telegram.org","suggestions.telegram.org","themes.telegram.org","promote.telegram.org","ads.telegram.org"],channelLevelMax:100,boostsPerSentGift:3,channelRestrictAdsLevelMin:50,seenByExpiresAt:604800,seenByMaxChatMembers:100,defaultEmojiStatusesStickerSetId:"773947703670341676",emojiSounds:{},giveawayAddPeersMax:10,giveawayBoostsPerPremium:4,giveawayCountriesMax:10,isGiveawayGiftsPurchaseAvailable:!1,groupTranscribeLevelMin:6,hiddenMembersMinCount:100,ignoreRestrictionReasons:[],canLimitNewMessagesWithoutPremium:!1,readDateExpiresAt:604800,premiumBotUsername:"PremiumBot",premiumPromoOrder:["stories","more_upload","double_limits","last_seen","voice_to_text","faster_download","translations","animated_emoji","emoji_status","saved_tags","profile_badge","message_privacy","advanced_chat_management","no_ads","infinite_reactions","animated_userpics","premium_stickers","effects"],isPremiumPurchaseBlocked:!1,maxUniqueReactions:11,starGiftMaxConvertPeriod:7776e3,starGiftMaxMessageLength:255,starRefStartPrefixes:["_tgr_"],isStarsGiftEnabled:!0,paidReactionMaxAmount:2500,starsUsdWithdrawRateX1000:1300,storyChangelogUserId:"777000",maxPinnedStoriesCount:3,starsSuggestedPostAmountMax:1e5,starsSuggestedPostAmountMin:5,starsSuggestedPostAgeMin:86400,starsSuggestedPostFutureMin:300,starsSuggestedPostFutureMax:2678400,starsSuggestedPostCommissionPermille:850,tonSuggestedPostCommissionPermille:850,todoItemLengthMax:64,todoItemsMax:30,todoTitleLengthMax:32,tonSuggestedPostAmountMax:1e13,tonSuggestedPostAmountMin:1e7,tonTopupUrl:"https://fragment.com/ads/topup",storyViewersExpirePeriod:86400,topicsPinnedLimit:5,bandwidthPremiumDownloadSpeedup:10,bandwidthPremiumNotifyPeriod:3600,bandwidthPremiumUploadSpeedup:10,urlAuthDomains:["web.telegram.org","web.t.me","k.t.me","z.t.me","a.t.me"],whitelistedDomains:["telegram.dog","telegram.me","telegram.org","t.me","telesco.pe","fragment.com","translations.telegram.org"],typingDraftTtl:10,arePasskeysAvailable:!0,passkeysMaxCount:5}},13439(e,t,n){"use strict";n.d(t,{EK:()=>u,UF:()=>a,aJ:()=>c,br:()=>d,ko:()=>o,mS:()=>r,pv:()=>i});const s=(0,n(37932).cl)(),r=s.getGlobal,a=s.setGlobal,o=s.getActions,i=s.getPromiseActions,c=s.addActionHandler,d=s.execAfterActions,u=s.withGlobal},14235(e,t,n){"use strict";function s(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}function r(){return Date.now()%1e8+Math.floor(1e3*Math.random())}n.d(t,{A:()=>s,t:()=>r})},14242(e,t,n){"use strict";n.d(t,{Qh:()=>d,Sm:()=>o,Vw:()=>i,l9:()=>c,v7:()=>l});var s=n(16120),r=n(24282),a=n(43336);function o(e){return String(e).replace(/\d(?=(\d{3})+$)/g,"$& ")}function i(e,t){return t<1e3?e.number(t):t<1e6?`${e.number((0,a.RI)(t/1e3,1))}K`:`${e.number((0,a.RI)(t/1e6,1))}M`}function c(e,t=1){return`${Number.isInteger(e)?e:e.toFixed(t)}%`}const d=(0,n(19314).A)((e,t=2)=>e.replace(/[.,!@#$%^&*()_+=\-`~[\]/\\{}:"|<>?]+/gi,"").trim().split(/\s+/).slice(0,t).map(e=>{if(!e.length)return"";const t=(e=(0,r.A)(e)).match(s.A);return t&&e.startsWith(t[0])?t[0]:e.match(/./u)[0].toUpperCase()}).join("")),u=["B","KB","MB","GB"];function l(e,t,n=1){if(0===t)return e("MediaSizeB",{size:0},{pluralValue:0});const s=Math.floor(Math.log(t)/Math.log(1024)),r=t/1024**s,a=r.toFixed(Math.max(n,0));return e(`MediaSize${u[s]}`,{size:a},{pluralValue:r})}},14487(e,t,n){"use strict";n.d(t,{I:()=>k,T_:()=>M,UJ:()=>I,VS:()=>T,ZQ:()=>C,g0:()=>A,gb:()=>P,ve:()=>x,wr:()=>E});var s=n(63495),r=n(46536),a=n(4350),o=n(70934),i=n(9705);const{addCallback:c,runCallbacks:d}=(0,r.h)(),{addCallback:u,runCallbacks:l}=(0,r.h)(),f=Number(Math.random().toString().substring(2)),g=new Set([f]),p=new BroadcastChannel(a.a9);let h=!1;const m=new i.A;let y,b,_=!1,v=!1;const w=({data:e})=>{if(e){if(e.currentPasscodeHash&&(0,o.tn)(e.currentPasscodeHash),e.hasGaveUpMaster&&_)return y=f,_=!1,m.resolve(),void d(!0);if(e.shouldGiveUpMaster)return y===f&&(d(!1),p.postMessage({currentPasscodeHash:(0,o.dl)(),hasGaveUpMaster:!0})),void(y=e.masterToken);if(e.tokenDied&&(l(e.tokenDied),g.delete(e.tokenDied),e.tokenDied===y&&(g.delete(e.tokenDied),y=void 0,h=!1,b=e.tokenDied,p.postMessage({collectedTokens:g,masterToken:y,reestablishToken:b}),1===g.size&&(h=!0,y=f,b=void 0,m.resolve(),d(!0)))),e.collectedTokens){if(!e.reestablishToken&&b)return;e.reestablishToken&&b!==e.reestablishToken&&(e.collectedTokens.delete(e.reestablishToken),b=e.reestablishToken);const t=g.size;e.collectedTokens.forEach(e=>g.add(e)),b&&e.collectedTokens.delete(b),h?e.masterToken||p.postMessage({collectedTokens:g,masterToken:y,reestablishToken:b}):e.masterToken?(b=void 0,y=e.masterToken,d(y===f),h||p.postMessage({collectedTokens:g,masterToken:y,reestablishToken:b}),m.resolve(),h=!0):t!==g.size?p.postMessage({collectedTokens:g,masterToken:y,reestablishToken:b}):(b=void 0,y=Math.max(...Array.from(g)),d(y===f),h||p.postMessage({collectedTokens:g,masterToken:y,reestablishToken:b}),m.resolve(),h=!0)}}};function I(e){v||(p.addEventListener("message",w),p.postMessage({collectedTokens:g}),setTimeout(()=>{void 0===y?(y=f,m.resolve(),d(!0)):e&&k()},100),window.addEventListener("beforeunload",S),s.Vq&&window.addEventListener("unload",S))}function S(){v||(l(f),p.removeEventListener("message",w),p.postMessage({tokenDied:f,currentPasscodeHash:(0,o.dl)()}),p.close(),v=!0)}function C(){p.postMessage({currentPasscodeHash:(0,o.dl)()})}function A(){return f}function P(){return Array.from(g)}function k(){_=!0,p.postMessage({collectedTokens:g,masterToken:f,shouldGiveUpMaster:!0})}const T=u,E=c,M=m.promise;function x(){return y===f}},14745(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(14235);function a(){const e=(0,s.li)();return e.current||(e.current=(0,r.A)()),e.current}},15283(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);const r=function(e){(0,s.vJ)(e,[])}},16120(e,t,n){"use strict";n.d(t,{A:()=>o,a:()=>a});const s=/\uFE0F/g,r=String.fromCharCode(8205);function a(e){return e.indexOf(r)<0?e.replace(s,""):e}const o=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u26d3\ufe0f\u200d\ud83d\udca5|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udf44\u200d\ud83d\udfeb|\ud83c\udf4b\u200d\ud83d\udfe9|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc26\u200d\ud83d\udd25|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83d\ude42\u200d\u2194\ufe0f|\ud83d\ude42\u200d\u2195\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[Â©Â®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c\udfc3|\ud83d\udeb6|\ud83e\uddce)(?:\ud83c[\udffb-\udfff])?(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udf85\udfc2\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4\udeb5\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude89\ude8f-\udec2\udec6\udece-\udedc\udedf-\udee9]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},16350(e,t,n){"use strict";n.d(t,{CX:()=>C,Cb:()=>T,Kr:()=>I,Nl:()=>v,SJ:()=>A,We:()=>p,XU:()=>l,cz:()=>k,ec:()=>f,h7:()=>_,hO:()=>c,iW:()=>b,lt:()=>y,pW:()=>h,qw:()=>S,tN:()=>E,tP:()=>d,t_:()=>P,wi:()=>m,yK:()=>u});var s=n(31481),r=n(22986),a=n(87894),o=n(91048);const i=["active","archived"];function c(e,t,n){return{...e,chats:{...e.chats,listIds:{...e.chats.listIds,[t]:n}}}}function d(e,t,n,s,r){return{...e,chats:{...e.chats,loadingParameters:{...e.chats.loadingParameters,[t]:{nextOffsetId:n,nextOffsetPeerId:s,nextOffsetDate:r}}}}}function u(e,t,n,s){const r="saved"===s?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[r]:{...e.chats.lastMessageIds[r],[t]:n}}}}}function l(e,t,n){const s="saved"===n?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[s]:{...e.chats.lastMessageIds[s],...t}}}}}function f(e,t,n){const{[t]:s}=e.chats.listIds,r=s?.length?n.filter(e=>!s.includes(e)):n;return s&&!r.length?e:c(e,t,[...s||[],...r])}function g(e,t){return{...e,chats:{...e.chats,byId:t}}}function p(e,t,n,s,r=!1){const o=n.unreadMentions||[],i=(0,a.Am)([...o,...s]).sort((e,t)=>t-e);return e=m(e,t,{unreadMentions:i}),r&&(e=m(e,t,{unreadMentionsCount:(n.unreadMentionsCount||0)+Math.max(0,i.length-o.length)})),e}function h(e,t,n,s,r=!1){const a=n.unreadMentions||[],o=a?.filter(e=>!s.includes(e));if(e=m(e,t,{unreadMentions:o}),r&&n.unreadMentionsCount){const s=a.length-o.length;e=m(e,t,{unreadMentionsCount:Math.max(n.unreadMentionsCount-s,0)||void 0})}return e}function m(e,t,n,s=!1,o=!1){const{byId:i}=e.chats,c=i[t];if(o&&c){const t=Object.keys(n);if((0,r.T)((0,a.Up)(c,t),n))return e}const d=w(e,t,n,s);return d?g(e,{...i,[t]:d}):e}function y(e,t,n){const s=(0,o.AWZ)(e,t),a={...s,...n};return(0,r.T)(s,a)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:a}}}}function b(e,t,n){const s=(0,o.AWZ)(e,t);return(0,r.T)(s,n)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:n}}}}function _(e,t){const n=Object.keys(t).reduce((n,s)=>{const r=w(e,s,t[s]);return r&&(n[s]=r),n},{});return e=g(e,{...e.chats.byId,...n})}function v(e,t){const{byId:n}=e.chats;let s=!1;const r=Object.keys(t).reduce((r,a)=>{const o=n[a],i=t[a],c=!o?.membersCount&&i.membersCount;if(o&&!o.isMin&&!c&&(i.isMin||o.accessHash===i.accessHash))return r;const d=w(e,a,i);return d&&(r[a]=d,s||(s=!0)),r},{});return s?e=g(e,{...n,...r}):e}function w(e,t,n,s=!1){const{byId:o}=e.chats,i=o[t],c=[];if(n.isMin&&i&&!i.isMin)return;s||c.push("unreadReactionsCount"),(0,r.T)(i?.usernames,n.usernames)&&c.push("usernames");const d={...i,...(0,a.cJ)(n,c)};return d.id&&d.type?(0,a.Oy)(d):void 0}function I(e,t,n){const r=n===s._E9?"archived":"active";let a=e.chats.listIds;return Object.keys(a).forEach(e=>{const n=a[e]||[];e!==r||n.includes(t)?e!==r&&n.includes(t)&&(a={...a,[e]:n.filter(e=>e!==t)}):a={...a,[e]:[...n,t]}}),m(e={...e,chats:{...e.chats,listIds:a}},t,{folderId:n||void 0})}function S(e,t,n){const s="active"===t?"all":t;return{...e,chats:{...e.chats,...n.orderedPinnedIds&&{orderedPinnedIds:{...e.chats.orderedPinnedIds,[t]:n.orderedPinnedIds}},totalCount:{...e.chats.totalCount,[s]:n.totalChatCount}}}}function C(e,t){return y(e=m(e=A(e,t),t,{isNotJoined:!0}),t,{joinInfo:void 0})}function A(e,t,n="all"){return("all"===n?i:[n]).forEach(n=>{e=c(e,n,e.chats.listIds[n]?.filter(e=>e!==t))}),e}function P(e,t,n){const s=(0,o.AWZ)(e,t.id)?.members,r=new Set(n.map(e=>e.userId)),i=[...s?.filter(({userId:e})=>!r.has(e))||[],...n],c=s?.map(({userId:e})=>e)||[],d=i.map(({userId:e})=>e);if((0,a.k)(c,d))return e;const u=i.filter(({isAdmin:e,isOwner:t})=>e||t);return y(e,t.id,{members:i,adminMembersById:(0,a.dU)(u,"userId")})}function k(e,t,n,s){return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{similarChannelIds:n,count:s||n.length}}}}}function T(e,t){const n=e.chats.similarChannelsById[t];return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{...n,isExpanded:!n?.isExpanded}}}}}function E(e,t,n,s){return{...e,chats:{...e.chats,similarBotsById:{...e.chats.similarBotsById,[t]:{similarBotsIds:n,count:s}}}}}},16460(e,t,n){"use strict";function s(e,t){let n=0,s=0,r=e;for(;r&&r!==t&&!r.contains(t);)n+=r.offsetTop,s+=r.offsetLeft,r=r.offsetParent;return n-=t.clientTop,s-=t.clientLeft,{top:n,left:s}}n.d(t,{A:()=>s})},16581(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(37836);function a(e,t,n,a=!1,o=!1){const i=(0,s.hb)(e,t);return(0,s.Kr)(()=>(0,r.sg)(i,n,!a,!o),[i,n,a,o])}},16841(e,t,n){"use strict";n.d(t,{qK:()=>m,uX:()=>h,jj:()=>p,bJ:()=>g,J9:()=>u,sT:()=>c,vo:()=>i,vn:()=>l,md:()=>d});var s=n(57941),r=n(31481),a=n(42368);async function o(e,t,n,o){const i=function(){try{return(0,a.A)().getJwtToken()}catch(e){return void(0,s.R)("AUTH ERROR","Error loading JWT token:",e)}}();if(!i)throw new Error("JWT token not found. Please authenticate first.");const c=r.SbH||"";if(!c)throw new Error("Backend API URL not configured");const d=new URL(t,c);o&&Object.entries(o).forEach(([e,t])=>{d.searchParams.append(e,t)});const u={method:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}};!n||"POST"!==e&&"PUT"!==e||(u.body=JSON.stringify(n)),(0,s.R)("REQUEST",`${e} ${d.pathname}${d.search}`);try{const n=await fetch(d.toString(),u);if(!n.ok){const e=await n.text();let t=`HTTP ${n.status}: ${n.statusText}`;try{const n=JSON.parse(e);t=n.error||n.message||t}catch{e&&(t=e)}if(401===n.status)throw(0,s.R)("AUTH ERROR","Authentication failed (401):",t),function(){try{(0,a.A)().saveJwtTokenToSession(void 0)}catch(e){(0,s.R)("AUTH ERROR","Error deleting JWT token:",e)}}(),new Error(`Authentication failed: ${t}`);if(403===n.status)throw(0,s.R)("AUTH ERROR","Authentication failed (403):",t),new Error(`Authentication failed: ${t}`);throw(0,s.R)("BACKEND ERROR",t),new Error(t)}const r=await n.json();return(0,s.R)("RESPONSE",`Response from ${e} ${t}:`,r),r.success&&void 0!==r.data?r.data:r}catch(n){if((0,s.R)("BACKEND ERROR",`Failed to make ${e} request to ${t}:`,n),n instanceof Error)throw n;throw new Error(`Failed to make ${e} request to ${t}`)}}async function i(){(0,s.R)("REQUEST","Getting user details via REST API");const e=await o("GET","/telegram/me");return(0,s.R)("RESPONSE","User data:",e),e}async function c(e){(0,s.R)("REQUEST",`Getting highlights via REST API: timeframe=${e}`);const t=await o("GET","/telegram/highlights",void 0,{timeframe:e});return(0,s.R)("RESPONSE","Highlights:",t),t||[]}async function d(){const e=await o("GET","/telegram/threads");return{threads:e.threads||[],count:e.count||0}}async function u(e){(0,s.R)("REQUEST","Creating new thread via REST API");const t=await o("POST","/telegram/threads",{chatId:e||""});return(0,s.R)("RESPONSE","Thread created:",t),{id:t.id}}async function l(e){(0,s.R)("REQUEST",`Getting thread messages via REST API: threadId=${e}`);const t=await o("GET",`/telegram/threads/${encodeURIComponent(e)}/messages`);return(0,s.R)("RESPONSE","Thread messages:",t),{messages:t.messages||[],count:t.count||0}}async function f(e,t,n){const a=r.SbH||"";if(!a)throw new Error("Backend API URL not configured");const o=new URL(t,a),i={method:e,headers:{"Content-Type":"application/json"}};!n||"POST"!==e&&"PUT"!==e||(i.body=JSON.stringify(n)),(0,s.R)("REQUEST",`${e} ${o.pathname} (unauthenticated)`);try{const n=await fetch(o.toString(),i);if(!n.ok){const e=await n.text();let t=`HTTP ${n.status}: ${n.statusText}`;try{const n=JSON.parse(e);t=n.error||n.message||t}catch{e&&(t=e)}throw(0,s.R)("BACKEND ERROR",t),new Error(t)}const r=await n.json();return(0,s.R)("RESPONSE",`Response from ${e} ${t}:`,r),r.success&&void 0!==r.data?r.data:r}catch(n){if((0,s.R)("BACKEND ERROR",`Failed to make ${e} request to ${t}:`,n),n instanceof Error)throw n;throw new Error(`Failed to make ${e} request to ${t}`)}}async function g(){(0,s.R)("REQUEST","Creating login token via REST API");const e=await f("POST","/telegram/login-tokens");return(0,s.R)("RESPONSE","Login token created:",e),e}async function p(e){(0,s.R)("REQUEST",`Consuming login token via REST API: token=${e.substring(0,8)}...`);const t=await f("POST",`/telegram/login-tokens/${encodeURIComponent(e)}/consume`);return(0,s.R)("RESPONSE","Login token consumed, JWT received"),t}async function h(){return o("GET","/auth/notion/connect")}async function m(){return o("GET","/auth/google/connect")}},17142(e,t,n){"use strict";n.d(t,{Ad:()=>u,C:()=>d,UL:()=>a,tT:()=>i,vv:()=>c,wD:()=>o});var s=n(31481),r=n(48775);function a(e,t){return e/10**l(t)}function o(e){return a(e,s.ykW)}function i(e){return e*10**l(s.ykW)}function c(e,t,n,o){const i=a(t,n);return n===s.OUy?(0,r.U2)(e,i,{asFont:o?.asFontIcon,className:o?.iconClassName}):n===s.ykW?(0,r.Ms)(e,i,{className:o?.iconClassName}):u(t,n,e.code,o)}function d(e,t,n=!1){return(n?o(e):e)*t*100}function u(e,t,n="en",r){const o=a(e,t);return(r?.shouldOmitFractions||t===s.OUy)&&Number.isInteger(o)?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(o):t===s.ykW?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:10}).format(o):new Intl.NumberFormat(n,{style:"currency",currency:t}).format(o)}function l(e){return e===s.ykW?9:"CLF"===e?4:["BHD","IQD","JOD","KWD","LYD","OMR","TND"].includes(e)?3:["BIF","BYR","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","MGA","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF",s.OUy].includes(e)?0:"MRO"===e?1:2}},17237(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(16120),r=n(24282);function a(e){const t=(0,r.A)(e).split("\n"),n=t.join("");if(n.length>800)return!1;const s=o(n);if(!s||s>100)return!1;let a=t.length;for(const e of t){const t=o(e);if(!1===t)return!1;t>a&&(a=t)}return a}function o(e){const t=e.matchAll(s.A);let n=0,r=0;for(const e of t){if(e.index!==r)return!1;n++,r=e.index+e[0].length}return r===e.length&&n}},17567(e,t,n){"use strict";function s(e,t){return{...e,auth:{...e.auth,...t}}}n.d(t,{K:()=>s})},17663(e,t,n){"use strict";n.d(t,{$$:()=>f,A:()=>R,A$:()=>N,BR:()=>$,CS:()=>l,F5:()=>P,IF:()=>w,JW:()=>M,L2:()=>B,Lu:()=>m,QO:()=>E,Rm:()=>L,TI:()=>F,U:()=>U,be:()=>h,cK:()=>d,dq:()=>v,e0:()=>A,fS:()=>T,fU:()=>p,i6:()=>y,il:()=>c,jy:()=>I,pU:()=>u,vm:()=>S,w6:()=>_,wv:()=>k,zA:()=>C,zt:()=>b});var s=n(80140),r=n(19314),a=n(21309);const o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>e.toLowerCase()),c=864e5;function d(e){return l(new Date)===l(e)}function u(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function l(e){return u(e).getTime()}function f(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${t.getMonth()}`}function g(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function p(e,t){const n="number"==typeof t?new Date(t):t,s=e.timeFormat||"24h";let r=n.getHours(),a="";return"12h"===s&&(a=r>=12?"Â PM":"Â AM",r=r>12?r%12:r),`${String(r).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}${a}`}function h(e,t,n=!1){const s="number"==typeof t?new Date(t):t,r=p(e,s),a=u(new Date);if(s>=a)return r;const i=new Date(a);if(i.setDate(a.getDate()-7),s>=i){const t=e(`Weekday.Short${o[s.getDay()]}`);return n?e("FullDateTimeFormat",[t,r]):t}const c=s.getFullYear()===a.getFullYear(),d=R(s,e.code,c);return n?e("FullDateTimeFormat",[d,r]):d}function m(e,t){return R(t,e.code,!1,"numeric")}function y(e,t,n=!1){return R(t,e.code,!1,n?"short":"long",!0)}function b(e,t){const n=(0,a._k)(t);if(t<0)return 0;if(n<1)return E(t);if(n<7)return e("Days",{count:n},{pluralValue:n});if(n<30){const t=Math.floor(n/7);return e("Weeks",{count:t},{pluralValue:t})}if(n<365){const t=Math.floor(n/30);return e("Months",{count:t},{pluralValue:t})}{const t=Math.floor(n/365);return e("Years",{count:t},{pluralValue:t})}}function _(e,t){if(t<7)return e("Days",{count:t},{pluralValue:t});if(t<30){const n=Math.floor(t/7);return e("Weeks",{count:n},{pluralValue:n})}if(t<360){const n=Math.floor(t/30);return e("Months",{count:n},{pluralValue:n})}{const n=Math.floor(t/360);return e("Years",{count:n},{pluralValue:n})}}function v(e,t){return t<6e4?Math.ceil(t/1e3).toString():t<36e5?Math.ceil(t/6e4).toString():t<c?e("MessageTimer.ShortHours",Math.ceil(t/36e5)):e("MessageTimer.ShortDays",Math.ceil(t/c))}function w(e,t,n=t){const s=t-n;return s<60?e("LiveLocationUpdated.JustNow"):s<3600?e("LiveLocationUpdated.MinutesAgo",Math.floor(s/60)):e("LiveLocationUpdated.TodayAt",p(e,n))}function I(e,t,n=t){const s=t-n;if(s<60)return e("Time.JustNow");if(s<3600)return e("Time.MinutesAgo",Math.floor(s/60));const r=new Date(1e3*n),a=u(new Date);if(r>=a)return e("Time.TodayAt",p(e,r));const o=new Date(a);return o.setDate(a.getDate()-1),r>o?e("Time.YesterdayAt",p(e,r)):e("Time.AtDate",m(e,r))}function S(e,t,n=(0,s.Fm)()){const r=n-t,o=(0,a.Os)(r),i=(0,a.qZ)(r),c=(0,a._k)(r);return r<60?e("JustNowAgo"):o<60?e("MinutesAgo",{count:o},{pluralValue:o}):i<24?e("HoursAgo",{count:i},{pluralValue:i}):c<28?e("DaysAgo",{count:c},{pluralValue:c}):e("AtDateAgo",{date:m(e,t)})}function C(e,t,n=2){if(!t)return;const s=[],r=[{multiplier:1,type:"Seconds"},{multiplier:60,type:"Minutes"},{multiplier:60,type:"Hours"},{multiplier:24,type:"Days"},{multiplier:7,type:"Weeks"}];let a=1;r.forEach((e,n)=>{if(a*=e.multiplier,t<a)return;const o=r[n===r.length-1?n:n+1].multiplier;s.push({duration:Math.floor(t/a%o),type:e.type})});const o=s.slice(-n).reverse();for(let e=o.length-1;e>=0;--e)0===o[e].duration&&o.splice(e,1);return o.map(t=>e(t.type,t.duration,"i")).join(", ")}function A(e,t,n){return t("FormatDateAtTime",{date:d(new Date(1e3*e))?t("WeekdayToday"):P(n,1e3*e,!0,!1,!0),time:p(n,1e3*e)})}function P(e,t,n=!1,s=!1,r){const a="number"==typeof t?new Date(t):t,o=u(new Date);if(!s){if(g(a)===g(o))return(r||!n?V:O)(e("Weekday.Today"));const t=new Date(o);if(t.setDate(o.getDate()-1),g(a)===g(t))return(r||!n?V:O)(e("Weekday.Yesterday"));const s=new Date(o);s.setDate(o.getDate()-6);const i=new Date(o);if(i.setDate(o.getDate()+6),a>=s&&a<=i)return(r||!n?V:O)(k(e,a.getDay(),n))}const i=a.getFullYear()===o.getFullYear();return(r||!n?V:O)(R(a,e.code,i,n?"short":"long"))}function k(e,t,n=!1){const s=o[t];return e(n?`Weekday.Short${s}`:`Weekday.${s}`)}function T(e,t,n){const s="number"==typeof t?new Date(t):t;return`${P(e,s,!0,void 0,n)}, ${p(e,s)}`}function E(e,t){const n=Math.floor(e/3600),s=Math.floor(e%3600/60),r=Math.floor(e%3600%60),a=t?Math.floor(t/3600):0,o=t?Math.floor(t%3600/60):0;let i="";return n>0||a>0?(i+=`${String(n).padStart(2,"0")}:`,i+=`${String(s).padStart(2,"0")}:`):i+=o>=10?`${String(s).padStart(2,"0")}:`:`${String(s)}:`,i+=String(r).padStart(2,"0"),i}function M(e){const t=[];let n=e%1e3;e-=n,n=Math.floor(n/10);const s=(e=Math.floor(e/1e3))%60;e-=s;const r=(e=Math.floor(e/60))%60;e-=r;const a=(e=Math.floor(e/60))%60;return a>0&&t.push(String(a).padStart(2,"0")),t.push(String(r).padStart(a>0?2:1,"0")),t.push(String(s).padStart(2,"0")),`${t.join(":")},${String(n).padStart(2,"0")}`}const x=(0,r.A)((e,t,n,s="short",r)=>new Date(e).toLocaleString(t,{year:n?void 0:"numeric",month:s,day:r?void 0:"numeric"}));function R(e,t="en-US",n=!1,s="short",r=!1){const a=l("number"==typeof e?new Date(e):e);return x(a,t,n,s,r)}function B(e,t="en-US",n,s,r){return("number"==typeof e?new Date(e):e).toLocaleString(t,{year:r?void 0:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:n?void 0:"numeric",hourCycle:"12h"===s?"h12":"h23"})}function U(e,t){const n="number"==typeof t?new Date(t):t,s=u(new Date),r=p(e,n);if(g(n)===g(s))return e("Time.TodayAt",r);const a=new Date(s);if(a.setDate(s.getDate()-1),g(n)===g(a))return e("Time.YesterdayAt",r);const o=n.getFullYear()===s.getFullYear();return e("formatDateAtTime",[R(n,e.code,o),r])}function N(e,t,n){if(t<0)return e("RightNow");if(t<60)return e("Seconds",{count:Math.ceil(t)},{pluralValue:t});if(t<3600){const n=Math.ceil(t/60);return e("Minutes",{count:n},{pluralValue:n})}if(t<86400||n&&t<=172800){const n=Math.ceil(t/3600);return e("Hours",{count:n},{pluralValue:n})}const s=Math.ceil(t/86400);return e("Days",{count:s},{pluralValue:s})}function D(e,t,n=2021){if(t>11||e>31)return!1;const s=new Date(n,t,e);return!Number.isNaN(s.getTime())&&s.getDate()===e}function L(e=""){const t=e.match(/\d{1,2}\s[a-zA-Z]{3,}/),n=e.match(/[a-zA-Z]{3,}\s\d{1,2}/),s=e.match(/\d{1,2}[./-]\d{1,2}([./-]\d{2,4})?/);if(!t&&!s&&!n)return;if(s){const[t,n,s]=e.split(/[./-]/).map(Number);return s&&s<2015||!D(t,n-1,s||void 0)?void 0:`${s?`${s}-`:""}${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`}const r=e.split(" "),a=t?r[0]:r[1],o=(t?r[1]:r[0]).toLowerCase(),c=i.findIndex(e=>e.startsWith(o));return-1!==c&&D(Number(a),c)?`${String(c+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`:void 0}function F(e){return e+c/1e3}function O(e){return`${e[0].toLowerCase()}${e.slice(1)}`}function V(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function $(e,t){const[n,s]=t.split("."),r=new Date(`${s}-${n}`);return new Intl.DateTimeFormat(e,{month:"long",year:"numeric"}).format(r)}},17712(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(41257);function a(e){const t=(0,r.i)(e);return(0,s.hb)((...e)=>t.current?.(...e),[])}},18104(e,t,n){"use strict";n.d(t,{A:()=>C});var s=n(84051),r=n(66644),a=n(88458),o=n(63495),i=n(87357),c=n(95807),d=n(48894),u=n(14235),l=n(37479),f=n(82117),g=n(37661),p=n(84080),h=n(17712),m=n(34780),y=n(46637),b=n(41257),_=n(35297),v=n(672),w=n(14745),I=n(61157),S=n(20021);const C=(0,s.ph)(({ref:e,renderId:t,className:n,style:C,tgsUrl:P,play:k,playSegment:T,speed:E,noLoop:M,size:x,quality:R,isLowPriority:B,color:U,forceAlways:N,forceOnHeavyAnimation:D,sharedCanvas:L,sharedCanvasCoords:F,onClick:O,onMouseEnter:V,onMouseLeave:$,onLoad:G,onEnded:j,onLoop:q})=>{let z=(0,s.li)();e&&(z=e);const W=(0,w.A)(),[H,K]=(0,s.J0)(),Y=(0,s.li)(),J=(0,s.li)(!0),X=!L&&U,Q=(0,l.A)(X?U:void 0),Z=k||!1!==k&&T,ee=(0,b.i)(k),te=(0,b.i)(T),ne=(0,s.li)(),se=N||D,[re,ae,oe]=(0,g.A)(!(0,s.OV)()||se);(0,p.Ay)(oe,ae,se),(0,s.vJ)(()=>{se&&ae()},[se]),(0,_.A)(()=>{if(U&&!X){const{r:e,g:t,b:n}=(0,d.hF)(U);ne.current=[e,t,n]}else ne.current=void 0},[U,X]);const ie=(0,s.li)(!1);(0,s._W)(()=>{ie.current=!0});const ce=(0,h.A)(()=>{if(Y.current||ie.current||!P||L&&(!F||!L.offsetWidth||!L.offsetHeight)||(0,s.OV)()&&!se)return;const e=z.current||L;if(!e)return;const n=(0,a.o)().init(P,e,t||(0,u.A)(),{size:x,noLoop:M,quality:R,isLowPriority:B,coords:F},W,ne.current,G,j,q);E&&n.setSpeed(E),K(n),Y.current=n});(0,s.vJ)(()=>{re&&((0,a.o)()?ce():(0,a.Y)().then(ce))},[ce,P,L,F,re]);const de=(0,v.A)(ce,[ce],150);(0,y.A)(L,de),(0,s.vJ)(()=>{H?.setColor(ne.current)},[U,H]),(0,s.vJ)(()=>{"number"==typeof E&&H?.setSpeed(E)},[E,H]),(0,s._W)(()=>{Y.current?.removeView(W)});const ue=(0,h.A)((e=!1)=>{H&&(ee.current||te.current)&&!A(N)&&(te.current?H.playSegment(te.current,e,W):H.play(e,W))}),le=(0,h.A)(()=>{(0,r.YS)(ue)}),fe=(0,h.A)(()=>{H?.isPlaying()&&H.pause(W)});if((0,f.A)(([e])=>{void 0!==e&&M!==e&&H?.setNoLoop(M)},[M,H]),(0,f.A)(([e])=>{void 0!==e&&F!==e&&H?.setSharedCanvasCoords(W,F)},[F,W,H]),(0,s.vJ)(()=>{H&&(Z?A(N,D)||ue(M):fe())},[H,Z,M,ue,fe,N,D]),(0,s.vJ)(()=>{H&&(J.current?J.current=!1:P&&(H.changeData(P),ue()))},[ue,H,P]),(0,p.Ay)(fe,ue,!Z||se),(0,m.Ay)(fe,ue,!Z||N),(0,I.Ay)(fe,le,!Z||N),!L)return(0,S.Y)("div",{ref:z,className:(0,i.A)("AnimatedSticker",n),style:(0,c.A)(void 0!==x&&`width: ${x}px; height: ${x}px;`,O&&!o.Vq&&"cursor: pointer",Q,C),onClick:O,onMouseEnter:V,onMouseLeave:$})});function A(e=!1,t=!1){return!e&&(!t&&(0,s.OV)()||(0,m.c_)()||(0,I.g1)())}},18276(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(87357),r=n(20021);const a=({name:e,ref:t,className:n,style:a,role:o,ariaLabel:i,character:c,onClick:d})=>(0,r.Y)("i",{ref:t,className:(0,s.A)(`icon icon-${e}`,n),style:a,"aria-hidden":!i,"aria-label":i,"data-char":c,role:o,onClick:d})},18501(e,t,n){"use strict";n.d(t,{QY:()=>x,kf:()=>B,fd:()=>M});var s=n(13439),r=n(23174),a=n(87357),o=n(85982),i=n(58734),c=n(4961),d=n(56362),u=n(84051),l=n(57675),f=n(17712),g=n(18276);var p=n(20021);const h=({canBeCollapsible:e,isToggleDisabled:t,children:n})=>{const s=(0,u.li)(),{isCollapsed:o,isCollapsible:i,setIsCollapsed:c}=(0,l.A)(s,4,void 0,!e),d=!t&&o,h=(0,f.A)(()=>{c(!1)}),m=(0,f.A)(()=>{c(e=>!e)});return(0,p.Y)("span",{className:(0,a.A)("KU67Uur0",o&&"y_uRZXtA"),onClick:d?h:void 0,children:(0,p.FD)("blockquote",{className:"m3sD7_cn",ref:s,"data-entity-type":r.C7.Blockquote,children:[(0,p.Y)("div",{className:"JNVT2DU9",children:n}),i&&(0,p.Y)("div",{className:(0,a.A)("pyX4NpPB",!t&&"RmvXwV0W"),onClick:t?void 0:m,"aria-hidden":!0,children:(0,p.Y)(g.A,{name:o?"down":"up"})})]})})},m={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",python:"Python",py:"Python",go:"Go",rust:"Rust",func:"FunC",c:"C","c++":"C++",cpp:"C++",fortran:"Fortran",f90:"Fortran",f:"Fortran",java:"Java",sql:"SQL",swift:"Swift","objective-c":"Objective-C",kotlin:"Kotlin",ruby:"Ruby",rb:"Ruby",php:"PHP",perl:"Perl",bash:"Bash",sh:"Shell",markdown:"Markdown","c#":"C#",cs:"C#",json:"JSON",yaml:"YAML",yml:"YAML",solidity:"Solidity",sol:"Solidity",tl:"TL"};var y=n(56863),b=n(86070),_=n(59030),v=n(39751);const w=(0,u.ph)(({text:e,className:t,noCopy:n,onWordWrapToggle:r})=>{const{showNotification:i}=(0,s.ko)(),d=(0,u.li)(),l=(0,v.A)(),f=(0,_.A)(),[h,m]=(0,u.J0)(!0),[y,b]=(0,u.J0)(!1),w=(0,u.hb)(()=>{const t=(0,c.o)(e,d.current.parentElement);b(t)},[e]);(0,u.vJ)(()=>{h&&w()},[w,h,e,l]);const I=(0,u.hb)(()=>{(0,o.eM)(e),i({message:f("TextCopied")})},[f,i,e]),S=(0,u.hb)(()=>{m(!h),r?.(!h)},[h,r]),C=(0,a.A)("L95Dh7wN",!y&&n&&"zctwFUQ8"),A=(0,a.A)("pMUccFN9",t),P=(0,a.A)("a44ZN3hD",h&&"jq1KLfVD");return(0,p.Y)("div",{className:A,ref:d,children:(0,p.FD)("div",{className:C,children:[y&&(0,p.Y)("div",{className:P,onClick:S,title:"Word Wrap",children:(0,p.Y)(g.A,{name:"word-wrap"})}),!n&&(0,p.Y)("div",{className:"auCNtLQ4",onClick:I,title:f("Copy"),children:(0,p.Y)(g.A,{name:"copy"})})]})})}),I=(0,u.ph)(({text:e,language:t,noCopy:s})=>{const[o,i]=(0,u.J0)(!0),{result:c}=(0,y.A)(()=>t?Promise.all([n.e(6314),n.e(3325)]).then(n.bind(n,73325)).then(n=>n.default(e,t)):Promise.resolve(void 0),[t,e]),d=(0,u.hb)(e=>{i(e)},[]),l=(0,a.A)("code-block",!o&&"no-word-wrap");return(0,p.FD)(b.A,{className:"CodeBlock",children:[t&&(0,p.Y)("p",{className:"code-title",children:(f=t,m[f.toLowerCase()]??f)}),(0,p.FD)("pre",{className:l,"data-entity-type":r.C7.Pre,"data-language":t,children:[c??e,(0,p.Y)(w,{text:e,className:"code-overlay",onWordWrapToggle:d,noCopy:s})]})]});var f});var S=n(87412),C=n(84685),A=n(83868),P=n(37661);const k=new Map,T=(0,a.x)("Spoiler"),E=(0,u.ph)(({children:e,containerId:t})=>{const n=(0,u.li)(),[s,a]=(0,P.A)(),o=(0,f.A)(e=>{t&&(s||(0,A.A)(e),k.get(t)?.forEach(e=>e()))});return(0,u.vJ)(()=>{if(t)return k.has(t)?k.get(t).push(a):k.set(t,[a]),()=>{k.delete(t)}},[t]),(0,p.Y)("span",{className:T("&",!s&&"concealed",!s&&Boolean(t)&&"animated"),onClick:t&&!s?o:void 0,"data-entity-type":r.C7.Spoiler,children:(0,p.Y)("span",{className:T("content"),ref:n,children:e})})});function M({text:e,entities:t,highlight:n,emojiSize:o,shouldRenderAsHtml:u,containerId:l,asPreview:f,isProtected:g,observeIntersectionForLoading:m,observeIntersectionForPlaying:y,withTranslucentThumbs:b,sharedCanvasRef:_,sharedCanvasHqRef:v,cacheBuster:w,forcePlayback:A,noCustomEmojiPlayback:P,isInSelectMode:k,chatId:T,messageId:M,threadId:x,maxTimestamp:B}){if(!t?.length)return R({content:e,highlight:n,emojiSize:o,shouldRenderAsHtml:u,asPreview:f});const O=[];let V=!1;const $=function(e){const t=new Set,n=[];return e.forEach((s,r)=>{if(t.has(r))return;const a=U(s,r,e,t);a&&(a.organizedIndexes.forEach(e=>{t.add(e)}),n.push(a))}),n}(t);function G(t,U,O,$){const j=[],{entity:q,nestedEntities:z}=O,{offset:W,length:H,type:K}=q;let Y=e.substring(t,W);const J=Y.length;Y&&(V&&Y.length>0&&"\n"===Y[0]&&(Y=Y.substr(1),V=!1),Y&&j.push(...R({content:Y,highlight:n,emojiSize:o,shouldRenderAsHtml:u,asPreview:f})));const X=t+J,Q=X+H;let Z=e.substring(W,W+H);const ee=[];if(V&&Z.length>0&&"\n"===Z[0]&&(Z=Z.substr(1),V=!1),K===r.C7.Pre&&(V=!0),z.length){let e=X;z.forEach((t,n)=>{const{renderResult:s,entityEndIndex:r}=G(e,Q,t,n===z.length-1);ee.push(...s),e=r})}const te=u?function(e,t,n){const s="string"==typeof t?t:void 0,a=e.type===r.C7.Pre?t.trimEnd():t,o=n.length?n.join(""):(0,c.A)(a,["escape_html","emoji_html","br_html"]).join("");if(!s)return o;switch(e.type){case r.C7.Bold:return`<b>${o}</b>`;case r.C7.Italic:return`<i>${o}</i>`;case r.C7.Underline:return`<u>${o}</u>`;case r.C7.Code:return`<code class="text-entity-code">${o}</code>`;case r.C7.Pre:return`\`\`\`${(0,c.A)(e.language||"",["escape_html"])[0]}<br/>${o}<br/>\`\`\`<br/>`;case r.C7.Strike:return`<del>${o}</del>`;case r.C7.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${r.C7.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${o}</a>`;case r.C7.Url:case r.C7.TextUrl:return`<a\n        class="text-entity-link"\n        href=${N(s,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${o}</a>`;case r.C7.Spoiler:return`<span\n        class="spoiler"\n        data-entity-type="${r.C7.Spoiler}"\n        >${o}</span>`;case r.C7.CustomEmoji:return(0,i.Y5)(s,e);case r.C7.Blockquote:return`<blockquote\n        class="blockquote"\n        data-entity-type="${r.C7.Blockquote}"\n        >${o}</blockquote>`;default:return o}}(q,Z,ee):function({entity:e,entityContent:t,nestedEntityContent:n,highlight:o,containerId:i,asPreview:c,isProtected:u,observeIntersectionForLoading:l,observeIntersectionForPlaying:f,withTranslucentThumbs:g,emojiSize:m,sharedCanvasRef:y,sharedCanvasHqRef:b,cacheBuster:_,forcePlayback:v,noCustomEmojiPlayback:w,isInSelectMode:A,chatId:P,messageId:k,threadId:T,maxTimestamp:M}){const x="string"==typeof t&&t,B=n.length?n:t;function U(){return R({content:B,highlight:o,emojiSize:m,asPreview:c})}if(!x)return U();if(c){const t=U();return e.type===r.C7.Spoiler?(0,p.Y)(E,{children:t}):e.type===r.C7.CustomEmoji?(0,p.Y)(S.A,{documentId:e.documentId,size:m,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:l,observeIntersectionForPlaying:f,withTranslucentThumb:g,forceAlways:v,noPlay:w},_?`${_}-${e.offset}`:void 0):t}switch(e.type){case r.C7.Bold:return(0,p.Y)("strong",{"data-entity-type":e.type,children:U()});case r.C7.Blockquote:return(0,p.Y)(h,{canBeCollapsible:e.canCollapse,isToggleDisabled:A,children:U()});case r.C7.BotCommand:return(0,p.Y)("a",{onClick:D,className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:U()});case r.C7.Hashtag:{const[n,s]=t.split("@");return(0,p.Y)("a",{onClick:()=>L(n,s),className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:U()})}case r.C7.Cashtag:{const[n,s]=t.split("@");return(0,p.Y)("a",{onClick:()=>L(n,s),className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:U()})}case r.C7.Code:return(0,p.Y)("code",{className:(0,a.A)("text-entity-code","clickable"),onClick:F,role:"textbox",tabIndex:0,"data-entity-type":e.type,children:U()});case r.C7.Email:return(0,p.Y)("a",{href:`mailto:${x}`,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:U()});case r.C7.Italic:return(0,p.Y)("em",{"data-entity-type":e.type,children:U()});case r.C7.MentionName:return(0,p.Y)(d.A,{userId:e.userId,children:U()});case r.C7.Mention:return(0,p.Y)(d.A,{username:x,children:U()});case r.C7.Phone:return(0,p.Y)("a",{href:`tel:${x}`,className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:U()});case r.C7.Pre:return(0,p.Y)(I,{text:x,language:e.language,noCopy:u});case r.C7.Strike:return(0,p.Y)("del",{"data-entity-type":e.type,children:U()});case r.C7.TextUrl:case r.C7.Url:return(0,p.Y)(C.A,{url:N(x,e),text:x,chatId:P,messageId:k,threadId:T,entityType:e.type,children:U()});case r.C7.Underline:return(0,p.Y)("ins",{"data-entity-type":e.type,children:U()});case r.C7.Timestamp:return!P||!k||!M||e.timestamp>M?U():(0,p.Y)("a",{onClick:()=>function(e,t,n,r){(0,s.ko)().openMediaFromTimestamp({chatId:e,messageId:t,threadId:n,timestamp:r})}(P,k,T,e.timestamp),className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:U()});case r.C7.Spoiler:return(0,p.Y)(E,{containerId:i,children:U()});case r.C7.CustomEmoji:return(0,p.Y)(S.A,{documentId:e.documentId,size:m,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:l,observeIntersectionForPlaying:f,withTranslucentThumb:g,forceAlways:v,noPlay:w},_?`${_}-${e.offset}`:void 0);case r.C7.QuoteFocus:return(0,p.Y)("span",{className:"matching-text-highlight is-quote",children:U()});default:return U()}}({entity:q,entityContent:Z,nestedEntityContent:ee,highlight:n,containerId:l,asPreview:f,isProtected:g,observeIntersectionForLoading:m,observeIntersectionForPlaying:y,withTranslucentThumbs:b,emojiSize:o,sharedCanvasRef:_,sharedCanvasHqRef:v,cacheBuster:w,forcePlayback:A,noCustomEmojiPlayback:P,isInSelectMode:k,chatId:T,messageId:M,threadId:x,maxTimestamp:B});if(Array.isArray(te)?j.push(...te):j.push(te),$&&Q<U){let t=e.substring(Q,U);V&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&j.push(...R({content:t,highlight:n,emojiSize:o,shouldRenderAsHtml:u,asPreview:f}))}return{renderResult:j,entityEndIndex:Q}}let j=0;return $.forEach((t,n)=>{const{renderResult:s,entityEndIndex:r}=G(j,e.length,t,n===$.length-1);O.push(...s),j=r}),O}function x(e){const{text:t,entities:n}=e||{};if(!t)return"";const s=M({text:t,entities:n,shouldRenderAsHtml:!0});return Array.isArray(s)?s.join(""):s}function R({content:e,highlight:t,focusedQuote:n,emojiSize:s,shouldRenderAsHtml:r,asPreview:a}){if(Array.isArray(e)){const o=[];return e.forEach(e=>{o.push(...R({content:e,highlight:t,focusedQuote:n,emojiSize:s,shouldRenderAsHtml:r,asPreview:a}))}),o}if(r)return(0,c.A)(e,["escape_html","emoji_html","br_html"]);const o=[s&&s>64?"hq_emoji":"emoji"],i={};return a||o.push("br"),t&&(o.push("highlight"),i.highlight=t),(0,c.A)(e,o,i)}function B(e,t){const n=[],s=t.offset,r=t.offset+t.length;for(const a of e){const e=a.offset,o=a.offset+a.length;o<=s||e>r||e>s&&o<r||e===s&&o===r?n.push(a):(e<s&&o>s&&(n.push({...a,length:s-e}),n.push({...a,offset:s,length:o-s})),e<r&&o>r&&(n.push({...a,offset:r,length:o-s-t.length}),n.push({...a,length:r-e})))}return n.push(t),n.sort((e,t)=>e.offset-t.offset||t.length-e.length)}function U(e,t,n,s){const{offset:r,length:a}=e,o=new Set([t]);if(s.has(t))return;const i=[];return n.filter((e,n)=>n>t&&e.offset>=r&&e.offset<r+a).map(e=>U(e,n.indexOf(e),n,s)).filter(Boolean).forEach(e=>{let t=!1;e.organizedIndexes.forEach(e=>{t||o.has(e)||(t=!0),o.add(e)}),t&&i.push(e)}),{entity:e,organizedIndexes:o,nestedEntities:i}}function N(e,t){const{type:n}=t;return n===r.C7.TextUrl&&t.url?t.url:e}function D(e){(0,s.ko)().sendBotCommand({command:e.currentTarget.innerText})}function L(e,t){e&&(t?(0,s.ko)().openChatByUsername({username:t,onChatChanged:{action:"searchHashtag",payload:{hashtag:e}}}):(0,s.ko)().searchHashtag({hashtag:e}))}function F(e){(0,o.eM)(e.currentTarget.innerText),(0,s.ko)().showNotification({message:{key:"TextCopied"}})}},18653(e,t,n){"use strict";n.d(t,{A:()=>p});var s=n(84051),r=n(13439),a=n(90709),o=n(3544),i=n(91048),c=n(58849),d=n(4961),u=n(39351),l=n(96773),f=n(57076),g=n(20021);const p=(0,s.ph)((0,r.EK)((e,{message:t})=>{const n=(0,i.zcZ)(e,t),s=(0,i.Pn$)(e,t),r=t.content.storyData;return{poll:n,story:r&&(0,i.Msb)(e,r.peerId,r.id),webPage:s}})(function({message:e,translatedText:t,noEmoji:n,highlight:s,truncateLength:r=o.vs,withTranslucentThumbs:i,inChatList:p,emojiSize:h,poll:m,story:y,webPage:b,observeIntersectionForLoading:_,observeIntersectionForPlaying:v}){const w=(0,u.A)(),I=(0,a.Sb)(e,p),S=Boolean((0,a.cs)(e)),C=(0,a._P)(e),A=(0,a.FE)({poll:m,story:y,webPage:b});if(!I&&!S&&!C){const a=t?.text||(0,o.dS)(w,e,A,n,r),i=(0,c.A)(a,r);return(0,g.Y)("span",{children:s?(0,d.A)(i,["emoji","highlight"],{highlight:s}):(0,d.A)(i)})}const P=!n&&(0,o.Su)(e);return(0,g.Y)(g.FK,{children:[P?(0,d.A)(`${P} `):void 0,(0,o.oL)(w,e,A,C?(0,g.Y)(l.A,{message:e,asPreview:!0}):(0,g.Y)(f.A,{messageOrStory:e,translatedText:t,highlight:s,asPreview:!0,observeIntersectionForLoading:_,observeIntersectionForPlaying:v,withTranslucentThumbs:i,truncateLength:r,inChatList:p,emojiSize:h}))].flat().filter(Boolean)})}))},19129(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(84051),r=n(30857),a=n(5718),o=n(41257),i=n(35297);const c=function(e,t,n=!1){const c=t?e:()=>e();t??=[e];const d=(0,s.li)(),u=(0,r.A)(),l=(0,o.i)(c);function f(e=!1){const t=l.current;if(n)t(e=>{d.current!==e&&(d.current=e,u())});else{const n=t();d.current!==n&&(d.current=n,e||u())}}return(0,i.A)(()=>{f(!0)},t),(0,a.R)(f,t),d.current}},19314(e,t,n){"use strict";n.d(t,{A:()=>r});const s=new WeakMap;function r(e){return(...t)=>{let n=s.get(e);const r=t.map(String).join("_");if(n){const e=n.get(r);if(e)return e}else n=new Map,s.set(e,n);const a=e(...t);return n.set(r,a),a}}},19408(e,t,n){"use strict";n.d(t,{$j:()=>R,C5:()=>x,DB:()=>we,DI:()=>dt,D_:()=>Oe,EH:()=>Re,Eg:()=>Ne,G6:()=>pt,GA:()=>H,H1:()=>Le,Hd:()=>ge,Jb:()=>ce,Ji:()=>D,Jl:()=>se,K3:()=>V,KL:()=>ae,KQ:()=>he,LM:()=>fe,L_:()=>Se,Lz:()=>N,N1:()=>re,NH:()=>et,O5:()=>ne,OE:()=>ft,PI:()=>tt,Pn:()=>be,QP:()=>Ie,Qb:()=>Q,R4:()=>Ae,RB:()=>nt,Rj:()=>Be,Rn:()=>at,S1:()=>st,S8:()=>ut,SL:()=>Ve,Sp:()=>le,Sz:()=>pe,T:()=>Z,Tl:()=>de,U0:()=>q,VC:()=>Fe,Vl:()=>z,Vw:()=>Y,Vz:()=>ct,WA:()=>Pe,Xf:()=>P,Y7:()=>ue,Y8:()=>Ye,Ys:()=>j,ZZ:()=>$e,a_:()=>ot,cO:()=>Ze,dU:()=>J,dk:()=>W,eg:()=>U,fc:()=>O,fo:()=>ee,gC:()=>B,gM:()=>gt,h:()=>te,h5:()=>Je,iL:()=>it,j_:()=>$,jp:()=>X,jy:()=>ke,k9:()=>_e,kd:()=>oe,kg:()=>ye,lC:()=>rt,ld:()=>xe,mD:()=>Te,me:()=>k,nJ:()=>ie,nT:()=>Qe,nk:()=>ve,o4:()=>Ke,or:()=>Ee,p5:()=>Ue,rA:()=>F,rK:()=>G,rQ:()=>K,rT:()=>De,ry:()=>He,sZ:()=>lt,tO:()=>Ce,tV:()=>Ge,v8:()=>Xe,vR:()=>L,ww:()=>je,xz:()=>ze,yF:()=>E,yn:()=>We,yu:()=>Me,zc:()=>me,ze:()=>T});var s=n(23174),r=n(31481),a=n(96454),o=n(9716),i=n(14487),c=n(87894),d=n(60343),u=n(10315),l=n(79824),f=n(80140),g=n(91525),p=n(13235),h=n(90709),m=n(26129),y=n(21133),b=n(64520),_=n(56494),v=n(46211),w=n(1903),I=n(30163),S=n(5056),C=n(88368),A=n(19926);function P(e,...[t=(0,i.g0)()]){const{messageLists:n}=(0,S.n)(e,t);if(n.length)return n[n.length-1]}function k(e,...[t=(0,i.g0)()]){const{chatId:n}=P(e,t)||{};return n?(0,y.hd)(e,n):void 0}function T(e,t){return e.messages.byChatId[t]?.byId}function E(e,t){return e.scheduledMessages.byChatId[t]?.byId}function M(e,t,n,s,...[r=(0,i.g0)()]){return(0,S.n)(e,r).tabThreads[t]?.[n]?.[s]}function x(e,t,n,s){return R(e,t,n)?.[s]}function R(e,t,n){const s=e.messages.byChatId[t];if(!s)return;return s.threadsById[n]||void 0}function B(e,t,n){return x(e,t,n,"listedIds")}function U(e,t){const n=e.messages.byChatId[t];if(n)return n.threadsById}function N(e,t,n,s){const r=D(e,t,n);if(r)return r.find(e=>e[0]<=s&&e[e.length-1]>=s)}function D(e,t,n){return x(e,t,n,"outlyingLists")}function L(e,t,n,s,...[r=(0,i.g0)()]){switch(s){case"thread":return F(e,t,n,r);case"pinned":return O(e,t,n);case"scheduled":return V(e,t,n)}}function F(e,t,n,...[s=(0,i.g0)()]){return M(e,t,n,"viewportIds",s)}function O(e,t,n){return x(e,t,n,"pinnedIds")}function V(e,t,n){return x(e,t,n,"scheduledIds")}function $(e,t,n,...[s=(0,i.g0)()]){return M(e,t,n,"scrollOffset",s)}function G(e,t,n){return x(e,t,n,"lastScrollOffset")}function j(e,t,n){return x(e,t,n,"editingId")}function q(e,t,n){return x(e,t,n,"editingDraft")}function z(e,t){return x(e,t,s.l3,"editingScheduledId")}function W(e,t){return x(e,t,s.l3,"editingScheduledDraft")}function H(e,t,n){return x(e,t,n,"draft")}function K(e,t,n){return x(e,t,n,"noWebPage")}function Y(e,t,n){return x(e,t,n,"threadInfo")}function J(e,t,n){return x(e,t,n,"firstMessageId")}function X(e,t,n,...[s=(0,i.g0)()]){return M(e,t,n,"replyStack",s)}function Q(e,t,n){const s=(0,y.hd)(e,t),a=Y(e,t,n);if(s&&a&&void 0!==a.messagesCount)return s.isForum&&n!==r.HxB?a.messagesCount-1:a.messagesCount}function Z(e,t){const n=Se(e,t);if(n&&n!==s.l3)return e.messages.byChatId[t.chatId].threadsById[n]}function ee(e,t,n,...[r=(0,i.g0)()]){const a=P(e,r);if(!a)return!1;const{threadInfo:o}=Z(e,n)||{};return t===a.chatId&&(a.threadId===s.l3||o&&a.threadId===o.threadId)}function te(e,t,n,...[r=(0,i.g0)()]){const a=F(e,t,n,r);if(!a||!a.length)return!0;const o=(0,h.cG)(t,n,e.currentUserId);let c;if(n===s.l3){const n=(0,y.ZZ)(e,t);if(!n)return!0;c=n}else if(o){const t=(0,y.ZZ)(e,String(n),"saved");if(!t)return!0;c=t}else{const s=Y(e,t,n);if(s&&s.lastMessageId)c=s.lastMessageId;else{if(!s?.threadId)return;c=Number(s?.threadId)}}return!(!(0,d.iL)(c)||ne(e,t,c))||a[a.length-1]>=c}function ne(e,t,n){const s=T(e,t);return s?s[n]:void 0}function se(e,t,n){const s=E(e,t);return s?s[n]:void 0}function re(e,t){return e.quickReplies.messagesById[t]}function ae(e,t,n,s){if("scheduled"===s){const n=z(e,t);return n?se(e,t,n):void 0}{const s=j(e,t,n);return s?ne(e,t,s):void 0}}function oe(e,t,...[n=(0,i.g0)()]){const{chatId:s,messageId:r}=(0,S.n)(e,n).focusedMessage||{};return s===t?r:void 0}function ie(e,t,n,...[s=(0,i.g0)()]){const r=oe(e,t.chatId,s),a=(0,S.n)(e,s).focusedMessage?.threadId;return n===a&&!!r&&(r===t.id||r===t.previousLocalId)}function ce(e,t){const{lastReadOutboxMessageId:n}=(0,y.hd)(e,t.chatId)||{};return(0,h.Nb)(t)||!n||n<t.id}function de(e,t,n=!1){return ce(e,t)||n?(0,h._I)(t):"read"}function ue(e,t){const{senderId:n}=t,s=(0,y.hd)(e,t.chatId),r=(0,A.mB)(e,e.currentUserId);return n?s&&(0,h.WX)(s)&&!s.areProfilesShown?s:(0,v.PV)(e,n):t.isOutgoing?r:s}function le(e,t,n){return n.map(n=>{const s=ne(e,t,n);return s&&ue(e,s)}).filter(Boolean)}function fe(e,t,n){const s=ne(e,t,n);return s&&ue(e,s)}function ge(e,t){const{fromId:n}=t;if(n)return(0,v.PV)(e,n)}function pe(e,t){if(Boolean(t.content.storyData)){const n=t.content.storyData.peerId;return(0,v.PV)(e,n)}const{forwardInfo:n}=t;if(n){if(n.isChannelPost&&n.fromChatId)return(0,y.hd)(e,n.fromChatId);if(!n.hiddenUserName)return n.fromId?(0,v.PV)(e,n.fromId):n.savedFromPeerId?(0,v.PV)(e,n.savedFromPeerId):void 0}}function he(e,t){return e.messages.pollById[t]}function me(e,t){if(t.content.pollId)return he(e,t.content.pollId)}function ye(e,t){return e.messages.webPageById[t]}function be(e,t){if(t.content.webPage)return ye(e,t.content.webPage.id)}function _e(e,t){if(t.content.webPage)return function(e,t){const n=ye(e,t);if(n&&"full"===n.webpageType)return n}(e,t.content.webPage.id)}function ve(e,t){const{chatId:n}=t,s=(0,y.hd)(e,n);if(!s?.isForum)return;const r=Se(e,t);return(0,C.S0)(e,n,r)}function we(e,t,n){const s=(0,y.hd)(e,t);return!!s&&n!==r.HxB&&(s.isBotForum||s.isCreator||(0,h.ub)(s,"deleteMessages")||s.isForum&&function(e,t,n){const s=(0,C.S0)(e,t,n);if(s&&!s.isOwner)return!1;const r=R(e,t,n);if(!r)return!1;const{listedIds:a}=r;return!(!a||a.length+1>=10||a.some(n=>{const s=ne(e,t,n);return!s||!s.isOutgoing}))}(e,s.id,n))}function Ie(e,t){const{chatId:n,senderId:s,forwardInfo:a,savedPeerId:o}=t;return o||(n===e.currentUserId?a?.savedFromPeerId?a.savedFromPeerId:a?.fromId?a.fromId:a?.hiddenUserName?r.Ckz:s:void 0)}function Se(e,t){const n=Ie(e,t);if(n)return n;const a=(0,y.hd)(e,t.chatId),{content:o}=t,{replyToMsgId:i,replyToTopId:c,isForumTopic:d}=(0,m.Q)(t)||{};return"topicCreate"===o.action?.type?t.id:a?.isForum?d&&(c||i)||r.HxB:a&&(0,h.yn)(a)?s.l3:a&&(0,h.Vs)(a)&&(c||i)||s.l3}function Ce(e,t,n){const s=(0,y.hd)(e,t.chatId),r=(0,y._l)(e,t.chatId);if(!s||r||s.isForbidden)return!1;const a=(0,h.Nb)(t),o=(0,h.u7)(t);if(a||o)return!1;const i=Y(e,t.chatId,n),c=Boolean(!i?.isCommentsInfo&&i?.fromChannelId),d=(0,y.AW)(e,s.id),u=(0,C.S0)(e,s.id,n);if(!(0,h.__)(s,u,c,d))return!1;const l=ve(e,t);return!l||!l.isClosed||l.isOwner||(0,h.ub)(s,"manageTopics")}function Ae(e,t){const n=(0,h.Nb)(t),s=(0,h.u7)(t),r=(0,h._P)(t),a=(0,h.G5)(t),{content:o}=t,i=_e(e,t),c=o.storyData?(0,w.Ms)(e,o.storyData.peerId,o.storyData.id):i?.story?(0,w.Ms)(e,i.story.peerId,i.story.id):void 0,d=He(e,t.chatId),u=c&&("isDeleted"in c||"noForwards"in c&&c.noForwards);return!n&&!r&&!d&&!u&&(t.isForwardingAllowed||s)&&!a}function Pe(e,t,n){const s=(0,y.hd)(e,t.chatId),r=(0,y._l)(e,t.chatId);if(!s||r)return{};const a=(0,y.AW)(e,t.chatId),i=(0,o.L8)(s.id),c=(0,y.nZ)(e,t.chatId),d=(0,h.yn)(s),u=(0,h.Vs)(s),l=(0,h.WX)(s),g=Boolean((0,A.yp)(e,s.id)),p=(0,h.Nb)(t),m=(0,h.HN)(t),b=(0,h.u7)(t),v=(0,h.Ie)(t),w=(0,h.Ak)(t),S=(0,h._P)(t),C=(0,h.G5)(t),{content:P}=t,k=(0,h.Ax)(t),T="boostApply"===t.content.action?.type,E=s.isMonoforum,M=(()=>{if(i||s.isCreator)return!0;if(l)return(0,h.ub)(s,"editMessages");const e=(0,h.ub)(s,"pinMessages"),t=(0,h.Sq)(s,"pinMessages",a);if(u){const n=s.hasUsername||s.hasGeo;return(e||!n)&&!t}return d?!s.isForbidden&&!s.isNotJoined&&e&&!t:e})(),x=(!!P.todo||(i?c:!d&&(u?M:!!l&&(s.isCreator||(0,h.ub)(s,"editMessages"))))||(0,f.Fm)()-t.date<(e.config?.editTimeLimit||1/0))&&!(P.sticker||P.contact||P.pollId||P.action||P.video?.isRound||P.location||P.invoice||P.giveaway||P.giveawayResults||k)&&!w&&!t.viaBotId&&!s.isForbidden,R=(0,h.cG)(s.id,n,e.currentUserId),B=Ce(e,t,n),U=B||!R&&!p&&!b&&(u||d||(0,h.WX)(s));let N=!p&&!b&&!S&&M&&!R,D=!1;const L=O(e,s.id,n);N&&(D=Boolean(L&&L.includes(t.id)),N=!D);const F=T&&v&&!s.isCreator&&!(0,h.ub)(s,"deleteMessages"),V=(!p||m)&&!b&&!F&&(i||v||d||s.isCreator||(0,h.ub)(s,"deleteMessages")),$=!i&&!v,G=V&&!s.isForbidden&&(i&&!c&&!g||d&&(v||(0,h.ub)(s,"deleteMessages")||s.isCreator)),j=v||l&&(s.isCreator||(0,h.ub)(s,"editMessages")),q=!p&&!S&&x&&j,z=Boolean(t.content.sticker),W=z&&(0,I.Ij)(e,t.content.sticker),H=!S&&z&&!W,K=!S&&W,Y=!S,J=!p&&!S&&(l||u)&&!E,X=!p&&!S,Q=(0,_.iS)(e,t)&&!C,Z=t.content.video?.isGif,ee=P.pollId?he(e,P.pollId):void 0,te=!ee?.summary.closed&&!ee?.summary.quiz&&ee?.results.results?.some(e=>e.isChosen),ne=j&&ee&&!ee.summary.closed&&!w;return{noOptions:[B,U,q,N,D,$,V,G,H,K,Y,J,X,Q,Z,te,ne].every(e=>!e),canReply:B,canReplyGlobally:U,canEdit:q,canPin:N,canUnpin:D,canReport:$,canDelete:V,canDeleteForAll:G,canFaveSticker:H,canUnfaveSticker:K,canCopy:Y,canCopyLink:J,canSelect:X,canDownload:Q,canSaveGif:Z,canRevote:te,canClosePoll:ne}}function ke(e,t,...[n=(0,i.g0)()]){const{messageIds:s}=(0,S.n)(e,n).selectedMessages||{},{chatId:r,threadId:a}=P(e,n)||{},o=t?.length?t:s;return r&&a&&o?function(e,t,n,s){const r=T(e,t);if(s.length>p.m)return{};const a=s.map(t=>r[t]&&Pe(e,r[t],n)).filter(Boolean);return{canDelete:a.every(e=>e.canDelete),canDeleteForAll:a.every(e=>e.canDeleteForAll)}}(e,r,a,o):{}}function Te(e,...[t=(0,i.g0)()]){const{messageIds:n}=(0,S.n)(e,t).selectedMessages||{},{chatId:s,threadId:r}=P(e,t)||{},a=s&&T(e,s);return!!(a&&n&&r)&&n.map(t=>a[t]&&Pe(e,a[t],r)).filter(Boolean).every(e=>e.canReport)}function Ee(e,...[t=(0,i.g0)()]){const{messageIds:n}=(0,S.n)(e,t).selectedMessages||{},{chatId:s,threadId:r}=P(e,t)||{},a=s&&T(e,s);return!!(a&&n&&r)&&n.map(t=>a[t]&&Pe(e,a[t],r)).filter(Boolean).some(e=>e.canDownload)}function Me(e,...[t=(0,i.g0)()]){return(0,S.n)(e,t).activeDownloads}function xe(e,t){return e.fileUploads.byMessageKey[(0,d.bj)(t)]?.progress}function Re(e,t,n){if(n===s.l3){const n=(0,y.hd)(e,t);if(!n)return;if(!n.lastReadInboxMessageId)return;const s=(0,y.ZZ)(e,t);return!s||n.unreadCount?n.lastReadInboxMessageId:s}{const s=Y(e,t,n);if(!s)return;return s.lastReadInboxMessageId?Math.min(s.lastReadInboxMessageId,s.lastMessageId||1/0):Number(s.threadId)}}function Be(e,t,n){const a=(0,y.hd)(e,t);if(n===s.l3){if(!a)return}else{const s=Y(e,t,n);if(!s||void 0!==s.lastMessageId&&s.lastMessageId===s.lastReadInboxMessageId)return}const o=D(e,t,n),i=B(e,t,n),c=T(e,t);if(!c||!o?.length&&!i)return;const d=Re(e,t,n);if(!d&&a&&a.isNotJoined)return;const u=t===r.zv8?e.serviceNotifications.reduce((e,t)=>!t.isUnread&&t.id>e?t.id:e,-1):-1;function l(e){return e.find(e=>(!d||e>d)&&c[e]&&(!c[e].isOutgoing||c[e].isFromScheduled)&&e>u)}if(o?.length){const e=o.map(e=>l(e)).filter(Boolean)[0];if(e)return e}if(i){const e=l(i);if(e)return e}}function Ue(e,...[t=(0,i.g0)()]){const{isShareMessageModalShown:n}=(0,S.n)(e,t);return Boolean(n)}function Ne(e,t){const n=Object.values(e.chats.byId).find(n=>(0,h.VN)(n)&&(0,y.ZZ)(e,n.id)===t);if(n)return n.id;const{byChatId:s}=e.messages;return Object.keys(s).find(n=>{const r=(0,y.hd)(e,n);return r&&(0,h.VN)(r)&&s[r.id].byId[t]})}function De(e,...[t=(0,i.g0)()]){const{selectedMessages:n}=(0,S.n)(e,t);return Boolean(n)}function Le(e,t,...[n=(0,i.g0)()]){const{messageIds:s}=(0,S.n)(e,n).selectedMessages||{};return!!s&&s.includes(t)}function Fe(e,t,n){const s=T(e,t);if(s)return Object.values(s).filter(e=>e.groupedId===n&&e.forwardInfo).map(({forwardInfo:e})=>e.fromMessageId)}function Oe(e,t,n){const s=T(e,t);if(s)return Object.keys(s).map(Number).filter(e=>s[e].groupedId===n)}function Ve(e,t,n,...[s=(0,i.g0)()]){const{messageIds:r}=(0,S.n)(e,s).selectedMessages||{};if(!r)return!1;const a=Oe(e,t,n);return a&&a.every(e=>r.includes(e))}function $e(e,...[t=(0,i.g0)()]){const{messageIds:n}=(0,S.n)(e,t).selectedMessages||{};return n?n.length:0}function Ge(e,t,n=s.l3,...[r=(0,i.g0)()]){if(!(0,y.hd)(e,t))return;const a=T(e,t),o=F(e,t,n,r);if(!a||!o)return;const d=(0,c.Uk)(o,t=>{const n=a[t];return n&&function(e,t){const{keyboardButtons:n,shouldHideKeyboardButtons:s,isKeyboardSelective:r,isMentioned:a}=t;if(!n||s)return!1;const o=(0,m.Q)(t)?.replyToMsgId;if(r){if(a)return!0;if(!o)return!1;const n=ne(e,t.chatId,o);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)}),u=(0,c.Uk)(o,t=>{const n=a[t];return n&&function(e,t){const{shouldHideKeyboardButtons:n,isHideKeyboardSelective:s,isMentioned:r}=t;if(!n)return!1;const a=(0,m.Q)(t)?.replyToMsgId;if(s){if(r)return!0;if(!a)return!1;const n=ne(e,t.chatId,a);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)});return d&&u&&u>d?void 0:d?a[d]:void 0}function je(e,t){const n=(0,y.hd)(e,t.chatId);if(!n)return;const s="id"in t?ue(e,t):void 0,r=be(e,t),a=Boolean((0,h.yl)(t)||(0,h.eY)(r)),o=Boolean((0,h.zX)(t)||(0,h.rU)(r)),i=Boolean((0,h.wp)(t)||(0,h.gB)(t)||(0,h.zC)(t)),{canAutoLoadPhotoFromContacts:c,canAutoLoadPhotoInPrivateChats:d,canAutoLoadPhotoInGroups:u,canAutoLoadPhotoInChannels:l,canAutoLoadVideoFromContacts:f,canAutoLoadVideoInPrivateChats:g,canAutoLoadVideoInGroups:p,canAutoLoadVideoInChannels:m,canAutoLoadFileFromContacts:b,canAutoLoadFileInPrivateChats:_,canAutoLoadFileInGroups:v,canAutoLoadFileInChannels:w}=e.settings.byKey;return a?qe({global:e,chat:n,sender:s,canAutoLoadMediaFromContacts:c,canAutoLoadMediaInPrivateChats:d,canAutoLoadMediaInGroups:u,canAutoLoadMediaInChannels:l}):o?qe({global:e,chat:n,sender:s,canAutoLoadMediaFromContacts:f,canAutoLoadMediaInPrivateChats:g,canAutoLoadMediaInGroups:p,canAutoLoadMediaInChannels:m}):!i||qe({global:e,chat:n,sender:s,canAutoLoadMediaFromContacts:b,canAutoLoadMediaInPrivateChats:_,canAutoLoadMediaInGroups:v,canAutoLoadMediaInChannels:w})}function qe({global:e,chat:t,sender:n,canAutoLoadMediaFromContacts:s,canAutoLoadMediaInPrivateChats:r,canAutoLoadMediaInGroups:a,canAutoLoadMediaInChannels:i}){const c=Boolean(n&&((0,y.nZ)(e,n.id)||(0,A.mB)(e,n.id)?.isContact));return Boolean(c&&s||!c&&r&&(0,o.L8)(t.id)||a&&(0,h.YE)(t)||i&&(0,h.WX)(t))}function ze(e){const{serviceNotifications:t}=e,n=Math.max(...t.map(({id:e})=>e));return t.find(({id:e,isDeleted:t})=>!t&&e===n)}function We(e,t){return Boolean(t&&(t.isProtected||He(e,t.chatId)||(0,h.G5)(t)||(0,h.qG)(t)))}function He(e,t){return(0,y.hd)(e,t)?.isProtected||!1}function Ke(e,t,n){if((0,y.hd)(e,t)?.isProtected)return!0;if(!n)return!1;const s=T(e,t);return n.some(e=>s[e]?.isProtected)}function Ye(e,t,n){if((0,y.hd)(e,t)?.isProtected)return!1;if(!n)return!1;const s=T(e,t);return n.map(e=>s[e]).every(e=>e&&!(0,h.G5)(e)&&(e.isForwardingAllowed||(0,h.u7)(e)))}function Je(e,t,n){const s=T(e,t);return n.map(e=>s[e]).some(e=>{if(!e)return!1;const t=(0,h.zC)(e);if(!t)return!1;const n=(0,g.rK)(t);return!!n&&(0,u.N)({mimeType:t.mimeType,extension:n})})}function Xe(e,t){const n=e.messages.sponsoredByChatId[t];return n&&n.expiresAt>=Math.round(Date.now()/1e3)?n:void 0}function Qe(e,t){if(t===r.zv8)return;const n=(0,o.L8)(t),s=e.config?.defaultReaction;if(!s)return;if(n)return s;const a=(0,y.AW)(e,t)?.enabledReactions;return a&&(0,h.A3)(s,a)?s:void 0}function Ze(e){return(0,b.d)(e,"maxReactions")}function et(e,...[t=(0,i.g0)()]){const{chatId:n,threadId:s}=P(e,t)||{};if(!n||!s)return;const r=M(e,n,s,"viewportIds",t);return r?r.map(t=>{const{senderId:s}=ne(e,n,t)||{};return s?(0,A.mB)(e,s):void 0}).filter(Boolean):void 0}function tt(e,...[t=(0,i.g0)()]){return"scheduled"===P(e,t)?.type}function nt(e,t){const n=(0,y.nZ)(e,t),s=(0,A.yp)(e,t),r=(0,v.WA)(e,t);return Boolean(!r&&!n&&!s&&(0,o.L8)(t)&&(0,A.K0)(e,t)?.wasOnline)}function st(e,t){const n=function(e){const t=e.content.text?.entities;return t?.filter(e=>e.type===s.C7.CustomEmoji)}(t);if(!n)return l.p;const r=n.map(t=>(0,I.O8)(e,t.documentId));return r.every(Boolean)?r.map(e=>e.stickerSetInfo).reduce((e,t)=>("shortName"in t&&e.some(e=>"shortName"in e&&e.shortName===t.shortName)||"id"in t&&e.some(e=>"id"in e&&e.id===t.id)||e.push(t),e),[]):void 0}function rt(e,...[t=(0,i.g0)()]){const{messageIds:n,fromChatId:s}=(0,S.n)(e,t).forwardMessages;if(!n)return!1;const r=T(e,s);return n.some(e=>{const t=r[e];return Boolean(t.content.voice)||Boolean(t.content.video?.isRound)})}function at(e,t){return e.translations.byChatId[t]}function ot(e,t,n){return at(e,t)?.byLangCode[n]||{}}function it(e,t,n,...[s=(0,i.g0)()]){const r=(0,S.n)(e,s).requestedTranslations.byChatId[t];return r?.toLanguage||r?.manualMessages?.[n]}function ct(e,t,n,s){if(!s.replyToMsgId)return!1;const r=s?.replyToPeerId??n;if(t===r)return!0;const a=T(e,r)[s.replyToMsgId];return!(0,h.r$)(a)}function dt(e,t,...[n=(0,i.g0)()]){const{messageIds:s,storyId:r,fromChatId:a}=(0,S.n)(e,n).forwardMessages,o=(0,y.hd)(e,t);if(!s&&!r||!o)return!1;if(r)return!0;const c=(0,y.AW)(e,t),d=T(e,a),u=t?(0,y.nZ)(e,t):void 0,l=t?(0,y.AL)(e,o):void 0,f=(0,h.Q_)(o,c,l,u);return!s.some(e=>function(e,t){const n=e.content.voice,s=e.content.video?.isRound,r=e.content.photo,a=e.content.video?.isGif,o=e.content.video&&!s&&!a,i=e.content.audio,c=e.content.document,d=e.content.sticker,u=e.content.text&&!n&&!s&&!d&&!c&&!i&&!o&&!r&&!a;return n&&!t.canSendVoices||s&&!t.canSendRoundVideos||d&&!t.canSendStickers||c&&!t.canSendDocuments||i&&!t.canSendAudios||o&&!t.canSendVideos||r&&!t.canSendPhotos||a&&!t.canSendGifs||u&&!t.canSendPlainText}(d[e],f))}function ut(e,t,n,...[s=(0,i.g0)()]){const{canTranslate:r,doNotTranslate:o}=e.settings.byKey,c=!n||!o.includes(n),d=(0,h.ZR)(t),u=(0,y.qZ)(e,t.chatId,s);return a.CM&&r&&c&&d&&!u}function lt(e,t,n){const s=(0,y.hd)(e,t);if(s&&s.isForum&&!s.isBotForum)return(0,h.yt)(s,n)}function ft(e,t,n,r){if(!(0,y.hd)(e,t))return;const a=n===s.l3;return r||!a?{type:"message",...r,replyToMsgId:r?.replyToMsgId||Number(n),replyToTopId:r?.replyToTopId||(a?void 0:Number(n))}:void 0}function gt(e,t){const{replyToMsgId:n,replyToPeerId:s}=(0,m.Q)(t)||{};return n?ne(e,s||t.chatId,n):void 0}function pt(e,t){if(!t)return[];const{ignoreRestrictionReasons:n}=e.appConfig;return t.filter(e=>{if("all"!==e.platform&&e.platform!==r.LX5)return!1;const t=n?.includes(e.reason);return!t})}},19800(e,t,n){"use strict";n.d(t,{Bt:()=>d,Tq:()=>u});var s=n(13439),r=n(31481),a=n(84553);const o=/(^|\.)(google|bing|duckduckgo|ya|yandex)\./i,i="kz_version";function c(e){localStorage.setItem(i,JSON.stringify(e))}function d(e){c(e),(0,a.VH)(),(0,s.ko)().skipLockOnUnload(),window.location.assign(`${r.qJR}${e.toLowerCase()}`)}function u(){if(window.location.hostname!==r.mFn)return;const e=document.referrer.toLowerCase();if(e)try{if(!new URL(e).host.match(o))return;const t=function(){const e=localStorage.getItem(i);if(e)return JSON.parse(e)}();if(t)return void("Z"!==t&&d(t));const n=void 0!==(new URLSearchParams(window.location.search).get("test")??void 0),s=Math.random()<.5;if(n||!s)return void c("Z");d("K")}catch(e){}}},19806(e,t,n){"use strict";n.d(t,{A:()=>y});var s=n(84051),r=n(87357),a=n(76023),o=n(4961),i=n(14),c=n(39351),d=n(17712),u=n(21849),l=n(18276),f=n(64493),g=n(57474),p=n(20021);const h=1.25*a.$,m=({id:e,name:t,value:n,label:a,peer:y,labelText:b,subLabel:_,checked:v,tabIndex:w,disabled:I,withIcon:S,blocking:C,permissionGroup:A,isLoading:P,className:k,rightIcon:T,onlyInput:E,isRound:M,nestedCheckbox:x,nestedCheckboxCount:R,nestedOptionList:B,leftElement:U,values:N,onChange:D,onCheck:L,onClickLabel:F})=>{const O=(0,c.A)(),V=(0,s.li)(),[$,G]=(0,s.J0)(!1),j=(0,i.A)(y,!0),q=(0,d.A)(e=>{I||(D&&D(e,B),L&&L(e.currentTarget.checked))}),z=(0,d.A)(()=>{G(!$)}),W=(0,r.A)("Checkbox",I&&"disabled",S&&"withIcon",P&&"loading",C&&"blocking",x&&"nested",_&&"withSubLabel",A&&"permission-group",Boolean(U)&&"avatar",E&&"onlyInput",M&&"round",Boolean(T)&&"withNestedList",k);return(0,p.FD)(p.FK,{children:[(0,p.FD)("label",{className:W,dir:O.isRtl?"rtl":void 0,onClick:F?function(e){e.target!==V.current&&F?.(e,n)}:void 0,ref:V,children:[(0,p.Y)("input",{type:"checkbox",id:e,name:t,value:n,checked:v,disabled:I,tabIndex:w,onChange:q,onClick:F?function(e){e.stopPropagation()}:void 0}),(0,p.FD)("div",{className:(0,r.A)("Checkbox-main",Boolean(U)&&"Nested-avatar-list"),children:[(0,p.Y)("div",{className:(0,r.A)("user-avatar",j&&"user-avatar-visible"),children:j&&(0,p.Y)(u.A,{peer:j,size:h})}),(0,p.FD)("span",{className:"label",dir:"auto",children:[U,"string"==typeof a?(0,o.A)(a):a,Boolean(b)&&(0,p.Y)("span",{className:"ml-1",children:(0,o.A)(b)})]}),_&&(0,p.Y)("span",{className:"subLabel",dir:"auto",children:(0,o.A)(_)}),T&&(0,p.Y)(l.A,{name:T,className:"right-icon"})]}),x&&(0,p.Y)("span",{className:"nestedButton",dir:"auto",children:(0,p.FD)(f.A,{className:"button",color:"translucent",size:"smaller",onClick:z,children:[(0,p.Y)(l.A,{name:"group-filled",className:"group-icon"}),R,(0,p.Y)(l.A,{name:$?"up":"down"})]})}),P&&(0,p.Y)(g.A,{})]}),x&&(0,p.Y)("div",{className:(0,r.A)("nested-checkbox-group",$&&"nested-checkbox-group-open"),children:B?.map(e=>(0,p.Y)(m,{leftElement:U,onChange:q,checked:-1!==N?.indexOf(e.value),values:N,...e},e.value))})]})},y=(0,s.ph)(m)},19822(e,t,n){"use strict";n.d(t,{Hd:()=>u,S0:()=>a,ZM:()=>l,i0:()=>i,qM:()=>d,vk:()=>o});var s=n(66644);let r;function a(e,t,n){n||(r&&!r.isCancelled&&(r.isCancelled=!0),r=n={isCancelled:!1}),!n.isCancelled&&e()&&t(()=>{a(e,t,n)})}function o(){a(()=>{},e=>e)}function i(e,t){t(()=>{e()&&i(e,t)})}function c(e,t){e()&&t(()=>{c(e,t)})}const d={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function u({timing:e=d.linear,onUpdate:t,duration:n,onEnd:r,from:a,to:o}){const i=Date.now();let u=!1;return c(()=>{if(u)return!1;const s=Date.now(),c=Math.min((s-i)/n,1),d=e(c);if("number"==typeof a&&"number"==typeof o)t(a+(o-a)*d);else if(Array.isArray(a)&&Array.isArray(o)){const e=a.map((e,t)=>e+(o[t]-e)*d);t(e)}return 1===c&&r?.(),c<1},s.YS),()=>{u=!0,r?.(!0)}}function l(e,t){Object.assign(e.style,t)}},19926(e,t,n){"use strict";n.d(t,{K0:()=>a,U:()=>i,XO:()=>h,ap:()=>c,g2:()=>d,gT:()=>g,hc:()=>f,mB:()=>r,n_:()=>l,tr:()=>u,vG:()=>o,yp:()=>p});var s=n(90709);function r(e,t){return e.users.byId[t]}function a(e,t){return e.users.statusesById[t]}function o(e,t){return e.users.fullInfoById[t]}function i(e,t){return e.users.commonChatsById[t]}function c(e,t){return o(e,t)?.isBlocked}function d(e){return!!e.currentUserId&&Boolean(e.users.byId[e.currentUserId].isPremium)}function u(e){return Boolean(e.appConfig.freezeUntilDate)}function l(e){return e.appConfig.isPremiumPurchaseBlocked??!0}function f(e){return e.appConfig.isGiveawayGiftsPurchaseAvailable??!0}function g(e,t){const n=t.replace(/[^0-9]/g,"");return Object.values(e.users.byId).find(e=>e?.phoneNumber===n)}function p(e,t){const n=r(e,t);if(n&&(0,s.tv)(n))return n}function h(e,t){return e.users.botAppPermissionsById[t]}},20021(e,t,n){"use strict";n.d(t,{FD:()=>o,FK:()=>r,Y:()=>a});var s=n(84051);const r=s.Ay.Fragment;function a(e,t,n){return function(e,t={},n){void 0!==n&&(t.key=n);const r=t.children;return void 0!==t.children&&(t.children=void 0),s.Ay.createElement(e,t,r)}(e,t,n)}const o=a},20179(e,t,n){"use strict";n.d(t,{DX:()=>i,Fi:()=>r,Xj:()=>a,rp:()=>o});var s=n(31481);function r(e){return`photo${e.id}?size=x`}function a(e){return"channels"===e?"channels":"chats"===e||"groups"===e?"chats":"users"===e?"users":"bots"===e?"bots":void 0}function o(e){return e.requestUrl?e.requestUrl:e.appName?`${e.botId}?appName=${e.appName}`:e.botId}function i(e){return e===s.f51||e===s.b5_}},20714(e,t,n){"use strict";n.d(t,{$8:()=>u,HB:()=>l,Je:()=>f,LH:()=>i,PI:()=>d,tS:()=>c});var s=n(89925),r=n(31481),a=n(96454),o=n(13235);const i={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!0,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!0},c={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!1,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!1},d={animatedEmoji:!1,autoplayGifs:!1,autoplayVideos:!1,contextMenuAnimations:!1,contextMenuBlur:!1,loopAnimatedStickers:!1,mediaViewerAnimations:!1,messageComposerAnimations:!1,messageSendingAnimations:!1,pageTransitions:!1,reactionEffects:!1,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},u={settings:{theme:"light",shouldUseSystemTheme:!0,messageTextSize:a.pz?r.fSF:a.MP?r.pZc:r.pk8,animationLevel:r.i11,foldersPosition:r.I6d,messageSendKeyCombo:"enter",performance:i,shouldSkipWebAppCloseConfirmation:!1,language:"en",timeFormat:"24h",wasTimeFormatSetManually:!1,isConnectionStatusMinimized:!0,canDisplayChatInTitle:!0,shouldAllowHttpTransport:!0,shouldWarnAboutFiles:!0},isInitial:!0},l={cacheVersion:2,isInited:!0,attachMenu:{bots:{}},passcode:{},twoFaSettings:{},isAppUpdateAvailable:!1,shouldShowContextMenuHint:!0,appConfig:o.hE,audioPlayer:{volume:r.Hz7,lastPlaybackRate:r.P3f},mediaViewer:{lastPlaybackRate:r.P3f},auth:{rememberMe:!0},countryList:{phoneCodes:[],general:[]},blocked:{ids:[],totalCount:0},users:{byId:{},statusesById:{},fullInfoById:{},previewMediaByBotId:{},commonChatsById:{},botAppPermissionsById:{}},peers:{profilePhotosById:{}},chats:{listIds:{},isFullyLoaded:{},orderedPinnedIds:{},totalCount:{},lastMessageIds:{},byId:{},fullInfoById:{},similarChannelsById:{},similarBotsById:{},topicsInfoById:{},notifyExceptionById:{},loadingParameters:{active:{},archived:{},saved:{}}},messages:{byChatId:{},sponsoredByChatId:{},pollById:{},webPageById:{},playbackByChatId:{}},stories:{byPeerId:{},albumsByPeerId:{},orderedPeerIds:{archived:[],active:[]},hasNext:!0,hasNextInArchive:!0,stealthMode:{}},groupCalls:{byId:{}},attachmentSettings:{shouldCompress:!0,defaultAttachmentCompression:"compress",shouldSendGrouped:!0,isInvertedMedia:void 0,webPageMediaSize:void 0,shouldSendInHighQuality:!1},scheduledMessages:{byChatId:{}},quickReplies:{byId:{},messagesById:{}},chatFolders:{byId:{},invites:{},areTagsEnabled:!1},fileUploads:{byMessageKey:{}},recentEmojis:["grinning","kissing_heart","christmas_tree","brain","trophy","duck","cherries"],recentCustomEmojis:["5377305978079288312"],reactions:{defaultTags:[],topReactions:[],recentReactions:[],effectReactions:[],hash:{}},availableEffectById:{},stickers:{setsById:{},added:{},recent:{stickers:[]},favorite:{stickers:[]},greeting:{stickers:[]},premium:{stickers:[]},featured:{setIds:[]},effect:{stickers:[],emojis:[]},forEmoji:{}},customEmojis:{lastRendered:[],byId:{},added:{},forEmoji:{},statusRecent:{}},emojiKeywords:{},gifs:{saved:{}},topPeers:{},topInlineBots:{},topBotApps:{},activeSessions:{byHash:{},orderedHashes:[]},activeWebSessions:{byHash:{},orderedHashes:[]},settings:{byKey:{canAutoLoadPhotoFromContacts:!0,canAutoLoadPhotoInPrivateChats:!0,canAutoLoadPhotoInGroups:!0,canAutoLoadPhotoInChannels:!0,canAutoLoadVideoFromContacts:!0,canAutoLoadVideoInPrivateChats:!0,canAutoLoadVideoInGroups:!0,canAutoLoadVideoInChannels:!0,canAutoLoadFileFromContacts:!1,canAutoLoadFileInPrivateChats:!1,canAutoLoadFileInGroups:!1,canAutoLoadFileInChannels:!1,autoLoadFileMaxSizeMb:10,hasWebNotifications:!0,hasPushNotifications:!0,notificationSoundVolume:5,shouldSuggestStickers:!0,shouldSuggestCustomEmoji:!0,shouldPaidMessageAutoApprove:!1,shouldUpdateStickerSetOrder:!0,shouldArchiveAndMuteNewNonContact:!1,shouldNewNonContactPeersRequirePremium:!1,disallowedGifts:void 0,nonContactPeersPaidStars:0,shouldHideReadMarks:!1,canTranslate:!1,canTranslateChats:!0,doNotTranslate:[]},privacy:{},botVerificationShownPeerIds:[],themes:{light:{isBlurred:!0,patternColor:r.be8},dark:{isBlurred:!0,patternColor:r.MkD}},accountDaysTtl:365},serviceNotifications:[],trustedBotIds:[],transcriptions:{},translations:{byChatId:{}},byTabId:{},sharedState:u,archiveSettings:{isMinimized:!1,isHidden:!1},layout:{agentColumnState:"collapsed",agentColumnWidth:0,contentMode:"chat",isPinned:!1},alphahuman:{jwtToken:void 0,isThreadsSidebarOpen:!1,socketState:"disconnected",lastAgentUpdate:void 0,streamingContent:void 0,isStreaming:!1,isLoggingIn:!1}},f={id:0,isMasterTab:!1,isLeftColumnShown:!0,newChatMembersProgress:s.D7.Closed,uiReadyState:0,shouldInit:!0,gifSearch:{},stickerSearch:{},messageLists:[],activeChatFolder:0,tabThreads:{},inlineBots:{isLoading:!1,byUsername:{}},webApps:{openedWebApps:{},openedOrderedKeys:[],sessionKeys:[],modalState:"maximized",isModalOpen:!1,isMoreAppsTabActive:!1},globalSearch:{},userSearch:{},leftColumn:{contentKey:s.Bn.ChatList,settingsScreen:s.VS.Main},middleSearch:{byChatThreadKey:{}},sharedMediaSearch:{byChatThreadKey:{}},chatMediaSearch:{byChatThreadKey:{}},management:{byChatId:{}},chatInfo:{isOpen:!1},agentChat:{isOpen:!1},threadHistory:{isOpen:!1},savedGifts:{filter:{...r.tBS},collectionsByPeerId:{},activeCollectionByPeerId:{}},resaleGifts:{gifts:[],count:0,updateIteration:0,filter:{...r.hYe}},storyViewer:{isMuted:!0,isRibbonShown:!1},mediaViewer:{volume:r.Hz7,playbackRate:r.P3f,isMuted:!1},audioPlayer:{playbackRate:r.P3f,isMuted:!1},isShareMessageModalShown:!1,isWebAppsCloseConfirmationModalOpen:!1,forwardMessages:{},replyingMessage:{},pollResults:{},payment:{},starsPayment:{},notifications:[],dialogs:[],activeReactions:{},activeDownloads:{},statistics:{byChatId:{}},pollModal:{isOpen:!1},requestedTranslations:{byChatId:{}},isPaymentMessageConfirmDialogOpen:!1}},21133(e,t,n){"use strict";n.d(t,{$:()=>A,$T:()=>p,AL:()=>m,AO:()=>O,AW:()=>f,D3:()=>P,I_:()=>w,LR:()=>N,OD:()=>G,P4:()=>C,To:()=>b,VF:()=>E,XD:()=>z,ZZ:()=>V,_l:()=>q,bE:()=>I,df:()=>v,dg:()=>F,dq:()=>T,hX:()=>B,hd:()=>l,jG:()=>D,k2:()=>j,kB:()=>g,ke:()=>y,mJ:()=>S,nT:()=>_,nZ:()=>h,p6:()=>x,qZ:()=>L,qn:()=>k,s:()=>M,w5:()=>U,yH:()=>$,yM:()=>R});var s=n(31481),r=n(96454),a=n(9716),o=n(14487),i=n(90709),c=n(19408),d=n(5056),u=n(19926);function l(e,t){return e.chats.byId[t]}function f(e,t){return e.chats.fullInfoById[t]}function g(e,t){return(0,a.L8)(t)?(0,u.vG)(e,t):f(e,t)}function p(e,t){return e.chats.loadingParameters[t]}function h(e,t){return t===e.currentUserId}function m(e,t){const n=function(e,t){const n=(0,i.e7)(t);return!!n&&(0,u.mB)(e,n)}(e,t);return n&&(0,i.tv)(n)}function y(e){return Object.values(e.chats.byId).find(({isSupport:e})=>e)}function b(e,t){const n=f(e,t.id);if(!(0,a.L8)(t.id)&&!(0,i.WX)(t)&&n)return n.members&&n.members.length!==s.WG3?n.members.reduce((t,{userId:n})=>!h(e,n)&&e.users.byId[n]&&(0,i.PF)(e.users.byId[n],e.users.statusesById[n])?t+1:t,0):n.onlineCount}function _(e,t){return e.trustedBotIds.includes(t)||e.appConfig.whitelistedBotIds?.includes(t)}function v(e,t){if((0,u.yp)(e,t))return"bots";if((0,u.mB)(e,t))return"users";const n=l(e,t);return n?(0,i.WX)(n)?"channels":"chats":void 0}function w(e,t){if(!(0,u.yp)(e,t))return!1;const n=$(e,t);return!(!n||!(0,i.X_)(n))||Boolean(!n)}function I(e){return Boolean(e.chats.listIds.active)}function S(e,t,n){const{listIds:s}=e.chats;if(n){const e=s[n];return Boolean(e&&e.includes(t))}return Object.values(s).some(e=>e&&e.includes(t))}function C(e,t){const n=l(e,t);if(n&&S(e,t))return n.folderId===s._E9?"archived":"active"}function A(e,t){return e.chatFolders.byId[t]}function P(e,t,n=s.DSF){const{active:r,archived:a,saved:o}=e.chats.orderedPinnedIds;if(n===s.DSF)return Boolean(r?.includes(t));if(n===s._E9)return Boolean(a?.includes(t));if(n===s.pX9)return Boolean(o?.includes(t));const{byId:i}=e.chatFolders,{pinnedChatIds:c}=i[n]||{};return Boolean(c?.includes(t))}function k(e,t){const n=t.toLowerCase();return Object.values(e.chats.byId).find(e=>e.usernames?.some(e=>e.username.toLowerCase()===n))}function T(e){return Boolean(l(e,s.zv8))}function E(e,t){if(!l(e,t))return;const n=f(e,t)?.sendAsId;return n?(0,u.mB)(e,n)||l(e,n):void 0}function M(e,t,...[n=(0,o.g0)()]){const{requestedDraft:s}=(0,d.n)(e,n);if(s?.chatId===t&&!s.files?.length)return s.text}function x(e,t,...[n=(0,o.g0)()]){const{requestedDraft:s}=(0,d.n)(e,n);if(s?.chatId===t)return s.files}function R(e,t,n){return t.filter(t=>{const s=v(e,t);return!!s&&n.includes(s)})}function B(e,t){const n=l(e,t);return!!n&&!n.migratedTo&&Boolean(!(0,a.L8)(t)&&((0,i.WX)(n)||(0,i.Vs)(n)?n.isCreator||(0,i.ub)(n,"inviteUsers")||(0,i.gA)(n)&&!n.isJoinRequest:n.isCreator||(0,i.ub)(n,"inviteUsers")))}function U(e,t){const n=A(e,t);if(!n)return!1;const{bots:s,groups:r,channels:a,contacts:o,nonContacts:i,includedChatIds:c,pinnedChatIds:d,excludeArchived:u,excludeMuted:l,excludeRead:f,excludedChatIds:g}=n;return!s&&!r&&!a&&!o&&!i&&!u&&!l&&!f&&!g?.length&&(d?.length||c.length)&&n.includedChatIds.concat(n.pinnedChatIds||[]).some(t=>B(e,t))}function N(e,t){const n=l(e,t);if(!n)return!1;if(n.hasAutoTranslation)return!0;const{canTranslateChats:s}=e.settings.byKey,a=(0,u.g2)(e),o=h(e,t);return r.CM&&s&&a&&!o}function D(e,t,...[n=(0,o.g0)()]){const s=l(e,t);if(!s)return!1;if(L(e,t,n))return!0;const r=N(e,t),a=s.detectedLanguage,{doNotTranslate:i}=e.settings.byKey;return Boolean(r&&a&&!i.includes(a))}function L(e,t,...[n=(0,o.g0)()]){const{requestedTranslations:s}=(0,d.n)(e,n);return s.byChatId[t]?.toLanguage}function F(e,t){return e.chats.similarChannelsById[t]}function O(e,t){return e.chats.similarBotsById[t]}function V(e,t,n="all"){return e.chats.lastMessageIds[n]?.[t]}function $(e,t,n="all"){const s=V(e,t,n);if(!s)return;const r="saved"===n?e.currentUserId:t;return e.messages.byChatId[r]?.byId[s]}function G(e,t){const n=l(e,t);if(!n?.isMonoforum)return;const s=j(e,t);return s?Boolean(n.isCreator||n.adminRights||s.isCreator||s.adminRights):void 0}function j(e,t){const n=l(e,t);if(n)return n.isMonoforum?l(e,n.linkedMonoforumId):void 0}function q(e,t){const n=l(e,t);return!!n&&(0,c.G6)(e,n.restrictionReasons).length>0}function z(e){const t=e.chatFolders.orderedIds;return Boolean(t&&t.length>1)}},21309(e,t,n){"use strict";n.d(t,{Lp:()=>i,Os:()=>c,Sy:()=>l,V8:()=>o,_k:()=>u,d_:()=>a,dp:()=>r,pY:()=>s,qZ:()=>d});const s=60,r=3600,a=86400,o=7*a,i=30*a;function c(e,t){return(t?Math.floor:Math.ceil)(e/s)}function d(e,t){return(t?Math.floor:Math.ceil)(e/r)}function u(e,t){return(t?Math.floor:Math.ceil)(e/a)}function l(e,t,n){return e*r+t*s+n}},21687(e,t,n){"use strict";function s(e){const{pageTransitions:t,messageSendingAnimations:n,mediaViewerAnimations:s,messageComposerAnimations:r,contextMenuAnimations:a,contextMenuBlur:o,rightColumnAnimations:i}=e,c=document.body;c.classList.toggle("no-page-transitions",!t),c.classList.toggle("no-message-sending-animations",!n),c.classList.toggle("no-media-viewer-animations",!s),c.classList.toggle("no-message-composer-animations",!r),c.classList.toggle("no-context-menu-animations",!a),c.classList.toggle("no-menu-blur",!o),c.classList.toggle("no-right-column-animations",!i)}n.d(t,{u:()=>s})},21849(e,t,n){"use strict";n.d(t,{A:()=>k,R:()=>A});var s=n(84051),r=n(13439),a=n(23174),o=n(31481),i=n(90709),c=n(70636),d=n(87357),u=n(95807),l=n(9716),f=n(14242),g=n(76023),p=n(4961),h=n(11217),m=n(17712),y=n(62587),b=n(37960),_=n(59030),v=n(39996),w=n(65843),I=n(88554),S=n(18276),C=n(20021);const A={micro:g.$,mini:1.5*g.$,tiny:2*g.$,small:2.125*g.$,medium:2.75*g.$,large:3.375*g.$,giant:5.625*g.$,jumbo:7.5*g.$},P=(0,d.x)("Avatar");P.media=P("media"),P.icon=P("icon");const k=(0,s.ph)(({className:e,style:t,size:n="large",peer:g,photo:k,webPhoto:T,previewUrl:E,text:M,isSavedMessages:x,isSavedDialog:R,withVideo:B,withStory:U,forPremiumPromo:N,withStoryGap:D,withStorySolid:L,storyColors:F,forceFriendStorySolid:O,forceUnreadStorySolid:V,storyViewerOrigin:$,storyViewerMode:G="single-peer",loopIndefinitely:j,noPersonalPhoto:q,asMessageBubble:z,onClick:W,onContextMenu:H,onMouseMove:K})=>{const{openStoryViewer:Y}=(0,r.ko)(),J=(0,s.li)(),X=(0,s.li)(0),Q=g&&"isCustomPeer"in g,Z=g&&!Q?g:void 0,ee=Z&&(0,c.mO)(Z)?Z:void 0,te=Z&&(0,c.vj)(Z)?Z:void 0,ne=ee&&(0,i.PL)(ee),se=Z&&(0,i.kE)(Z.id),re=Z&&(0,i.Qe)(Z.id),ae=te?.isForum,oe=(0,i.Zg)(g,!0),ie=void 0!==oe?(0,v.yp)(oe):void 0,ce=U&&"disabled"!==G&&Z?.hasStories;let de,ue;const le="number"==typeof n?n:A[n],fe=B&&k?.isVideo,ge=le>=A.jumbo;x||ne||(ee&&!q||te?de=(0,i.cP)(g,ge?"big":void 0):k?(de=`photo${k.id}?size=m`,k.isVideo&&B&&(ue=(0,i.Pg)(k))):T&&(de=(0,i.cy)(T)));const pe=(0,s.Kr)(()=>Q?g.avatarIcon:x?R?"my-notes":"avatar-saved-messages":ne?"avatar-deleted-account":se?"reply-filled":re?"author-hidden":void 0,[Q,x,ne,se,re,g,R]),he=(0,y.A)(de,!1,a.qZ.BlobUrl),me=(0,y.A)(ue,!fe,a.qZ.BlobUrl),ye=he||E,be=Boolean(ye||me),_e=Boolean(me&&fe),{ref:ve}=(0,b.A)({hasMediaData:be}),we=(0,m.A)(e=>{const t=e.currentTarget;me&&(j||(X.current+=1,X.current>=3&&(t.style.display="none")))}),Ie=(0,_.A)();let Se;const Ce=ee?(0,i.Yg)(ee):te?(0,i.Js)(Ie,te):M;if(pe)Se=(0,C.Y)(S.A,{name:pe,className:P.icon,role:"img",ariaLabel:Ce});else if(be)Se=(0,C.FD)(C.FK,{children:[(0,C.Y)("img",{ref:ve,src:ye,className:(0,d.A)(P.media,"avatar-media",me&&"poster"),alt:Ce,decoding:"async",draggable:!1}),_e&&(0,C.Y)(w.A,{canPlay:!0,src:me,className:(0,d.A)(P.media,"avatar-media","poster"),muted:!0,loop:j,autoPlay:!0,disablePictureInPicture:!0,playsInline:!0,draggable:!1,onEnded:we})]});else if(ee){const e=(0,i.Yg)(ee);Se=e?(0,f.Qh)(e,2):void 0}else if(te){const e=(0,i.Js)(Ie,te);Se=e&&(0,f.Qh)(e,(0,l.L8)(te.id)?2:1)}else if(Q){const e=g.title||Ie(g.titleKey);Se=e&&(0,f.Qh)(e,1)}else M&&(Se=(0,f.Qh)(M,2));const Ae=Q&&g.isAvatarSquare||ae&&!((U||L)&&Z?.hasStories),Pe=Q&&g.withPremiumGradient,ke=Q&&g.customPeerAvatarColor,Te=(0,d.A)("Avatar",e,ie,!g&&M&&"hidden-user",x&&"saved-messages",re&&"anonymous-forwards",ne&&"deleted-account",se&&"replies-bot-account",Pe&&"premium-gradient-bg",Ae&&"forum",z&&"message-bubble",(k||T)&&"force-fit",(U&&Z?.hasStories||N)&&"with-story-circle",L&&Z?.hasStories&&"with-story-solid",L&&O&&"close-friend",L&&(Z?.hasUnreadStories||V)&&"has-unread-story",(W||ce)&&"interactive",!x&&!ye&&"no-photo"),Ee=(0,u.A)(`--_size: ${le}px;`,ke&&`--color-user: ${ke}`,t),Me=Boolean(x||ye),{handleClick:xe,handleMouseDown:Re}=(0,h.Q)(e=>{if(ce)return e.stopPropagation(),void Y({peerId:Z.id,isSinglePeer:"single-peer"===G,origin:$});W&&W(e,Me)});return(0,C.FD)("div",{ref:J,className:Te,id:Z?.id&&U?(0,i.kR)(Z.id):void 0,"data-peer-id":Z?.id,"data-test-sender-id":o.W75?Z?.id:void 0,"aria-label":"string"==typeof Se?Ce:void 0,style:Ee,onClick:xe,onContextMenu:H,onMouseDown:Re,onMouseMove:K,children:[(0,C.Y)("div",{className:"inner",children:"string"==typeof Se?(0,p.A)(Se,[ge?"hq_emoji":"emoji"]):Se}),U&&Z?.hasStories&&(0,C.Y)(I.A,{peerId:Z.id,size:le,withExtraGap:D,colors:F})]})})},22237(e,t,n){"use strict";n.d(t,{Hp:()=>a,cO:()=>c,n5:()=>i});var s=n(46536);const r=Symbol("SIGNAL_MARK");function a(e){return"function"==typeof e&&r in e}const o=new Map;function i(e){const t={value:e,effects:(0,s.h)()};function n(e){const n=t.effects.addCallback(e);return o.has(e)?o.get(e).add(n):o.set(e,new Set([n])),()=>{n();const t=o.get(e);t.delete(n),t.size||o.delete(e)}}return[Object.assign(function(){return t.value},{[r]:r,subscribe:n,once:function(e){const t=n(()=>{t(),e()});return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}function c(e){o.get(e)?.forEach(e=>{e()}),o.delete(e)}},22699(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(64493),a=n(71429),o=n(20021);const i=({trigger:e,className:t,bubbleClassName:n,children:i,transformOriginX:c,transformOriginY:d,positionX:u="left",positionY:l="top",footer:f,forceOpen:g,onOpen:p,onClose:h,onTransitionEnd:m,onMouseEnterBackdrop:y,onHide:b,autoClose:_=!0})=>{const v=(0,s.li)(),[w,I]=(0,s.J0)(!1),S=(0,s.hb)(()=>{I(!1),h?.()},[h]),C=(0,s.Kr)(()=>e||(({onTrigger:e,isOpen:t})=>(0,o.Y)(r.A,{round:!0,size:"smaller",color:"translucent",className:t?"active":"",iconName:"more",onClick:e,ariaLabel:"More actions"})),[e]);return(0,o.FD)("div",{className:`DropdownMenu ${t||""}`,onKeyDown:e=>{const t=v.current;if(!w||40!==e.keyCode||!t)return;const n=document.activeElement,s=Array.from(t.children);n&&-1!==s.indexOf(n)||s[0].focus()},onTransitionEnd:m,children:[C({onTrigger:()=>{I(!w),w?h?.():p?.()},isOpen:w}),(0,o.Y)(a.A,{ref:v,isOpen:w||Boolean(g),className:t||"",bubbleClassName:n||"",transformOriginX:c,transformOriginY:d,positionX:u,positionY:l,footer:f,autoClose:_,onClose:S,onCloseAnimationEnd:b,onMouseEnterBackdrop:y,children:i})]})}},22802(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(68323);function a(e,t,n,a,o){(0,s.vJ)(()=>{if(!e||!n)return;const s=e=>{const s=t.current,i=e.target;!s||!i||a&&2===e.button||(0,r.x)()||s.contains(e.target)&&!i.classList.contains("backdrop")||o&&(i.matches(o)||i.closest(o))||(e.preventDefault(),e.stopPropagation(),n?.())};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[o,a,e,t,n])}},22986(e,t,n){"use strict";function s(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){const n=e,r=t;return n.length===r.length&&n.every((e,t)=>s(e,r[t]))}const a=e,o=t,i=Object.keys(a);return i.length===Object.keys(o).length&&i.every(e=>s(a[e],o[e]))}n.d(t,{T:()=>s})},23174(e,t,n){"use strict";n.d(t,{C7:()=>s.C7,K1:()=>s.K1,l3:()=>s.l3,qZ:()=>r.q});var s=n(84448),r=n(35710)},24021(e,t,n){"use strict";n.d(t,{Ar:()=>s.Ar,Hn:()=>s.Hn,PH:()=>s.PH,Ru:()=>s.Ru,eZ:()=>s.eZ,eu:()=>s.eu,fj:()=>s.fj,iB:()=>s.iB,om:()=>s.om,px:()=>s.px});var s=n(43663)},24282(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(16120);const r=[[/\u{1f3f3}\u200d\u{1f308}/gu,"ðŸ³ï¸â€ðŸŒˆ"],[/\u{1f3f3}\u200d\u26a7\ufe0f?/gu,"ðŸ³ï¸â€âš§ï¸"],[/\u26d3\u200d\u{1f4a5}/gu,"â›“ï¸â€ðŸ’¥"],[/\u200d([\u2640\u2642])(?!\ufe0f)/gu,"â€$1ï¸"]];function a(e){if(!e.match(s.A))return e;for(const[t,n]of r)e=e.replace(t,n);return e}},24433(e,t,n){"use strict";n.d(t,{A:()=>u});var s=n(31481),r=n(87357),a=n(43874),o=n(39351),i=n(17712),c=n(18276),d=n(20021);const u=e=>{const{icon:t,isCharIcon:n,customIcon:u,className:l,children:f,href:g,target:p,download:h,disabled:m,destructive:y,ariaLabel:b,withWrap:_,rel:v="noopener noreferrer",withPreventDefaultOnMouseDown:w,clickArg:I,onClick:S,onContextMenu:C}=e,A=(0,o.A)(),{isTouchScreen:P}=(0,a.Ay)(),k=(0,i.A)(e=>{!m&&S?S(e,I):e.preventDefault()}),T=(0,i.A)(e=>{13!==e.keyCode&&32!==e.keyCode||(!m&&S?S(e,I):e.preventDefault())}),E=(0,i.A)(e=>{w&&e.preventDefault()}),M=(0,r.A)("MenuItem",l,m&&"disabled",y&&"destructive",!P&&"compact",_&&"wrap"),x=(0,d.FD)(d.FK,{children:[!u&&t&&(0,d.Y)(c.A,{name:n?"char":t,character:n?t:void 0}),u,f]});return g&&!m?(0,d.Y)("a",{tabIndex:0,className:M,href:g,download:h,"aria-label":b,title:b,target:p||(g.startsWith(window.location.origin)||s.W75?"_self":"_blank"),rel:v,dir:A.isRtl?"rtl":void 0,onClick:S,onMouseDown:E,children:x}):(0,d.Y)("div",{role:"menuitem",tabIndex:0,className:M,onClick:k,onKeyDown:T,onMouseDown:E,onContextMenu:C,"aria-label":b,title:b,dir:A.isRtl?"rtl":void 0,children:x})}},24585(e,t,n){"use strict";n.d(t,{Tc:()=>f,Dc:()=>g,_G:()=>p});var s=n(31481);const r=36,a=2147483647;function o(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:r}function i(e,t,n){let s;for(e=n?Math.floor(e/700):e>>1,e+=Math.floor(e/t),s=0;e>455;s+=r)e=Math.floor(e/35);return Math.floor(s+36*e/(e+38))}function c(e,t){const n=[],s=[],c=e.length;let d,u,l,f,g,p,h,m,y,b,_,v,w;for(d=128,l=0,f=72,g=e.lastIndexOf("-"),g<0&&(g=0),p=0;p<g;++p){if(t&&(s[n.length]=e.charCodeAt(p)-65<26),e.charCodeAt(p)>=128)throw new RangeError("Illegal input >= 0x80");n.push(e.charCodeAt(p))}for(h=g>0?g+1:0;h<c;){for(m=l,y=1,b=r;;b+=r){if(h>=c)throw RangeError("punycode_bad_input(1)");if(_=o(e.charCodeAt(h++)),_>=r)throw RangeError("punycode_bad_input(2)");if(_>Math.floor((a-l)/y))throw RangeError("punycode_overflow(1)");if(l+=_*y,v=b<=f?1:b>=f+26?26:b-f,_<v)break;if(y>Math.floor(a/(r-v)))throw RangeError("punycode_overflow(2)");y*=r-v}if(u=n.length+1,f=i(l-m,u,0===m),Math.floor(l/u)>a-d)throw RangeError("punycode_overflow(3)");d+=Math.floor(l/u),l%=u,t&&s.splice(l,0,e.charCodeAt(h-1)-65<26),n.splice(l,0,d),l++}if(t)for(l=0,w=n.length;l<w;l++)s[l]&&(n[l]=String.fromCharCode(n[l]).toUpperCase().charCodeAt(0));return(e=>{const t=[];let n=0;const s=e.length;let r;for(;n<s;){if(r=e[n++],55296==(63488&r))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");r>65535&&(r-=65536,t.push(String.fromCharCode(r>>>10&1023|55296)),r=56320|1023&r),t.push(String.fromCharCode(r))}return t.join("")})(n)}const d=function(e){const t=e.split("."),n=[];for(let e=0;e<t.length;++e){const s=t[e];n.push(s.match(/^xn--/)?c(s.slice(4)):s)}return n.join(".")},u=new Set(["http:","https:","tg:","ton:","mailto:","tel:"]),l="https://";function f(e){try{const t=new URL(e);return u.has(t.protocol)?e:`${l}${e}`}catch(t){return`${l}${e}`}}function g(e){const t=f(e);try{const e=new URL(t),n=d(e.hostname);try{return decodeURI(e.toString()).replace(e.hostname,n)}catch(t){return e.toString().replace(e.hostname,n)}}catch(t){s.Oig&&console.warn("SafeLink.getDecodedUrl error ",e,t)}}function p(e){let t;try{t=d(new URL(f(e)).hostname)}catch(e){return!0}let n=!1,s=!1;for(const e of Array.from(t))if(/\p{L}/u.test(e)&&(/\p{Script=Latin}/u.test(e)?n=!0:s=!0,n&&s))return!0;return!1}},24896(e,t,n){"use strict";function s(e,t){return`${e}_${t}`}n.d(t,{W:()=>s})},24909(e,t,n){"use strict";n.d(t,{s:()=>r,y:()=>a});var s=n(48894);function r(e,t,n="image/png"){const s=e instanceof Blob?URL.createObjectURL(e):e,r=new Image;return new Promise(a=>{r.onload=()=>{o(r,r.width*t,r.height*t,n).then(e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)}).then(a).finally(()=>{e instanceof Blob&&URL.revokeObjectURL(s)})},r.src=s})}function a(e,t,n,s="image/png"){const r=e instanceof Blob?URL.createObjectURL(e):e,a=new Image;return new Promise(i=>{a.onload=()=>{o(a,t,n,s).then(e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)}).then(i).finally(()=>{e instanceof Blob&&URL.revokeObjectURL(r)})},a.src=r})}async function o(e,t,n,r="image/png"){if(!("createImageBitmap"in window))return i(e,t,n,void 0,r);try{const a=await window.createImageBitmap(e,{resizeWidth:t,resizeHeight:n,resizeQuality:"high"});if(a.height!==n||a.width!==t)throw new Error("Image bitmap resize not supported!");const o=await(0,s.rX)(e.src),i=(0,s.LS)(o)<240?"#fff":"#000";return await new Promise(e=>{const t=document.createElement("canvas");t.width=a.width,t.height=a.height;const n=t.getContext("2d");n.fillStyle=i,n.fillRect(0,0,t.width,t.height);const s=t.getContext("bitmaprenderer");s?s.transferFromImageBitmap(a):n.drawImage(a,0,0),t.toBlob(e,r)})}catch(s){return i(e,t,n,void 0,r)}}async function i(e,t,n,r=.5,a="image/png"){const o=document.createElement("canvas"),i=o.getContext("2d"),c=document.createElement("canvas"),d=c.getContext("2d");if(o.width=t,o.height=n,e.width*r>t){const n=1/r;let s={width:Math.floor(e.width*r),height:Math.floor(e.height*r)};for(c.width=s.width,c.height=s.height,d.drawImage(e,0,0,s.width,s.height);s.width*r>t;)s={width:Math.floor(s.width*r),height:Math.floor(s.height*r)},d.drawImage(c,0,0,s.width*n,s.height*n,0,0,s.width,s.height);i.drawImage(c,0,0,s.width,s.height,0,0,o.width,o.height)}else i.drawImage(e,0,0,o.width,o.height);const u=await(0,s.rX)(e.src),l=(0,s.LS)(u)<240?"#fff":"#000";return i.fillStyle=l,i.globalCompositeOperation="destination-over",i.fillRect(0,0,o.width,o.height),new Promise(e=>{o.toBlob(e,a)})}},25903(e,t,n){"use strict";function s(e,t,n,s){return a("transitionend",e,t,n,s)}function r(e,t,n,s){return a("animationend",e,t,n,s)}function a(e,t,n,s,r){let a=!1;function o(){t.removeEventListener(e,i)}function i(e){a||e.target!==e.currentTarget||s&&(e instanceof TransitionEvent&&e.propertyName===s||e instanceof AnimationEvent&&e.animationName===s)||(a=!0,o(),setTimeout(()=>{n()},50))}return t.addEventListener(e,i),r&&setTimeout(()=>{a||(o(),n())},r),o}n.d(t,{e:()=>r,j:()=>s})},26072(e,t,n){"use strict";n.d(t,{A:()=>P});var s=n(84051),r=n(13439),a=n(31481),o=n(66644),i=n(96454),c=n(15283),d=n(17712),u=n(35297);const l=`${window.location.pathname}${window.location.search}`,f=Number(new Date);let g,p,h=!1,m=[],y=[],b=!1;function _(){b&&setTimeout(()=>{b=!1},350)}function v(){const e=m.filter(e=>"go"===e.type),t=m.filter(e=>"go"!==e.type),n=e.reduce((e,t)=>e+t.delta,0);m=[],n&&(window.history.go(n),t.length)?y.push(...t):w(t)}function w(e){e.forEach(e=>window.history[e.type](e.data,"",e.hash))}function I(e){m.length||(0,o.YS)(v),m.push(e)}function S(){p=0,g=[{index:0,onBack:()=>window.history.back()}],window.history.replaceState({index:0,historyUniqueSessionId:f},"",l)}function C(e=1){let t=e;for(let e=p-1;e>0&&g[e].isClosed;e--)t++;return t&&(h=!0,I({type:"go",delta:-t})),t}function A(){let e=!1;for(let t=g.length-1;t>0;t--)g[t].isClosed||(!e&&b&&((0,r.ko)().disableHistoryAnimations(),e=!0),g[t].onBack?.());S()}function P({isActive:e,shouldBeReplaced:t,shouldResetUrlHash:n,hash:r,onBack:a}){const o=(0,d.A)(a),i=(0,s.li)(),l=(0,s.li)(!1),h=(0,s.li)(!0),m=(0,s.hb)((e=!1)=>{const s=e||g[p].shouldBeReplaced;i.current=s?p:++p,p=i.current;const a=g[i.current];a&&!a.isClosed&&a.markReplaced?.(),g[i.current]={index:i.current,onBack:o,shouldBeReplaced:t,markReplaced:()=>{l.current=!0}},I({type:s?"replaceState":"pushState",data:{index:i.current,historyUniqueSessionId:f},hash:r?`#${r}`:n?" ":void 0})},[r,t,n]),y=(0,s.hb)(()=>{i.current&&g[i.current]&&!l.current&&(g[i.current].isClosed=!0,l.current=!0,i.current!==p||t||(p-=C()))},[t]);(0,c.A)(()=>(h.current=!1,()=>{e&&!l.current&&y()})),(0,u.A)(([t])=>{t!==e&&(h.current&&!e||(e?m():y()))},[e,y,m])}a.W75&&(window.TEST_getHistoryState=()=>g,window.TEST_getHistoryCursor=()=>p),i.pz&&(window.addEventListener("touchstart",function(e){const t=e.touches[0].pageX;(t<=300||t>=window.innerWidth-300)&&(b=!0)}),window.addEventListener("touchend",_),window.addEventListener("popstate",_)),S(),window.addEventListener("popstate",({state:e})=>{if(h)return h=!1,void(y.length&&(w(y),y=[]));if(!e)return A(),void window.location.hash;const{index:t,historyUniqueSessionId:n}=e;if(n===f){if(t!==p)if(t<p){let e=0,n=!1;for(let s=p;s>t-e;s--)g[s].isClosed?e++:(!n&&b&&((0,r.ko)().disableHistoryAnimations(),n=!0),g[s].onBack?.());const s=C(e);p+=t-p-s,p<0&&(p=0)}else t>p&&(h=!0,I({type:"go",delta:-(t-p)}))}else A()})},26120(e,t,n){"use strict";n.d(t,{q:()=>i});var s=n(13439),r=n(31481),a=n(91048),o=n(63495);function i(e,t){o.Vq?window.tauri?.setNotificationsCount?.(e,t):(0,a.nTw)((0,s.mS)()).isMasterTab&&"function"==typeof window.navigator.setAppBadge&&window.navigator.setAppBadge(e).catch(e=>{r.Oig&&console.error(e)})}},26129(e,t,n){"use strict";function s(e){const{replyInfo:t}=e;if(t&&"message"===t.type)return t}function r(e){const{replyInfo:t}=e;if(t&&"story"===t.type)return t}n.d(t,{Q:()=>s,W:()=>r})},26943(e,t,n){"use strict";var s=n(89925),r=n(31481),a=n(38),o=n(14487),i=n(87894),c=n(5560),d=n(6e4),u=n(33204),l=n(80140),f=n(24021),g=n(90709),p=n(13439),h=n(68873),m=n(32989),y=n(91048),b=n(30708);(0,p.aJ)("updateProfile",async(e,t,n)=>{const{photo:r,firstName:a,lastName:i,bio:c,username:d,tabId:u=(0,o.g0)()}=n,{currentUserId:l}=e;if(l){if(e=(0,m.w)(e,{profileEdit:{progress:s.DV.InProgress}},u),(0,p.UF)(e),r&&await(0,f.px)("uploadProfilePhoto",r),(a||i||c)&&await(0,f.px)("updateProfile",{firstName:a,lastName:i,about:c})){e=(0,p.mS)();const t=l&&(0,y.mBe)(e,l);t&&(e=(0,h.TKu)(e,t.id,{firstName:a,lastName:i}),e=(0,h.weB)(e,t.id,{bio:c}),(0,p.UF)(e))}if(void 0!==d){const t=await(0,f.px)("updateUsername",d);e=(0,p.mS)();const n=l&&(0,y.mBe)(e,l);if(t&&n){const t=n.usernames?.find(e=>e.isEditable),s=t?n.usernames?.map(e=>e.isEditable?{...e,username:d}:e):[{username:d,isEditable:!0,isActive:!0},...n.usernames||[]];e=(0,h.TKu)(e,l,{usernames:s}),(0,p.UF)(e)}}e=(0,p.mS)(),e=(0,m.w)(e,{profileEdit:{progress:s.DV.Complete}},u),(0,p.UF)(e),r&&t.loadFullUser({userId:l,withPhotos:!0})}}),(0,p.aJ)("updateBirthday",async(e,t,n)=>{const{birthday:s}=n,{currentUserId:r}=e;r&&await(0,f.px)("updateBirthday",s)&&t.loadFullUser({userId:r})}),(0,p.aJ)("updateProfilePhoto",async(e,t,n)=>{const{photo:s,isFallback:r}=n,{currentUserId:a}=e;a&&(0,y.mBe)(e,a)&&(e=(0,h.TKu)(e,a,{avatarPhotoId:void 0}),e=(0,h.weB)(e,a,{profilePhoto:void 0}),(0,p.UF)(e),await(0,f.px)("updateProfilePhoto",s,r)&&t.loadFullUser({userId:a,withPhotos:!0}))}),(0,p.aJ)("deleteProfilePhoto",async(e,t,n)=>{const{photo:s}=n,{currentUserId:r}=e;r&&await(0,f.px)("deleteProfilePhotos",[s])&&(e=(0,p.mS)(),e=(0,h.sol)(e,r,s.id),(0,p.UF)(e),t.loadFullUser({userId:r,withPhotos:!0}))}),(0,p.aJ)("checkUsername",async(e,t,n)=>{const{username:r,tabId:a=(0,o.g0)()}=n;let i=(0,y.nTw)(e,a);if(i.profileEdit&&i.profileEdit.progress===s.DV.InProgress)return;e=(0,m.w)(e,{profileEdit:{progress:i.profileEdit?i.profileEdit.progress:s.DV.Idle,checkedUsername:void 0,isUsernameAvailable:void 0,error:void 0}},a),(0,p.UF)(e);const{result:c,error:d}=await(0,f.px)("checkUsername",r);e=(0,p.mS)(),i=(0,y.nTw)(e,a),e=(0,m.w)(e,{profileEdit:{...i.profileEdit,checkedUsername:r,isUsernameAvailable:!0===c,error:d}},a),(0,p.UF)(e)}),(0,p.aJ)("loadWallpapers",async e=>{const t=await(0,f.px)("fetchWallpapers");t&&(e=(0,p.mS)(),e={...e,settings:{...e.settings,loadedWallpapers:t.wallpapers}},(0,p.UF)(e))}),(0,p.aJ)("uploadWallpaper",async(e,t,n)=>{const r=n,a=URL.createObjectURL(r);e={...e,settings:{...e.settings,loadedWallpapers:[{slug:s.Vw,document:{mediaType:"document",fileName:"",size:r.size,mimeType:r.type,previewBlobUrl:a}},...e.settings.loadedWallpapers||[]]}},(0,p.UF)(e);const o=await(0,f.px)("uploadWallpaper",r);if(!o)return;const{wallpaper:i}=o;if(!(e=(0,p.mS)()).settings.loadedWallpapers)return;const c=e.settings.loadedWallpapers[0];if(!c||c.slug!==s.Vw)return;const d={...i,document:{...i.document,previewBlobUrl:a}};e={...e,settings:{...e.settings,loadedWallpapers:[d,...e.settings.loadedWallpapers.slice(1)]}},(0,p.UF)(e)}),(0,p.aJ)("loadBlockedUsers",async e=>{const t=await(0,f.px)("fetchBlockedUsers",{});t&&(e=(0,p.mS)(),e={...e,blocked:{ids:t.blockedIds,totalCount:t.totalCount}},(0,p.UF)(e))}),(0,p.aJ)("blockUser",async(e,t,n)=>{const{userId:s,isOnlyStories:r}=n,a=(0,y.mBe)(e,s);a&&await(0,f.px)("blockUser",{user:a,isOnlyStories:r||void 0})&&(e=(0,p.mS)(),e=(0,h.P6h)(e,s),(0,p.UF)(e))}),(0,p.aJ)("unblockUser",async(e,t,n)=>{const{userId:s,isOnlyStories:r}=n,a=(0,y.mBe)(e,s);a&&await(0,f.px)("unblockUser",{user:a,isOnlyStories:r||void 0})&&(e=(0,p.mS)(),e=(0,h.OW3)(e,s),(0,p.UF)(e))}),(0,p.aJ)("loadNotificationExceptions",async e=>{const t=await(0,f.px)("fetchNotificationExceptions");t&&(e=(0,p.mS)(),e=(0,h.DeY)(e,t),(0,p.UF)(e))}),(0,p.aJ)("loadNotificationSettings",async e=>{const[t,n]=await Promise.all([(0,f.px)("fetchContactSignUpSetting"),(0,f.px)("fetchNotifyDefaultSettings")]);n&&(e=(0,p.mS)(),e=(0,h.qpc)(e,{hasContactJoinedNotifications:t}),e={...e,settings:{...e.settings,notifyDefaults:n}},(0,p.UF)(e))}),(0,p.aJ)("updateNotificationSettings",async(e,t,n)=>{const{peerType:s,isMuted:a,shouldShowPreviews:o}=n;await(0,f.px)("updateNotificationSettings",s,{isMuted:a,shouldShowPreviews:o})&&(e=(0,p.mS)(),e=(0,h.p92)(e,s,{mutedUntil:a?r.xEh:r.Os5,shouldShowPreviews:o}),(0,p.UF)(e))}),(0,p.aJ)("updateWebNotificationSettings",async(e,t,n)=>{const s=e.settings.byKey;e=(0,h.qpc)(e,n),(0,p.UF)(e);const{hasWebNotifications:r,hasPushNotifications:a}=e.settings.byKey;!s.hasPushNotifications&&a&&await(0,c.B1)(),s.hasPushNotifications&&!a&&await(0,c.al)(),!s.hasWebNotifications&&r&&(await(0,c.xe)()||(e=(0,p.mS)(),e=(0,h.qpc)(e,{hasWebNotifications:!1}),(0,p.UF)(e)))}),(0,p.aJ)("updateContactSignUpNotification",async(e,t,n)=>{const{isSilent:s}=n;await(0,f.px)("updateContactSignUpNotification",s)&&(e=(0,p.mS)(),e=(0,h.qpc)(e,{hasContactJoinedNotifications:!s}),(0,p.UF)(e))}),(0,p.aJ)("loadLanguages",async e=>{const t=await(0,f.px)("fetchLanguages");t&&(e=(0,p.mS)(),e=(0,h.qoo)(e,{languages:t}),(0,p.UF)(e))}),(0,p.aJ)("loadPrivacySettings",async(e,t,n)=>{const{skipIfCached:s}=n;if(s&&Object.keys(e.settings.privacy).length>0)return;if((0,y.trm)(e))return;const r=await Promise.all([(0,f.px)("fetchPrivacySettings","phoneNumber"),(0,f.px)("fetchPrivacySettings","addByPhone"),(0,f.px)("fetchPrivacySettings","lastSeen"),(0,f.px)("fetchPrivacySettings","profilePhoto"),(0,f.px)("fetchPrivacySettings","forwards"),(0,f.px)("fetchPrivacySettings","chatInvite"),(0,f.px)("fetchPrivacySettings","phoneCall"),(0,f.px)("fetchPrivacySettings","phoneP2P"),(0,f.px)("fetchPrivacySettings","voiceMessages"),(0,f.px)("fetchPrivacySettings","bio"),(0,f.px)("fetchPrivacySettings","birthday"),(0,f.px)("fetchPrivacySettings","gifts"),(0,f.px)("fetchPrivacySettings","noPaidMessages")]);if(r.some(e=>void 0===e))return;const[a,o,i,c,d,u,l,g,h,m,b,_,v]=r;e=(0,p.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,phoneNumber:a.rules,addByPhone:o.rules,lastSeen:i.rules,profilePhoto:c.rules,forwards:d.rules,chatInvite:u.rules,phoneCall:l.rules,phoneP2P:g.rules,voiceMessages:h.rules,bio:m.rules,birthday:b.rules,gifts:_.rules,noPaidMessages:v.rules}}},(0,p.UF)(e)}),(0,p.aJ)("setPrivacyVisibility",async(e,t,n)=>{const{privacyKey:s,visibility:r,onSuccess:a}=n;if(!e.settings.privacy[s]){const t=await(0,f.px)("fetchPrivacySettings",s);if(!t)return;e=(0,p.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[s]:t.rules}}},(0,p.UF)(e)}const{privacy:{[s]:o}}=e.settings;if(!o)return;const i=(0,g.wT)(e,{visibility:r,allowedIds:[...o.allowUserIds,...o.allowChatIds],blockedIds:[...o.blockUserIds,...o.blockChatIds],botsPrivacy:o.botsPrivacy}),c=await(0,f.px)("setPrivacySettings",s,i);c&&(a?.(),e=(0,p.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[s]:c.rules}}},(0,p.UF)(e))}),(0,p.aJ)("setPrivacySettings",async(e,t,n)=>{const{privacyKey:s,isAllowList:r,updatedIds:a,isPremiumAllowed:o,botsPrivacy:i}=n,{privacy:{[s]:c}}=e.settings;if(!c)return;"noPaidMessages"===s&&(e=(0,p.mS)(),[...a.filter(e=>!c.allowUserIds.includes(e)),...c.allowUserIds.filter(e=>!a.includes(e))].forEach(t=>{e=(0,h.weB)(e,t,{settings:void 0})}),(0,p.UF)(e));const d=(0,g.wT)(e,{visibility:c.visibility,isUnspecified:c.isUnspecified,shouldAllowPremium:o,allowedIds:r?a:[...c.allowUserIds,...c.allowChatIds],blockedIds:r?[...c.blockUserIds,...c.blockChatIds]:a,botsPrivacy:i}),u=await(0,f.px)("setPrivacySettings",s,d);u&&(e=(0,p.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[s]:u.rules}}},(0,p.UF)(e))}),(0,p.aJ)("updateIsOnline",(e,t,n)=>{"connectionStateReady"===e.connectionState&&(0,f.px)("updateIsOnline",n.isOnline)}),(0,p.aJ)("loadContentSettings",async e=>{if((0,y.trm)(e))return;const t=await(0,f.px)("fetchContentSettings");t&&(e=(0,p.mS)(),e=(0,h.qpc)(e,t),(0,p.UF)(e))}),(0,p.aJ)("updateContentSettings",async(e,t,n)=>{e=(0,h.qpc)(e,{isSensitiveEnabled:n.isSensitiveEnabled}),(0,p.UF)(e),await(0,f.px)("updateContentSettings",n.isSensitiveEnabled)||(e=(0,p.mS)(),e=(0,h.qpc)(e,{isSensitiveEnabled:!n.isSensitiveEnabled}),(0,p.UF)(e))}),(0,p.aJ)("loadCountryList",async(e,t,n)=>{let{langCode:s}=n;s||(s=(0,b.lS)(e).language);const r=await(0,f.px)("fetchCountryList",{langCode:s});r&&(e=(0,p.mS)(),e={...e,countryList:r},(0,p.UF)(e))}),(0,p.aJ)("ensureTimeFormat",async(e,t)=>{if(e.auth.nearestCountry){const n=r.wEk.has(e.auth.nearestCountry.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:n}),(0,d.bV)(n)}if((0,b.lS)(e).wasTimeFormatSetManually)return;const n=await(0,f.px)("fetchNearestCountry");if(n){const e=r.wEk.has(n.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:e}),(0,d.bV)(e)}}),(0,p.aJ)("loadAppConfig",async(e,t,n)=>{const s=n?.hash,a=await(0,f.px)("fetchAppConfig",{hash:s});a&&((0,u.A)({action:"loadAppConfig",payload:{hash:a.hash}},r.Xrp),e=(0,p.mS)(),e={...e,appConfig:a,isAppConfigLoaded:!0},(0,p.UF)(e))}),(0,p.aJ)("loadConfig",async e=>{const t=await(0,f.px)("fetchConfig");if(!t)return;e=(0,p.mS)();const n=t.expiresAt-(0,l.Fm)();(0,u.A)({action:"loadConfig",payload:void 0},1e3*n),e={...e,config:t},(0,p.UF)(e)}),(0,p.aJ)("loadPromoData",async e=>{const t=await(0,f.px)("fetchPromoData");e=(0,p.mS)();const n=(t?.expires||0)-(0,l.Fm)();n>0&&(0,u.A)({action:"loadPromoData",payload:void 0},1e3*n),e={...e,promoData:t},(0,p.UF)(e)}),(0,p.aJ)("dismissSuggestion",async(e,t,n)=>{const{suggestion:s}=n;await(0,f.px)("dismissSuggestion",s),t.loadPromoData()}),(0,p.aJ)("loadPeerColors",async e=>{const t=e.peerColors?.generalHash,n=e.peerColors?.profileHash,[s,r]=await Promise.all([(0,f.px)("fetchPeerColors",t),(0,f.px)("fetchPeerProfileColors",n)]);if(!s&&!r)return;const a=(e=(0,p.mS)()).peerColors||{};e={...e,peerColors:{...a,general:s?.colors||a.general,generalHash:s?.hash||a.generalHash,profile:r?.colors||a.profile,profileHash:r?.hash||a.profileHash}},(0,p.UF)(e)}),(0,p.aJ)("loadTimezones",async e=>{const t=e.timezones?.hash,n=await(0,f.px)("fetchTimezones",t);n&&(e=(0,p.mS)(),e={...e,timezones:{byId:(0,i.dU)(n.timezones,"id"),hash:n.hash}},(0,p.UF)(e))}),(0,p.aJ)("loadGlobalPrivacySettings",async e=>{const t=await(0,f.px)("fetchGlobalPrivacySettings");t&&(e=(0,p.mS)(),e=(0,h.qpc)(e,{...t}),(0,p.UF)(e))}),(0,p.aJ)("updateGlobalPrivacySettings",async(e,t,n)=>{const s=n.shouldArchiveAndMuteNewNonContact??Boolean(e.settings.byKey.shouldArchiveAndMuteNewNonContact),r=n.shouldHideReadMarks??Boolean(e.settings.byKey.shouldHideReadMarks),a=n.shouldNewNonContactPeersRequirePremium??Boolean(e.settings.byKey.shouldNewNonContactPeersRequirePremium),o=null===n.nonContactPeersPaidStars?void 0:n.nonContactPeersPaidStars||e.settings.byKey.nonContactPeersPaidStars,i=n.shouldDisplayGiftsButton??Boolean(e.settings.byKey.shouldDisplayGiftsButton),c=n.disallowedGifts??e.settings.byKey.disallowedGifts,d=null===n.nonContactPeersPaidStars||n.nonContactPeersPaidStars;e=(0,p.mS)(),e=(0,h.qpc)(e,{shouldArchiveAndMuteNewNonContact:s,shouldHideReadMarks:r,shouldNewNonContactPeersRequirePremium:a,nonContactPeersPaidStars:o,shouldDisplayGiftsButton:i,disallowedGifts:c}),(0,p.UF)(e);const u=await(0,f.px)("updateGlobalPrivacySettings",{shouldArchiveAndMuteNewNonContact:s,shouldHideReadMarks:r,shouldNewNonContactPeersRequirePremium:a,nonContactPeersPaidStars:o,shouldDisplayGiftsButton:i,disallowedGifts:c});e=(0,p.mS)(),e=(0,h.qpc)(e,{shouldArchiveAndMuteNewNonContact:u?u.shouldArchiveAndMuteNewNonContact:!s,shouldHideReadMarks:u?u.shouldHideReadMarks:!r,shouldNewNonContactPeersRequirePremium:u?u.shouldNewNonContactPeersRequirePremium:!a,nonContactPeersPaidStars:u?u.nonContactPeersPaidStars:void 0,shouldDisplayGiftsButton:u?u.shouldDisplayGiftsButton:!i,disallowedGifts:u?u.disallowedGifts:c}),d&&Object.keys(e.users.fullInfoById).forEach(t=>{e=(0,h.weB)(e,t,{settings:void 0})}),(0,p.UF)(e)}),(0,p.aJ)("toggleUsername",async(e,t,n)=>{const{username:s,isActive:r}=n,{currentUserId:a}=e;if(!a)return;const o=(0,y.mBe)(e,a);if(!o?.usernames)return;const i=o.usernames.map(e=>e.username!==s?e:{...e,isActive:r||void 0});e=(0,h.TKu)(e,a,{usernames:i}),(0,p.UF)(e),await(0,f.px)("toggleUsername",{username:s,isActive:r})||t.loadFullUser({userId:a})}),(0,p.aJ)("toggleChatUsername",async(e,t,n)=>{const{chatId:s,username:r,isActive:a}=n,o=(0,y.hds)(e,s);if(!o?.usernames)return;const i=o.usernames.map(e=>e.username!==r?e:{...e,isActive:a||void 0});e=(0,h.wix)(e,s,{usernames:i}),(0,p.UF)(e),await(0,f.px)("toggleUsername",{chatId:o.id,accessHash:o.accessHash,username:r,isActive:a})||t.loadFullChat({chatId:s})}),(0,p.aJ)("sortUsernames",async(e,t,n)=>{const{usernames:s}=n,{currentUserId:r}=e;r&&(await(0,f.px)("reorderUsernames",{usernames:s})||t.loadUser({userId:r}))}),(0,p.aJ)("sortChatUsernames",async(e,t,n)=>{const{chatId:s,usernames:r}=n,a=(0,y.hds)(e,s);if(!a)return;const o=[...a.usernames],i=a.usernames.reduce((e,t)=>(e[r.findIndex(e=>e===t.username)]=t,e),[]);e=(0,h.wix)(e,s,{usernames:i}),(0,p.UF)(e),await(0,f.px)("reorderUsernames",{chatId:a.id,accessHash:a.accessHash,usernames:r})||(e=(0,p.mS)(),e=(0,h.wix)(e,s,{usernames:o}),(0,p.UF)(e))}),(0,p.aJ)("loadPasskeys",async e=>{const t=await(0,f.px)("fetchPasskeys");if(!t)return e=(0,p.mS)(),e={...e,settings:{...e.settings,passkeys:void 0}},void(0,p.UF)(e);e=(0,p.mS)(),e={...e,settings:{...e.settings,passkeys:t.passkeys}},(0,p.UF)(e)}),(0,p.aJ)("startPasskeyRegistration",async(e,t,n)=>{const{tabId:r=(0,o.g0)()}=n||{},i=await(0,f.px)("initPasskeyRegistration");if(!i)return;const c=(0,a.C)(i),d=await navigator.credentials.create(c).catch(e=>{if(!(e instanceof DOMException&&"NotAllowedError"===e.name))throw e;t.showNotification({message:{key:"PasskeyCreateError"},tabId:r})});if(!d)return;const u=d;await(0,f.px)("registerPasskey",u.toJSON())&&(await(0,p.pv)().loadPasskeys(),t.openSettingsScreen({screen:s.VS.Passkeys,tabId:r}))}),(0,p.aJ)("deletePasskey",async(e,t,n)=>{const{id:s}=n,r=e.settings.passkeys;if(r?.length){const t=r.filter(e=>e.id!==s);e={...e,settings:{...e.settings,passkeys:t}},(0,p.UF)(e)}await(0,f.px)("deletePasskey",{id:s}),t.loadPasskeys()})},27109(e,t,n){"use strict";n.d(t,{If:()=>i,RY:()=>u,o3:()=>d,sh:()=>c});var s=n(9716),r=n(87894),a=n(80140),o=n(62214);function i(e,t,n){const s=u(e,t,n);return!!s?.mutedUntil&&(0,a.Fm)()<s.mutedUntil}function c(e,t,n){const s=u(e,t,n);return!!s&&!s.hasSound}function d(e,t,n){const s=u(e,t,n);return Boolean(s?.shouldShowPreviews)}function u(e,t,n){const a=t?.[function(e){if((0,s.L8)(e.id))return"users";const t=e;return(0,o.WX)(t)?"channels":"groups"}(e)];if(n||a)return{...a,...n&&(0,r.Oy)(n)}}},28470(e,t,n){"use strict";n.d(t,{e:()=>u,z:()=>d});var s=n(31481),r=n(66644),a=n(6842),o=n(14235);const i=new Map;let c;function d(e,t){t??=(0,o.A)(),e.props.id=t;const n=(0,a.A)(e)[0];return i.set(e.props.id,n),function(e){(0,r.RK)(()=>{c||function(){if(c)return;const e=document.createElementNS(s.jNX,"svg");e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("viewBox","0 0 1 1"),e.classList.add("svg-definitions"),document.body.appendChild(e),c=document.createElementNS(s.jNX,"defs"),e.appendChild(c)}(),c.appendChild(e)})}(n),t}function u(e){const t=i.get(e);t&&((0,r.RK)(()=>{t.remove()}),i.delete(e))}},29886(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);function r(e){const t=(0,s.li)(),n=(0,s.li)();return n.current!==e&&(t.current=n.current),n.current=e,t.current}},30163(e,t,n){"use strict";n.d(t,{Bm:()=>w,Cz:()=>B,GH:()=>M,Ij:()=>v,Nr:()=>x,O8:()=>L,OD:()=>D,Q3:()=>k,WL:()=>N,Wy:()=>I,oZ:()=>P,oe:()=>E,r8:()=>A,t0:()=>U,tK:()=>R,wg:()=>C,yc:()=>S});var s=n(31481),r=n(14487),a=n(17142),o=n(5056),i=n(19926);const c=30,d=90,u=180,l=360,f=720,g={[c]:"1ï¸âƒ£",[d]:"2ï¸âƒ£",[u]:"3ï¸âƒ£",[l]:"4ï¸âƒ£",[f]:"5ï¸âƒ£"},p="2ï¸âƒ£",h="3ï¸âƒ£",m="4ï¸âƒ£",y="1ï¸âƒ£",b="2ï¸âƒ£",_="3ï¸âƒ£";function v(e,t){const{stickers:n}=e.stickers.favorite;return n&&n.some(({id:e})=>e===t.id)}function w(e,...[t=(0,r.g0)()]){return(0,o.n)(e,t).stickerSearch}function I(e,...[t=(0,r.g0)()]){return(0,o.n)(e,t).gifSearch}function S(e,t){return"string"==typeof t?e.stickers.setsById[t]:"id"in t?e.stickers.setsById[t.id]:"isMissing"in t?void 0:Object.values(e.stickers.setsById).find(({shortName:e})=>e.toLowerCase()===t.shortName.toLowerCase())}function C(e,t){const n=e.stickers.added.setIds;let s=[];return e.stickers.favorite.stickers.forEach(e=>{e.emoji===t&&s.push(e)}),n?.forEach(n=>{const r=e.stickers.setsById[n].packs;r&&(s=s.concat(r[t]||[],r[T(t)]||[]))}),s}function A(e,t){const n=(0,i.g2)(e),s=e.customEmojis.added.setIds;let r=[];return s?.forEach(n=>{const s=e.stickers.setsById[n].packs;s&&(r=r.concat(s[t]||[],s[T(t)]||[]))}),n?r:r.filter(({isFree:e})=>e)}function P(e,t){const n=(0,i.g2)(e),s=e.customEmojis.added.setIds;let r=[];return s?.forEach(n=>{const s=e.stickers.setsById[n].packs;if(!s)return;const a=Object.entries(s).filter(([e])=>t.includes(e)||t.includes(T(e))).flatMap(([,e])=>e);r=r.concat(a)}),n?r:r.filter(({isFree:e})=>e)}function k(e){return e.isEmoji&&e.stickers?.some(e=>!e.isFree)}function T(e){return e.replace("ï¸","")}function E(e,t){const{animatedEmojis:n}=e;if(!n||!n.stickers)return;const s=T(t);return n.stickers.find(e=>e.emoji===t||e.emoji===s)}function M(e,t){const{restrictedEmoji:n}=e;if(!n||!n.stickers)return;const s=T(t);return n.stickers.find(e=>{if(e.emoji)return T(e.emoji)===s})}function x(e,t){const{animatedEmojiEffects:n}=e;if(!n||!n.stickers)return;const s=T(t);return n.stickers.find(e=>e.emoji===t||e.emoji===s)}function R(e,t){return e?.appConfig.emojiSounds[T(t)]}function B(e,t){return"id"in t&&(t.id===e.appConfig.defaultEmojiStatusesStickerSetId||t.id===s.QkL)}function U(e,t=30){const n=e.premiumGifts?.stickers;if(!n)return;const s=function(e){return e<=30?g[30]:e<=90?g[90]:e<=185?g[180]:e<=365?g[360]:g[720]}(t);return n.find(e=>e.emoji===s)||n[0]}function N(e,t){const n=e.premiumGifts?.stickers;if(!n||!t)return;let s;return s=t<=1e3?p:t<2500?h:m,n.find(e=>e.emoji===s)||n[0]}function D(e,t){const n=e.tonGifts?.stickers;if(!n||!t)return;const r=(0,a.UL)(t,s.ykW);let o;return o=r<10?y:r<50?b:_,n.find(e=>e.emoji===o)||n[0]}function L(e,t){return e.customEmojis.byId[t]}},30708(e,t,n){"use strict";function s(e){return function(e){return e.sharedState}(e).settings}function r(e){return s(e).animationLevel}n.d(t,{Vu:()=>r,lS:()=>s})},30757(e,t,n){"use strict";n.d(t,{BS:()=>u,Iv:()=>l,K5:()=>a,KI:()=>f,Nt:()=>c,P5:()=>o,Qq:()=>d,eC:()=>g,wm:()=>i});var s=n(4350),r=n(30708);function a(e){return e.settings.notifyDefaults}function o(e,t){return e.chats.notifyExceptionById?.[t]}function i(e){return(0,r.lS)(e).language.replace("-raw","")}function c(e){const t=(0,s.zk)();return e.auth.rememberMe&&!s.Xz&&1===Object.keys(t).length}function d(e){return e.settings.byKey.translationLanguage||i(e)}function u(e){return e.settings.byKey.shouldNewNonContactPeersRequirePremium}function l(e){return e.settings.byKey.nonContactPeersPaidStars}function f(e){return e.settings.byKey.shouldHideReadMarks}function g(e){return e.settings.byKey}},30857(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);const r=()=>{const[,e]=(0,s.J0)(!1);return(0,s.hb)(()=>{e(e=>!e)},[])}},31481(e,t,n){"use strict";n.d(t,{$$v:()=>Pe,$4F:()=>ye,$gx:()=>$,$nk:()=>Ft,A$T:()=>m,ACj:()=>A,AGC:()=>K,ATy:()=>Fe,Apc:()=>Ht,BSg:()=>Ae,BYH:()=>Vt,C$_:()=>le,C39:()=>r,C7Y:()=>rs,CH0:()=>ws,CQG:()=>as,CV:()=>V,CVm:()=>Ee,CVv:()=>E,CfG:()=>We,Ckz:()=>$n,Cmz:()=>u,Cyx:()=>it,D$I:()=>bs,D3G:()=>Qe,D3m:()=>l,DSF:()=>zn,DUo:()=>T,EPW:()=>Yt,FZw:()=>Jn,G38:()=>xn,G3A:()=>Kt,G6O:()=>nt,GW0:()=>R,GhT:()=>Lt,H4O:()=>Pt,H6l:()=>Tt,HGU:()=>Z,H_r:()=>An,HaM:()=>I,HxB:()=>ss,Hz7:()=>ke,I0K:()=>tt,I6d:()=>Ve,IH3:()=>bn,IRc:()=>J,Iz7:()=>D,J$1:()=>Wt,KFG:()=>et,K_A:()=>Dn,Ka6:()=>Qn,Kh8:()=>un,Kp3:()=>Zt,L1q:()=>Un,L3V:()=>j,LWg:()=>vs,LX5:()=>Rn,LaL:()=>v,Lj4:()=>at,M$8:()=>Ps,M3$:()=>ge,M8B:()=>Me,MVx:()=>g,MkD:()=>hs,Msx:()=>hn,MyF:()=>nn,N89:()=>vn,NjX:()=>Mn,NkL:()=>Xn,O2i:()=>Cs,O4t:()=>ft,OFc:()=>Cn,OMf:()=>qt,OUy:()=>ct,OVC:()=>dn,Oig:()=>f,OkV:()=>qn,Os5:()=>yt,OzO:()=>It,P3f:()=>Te,PGI:()=>us,Pje:()=>ns,PqE:()=>gs,Q$7:()=>x,QkL:()=>Gn,RCH:()=>Bt,Rqe:()=>Dt,S4O:()=>_t,SKD:()=>wt,SbH:()=>Ms,T7t:()=>te,TBj:()=>Ut,Um:()=>se,UuV:()=>P,UyP:()=>Et,Uyp:()=>$t,VCe:()=>jn,ViI:()=>M,Vz3:()=>gn,W75:()=>d,WF4:()=>Es,WG3:()=>de,XLD:()=>fs,XOS:()=>xs,XQO:()=>be,Xab:()=>ht,Xrp:()=>qe,Y3M:()=>Tn,YAK:()=>G,YVZ:()=>Ke,YoZ:()=>z,ZhW:()=>ue,_Bb:()=>ds,_C3:()=>Oe,_E9:()=>Wn,_tP:()=>fe,aFH:()=>kn,b5_:()=>Vn,be8:()=>ps,bkT:()=>Mt,bnE:()=>Sn,bpX:()=>rn,c2m:()=>lt,c59:()=>fn,cK8:()=>s,cLl:()=>F,cUY:()=>an,cgU:()=>os,cnh:()=>rt,cqp:()=>je,dK5:()=>_s,dnp:()=>xe,dqH:()=>$e,dxe:()=>Ss,e0F:()=>He,eKB:()=>tn,eqO:()=>X,es:()=>At,ezG:()=>U,f51:()=>On,f84:()=>gt,fNs:()=>yn,fRl:()=>pt,fSF:()=>De,fng:()=>c,frj:()=>me,fwn:()=>Gt,g0Q:()=>xt,g0p:()=>ys,gQx:()=>dt,gXr:()=>ae,gex:()=>mn,hYe:()=>Ts,hfH:()=>en,i11:()=>Ue,iIc:()=>we,iJx:()=>k,iKt:()=>Xe,iRY:()=>Is,ikg:()=>pn,irO:()=>Se,j0M:()=>b,j1l:()=>Xt,j3k:()=>W,j41:()=>Nt,j7z:()=>ut,jNX:()=>ln,jQ1:()=>st,jhT:()=>As,jhd:()=>cn,jsp:()=>Pn,kGl:()=>Kn,kNZ:()=>wn,lFE:()=>p,lYi:()=>he,laV:()=>re,m$5:()=>Ye,mD0:()=>jt,mFn:()=>a,mH$:()=>ie,mPG:()=>Ge,mxD:()=>_n,naf:()=>kt,nfi:()=>O,nnT:()=>ce,npx:()=>ze,nxZ:()=>St,oBq:()=>C,ozB:()=>B,pX9:()=>Hn,pZc:()=>Le,pk8:()=>Ne,pkx:()=>ts,qGQ:()=>y,qJR:()=>o,qKY:()=>w,qLe:()=>ls,qbC:()=>is,qj6:()=>Ie,r2x:()=>Ot,r6P:()=>i,r9K:()=>es,rBM:()=>ve,rgX:()=>Bn,rkj:()=>h,s8T:()=>Ct,sR2:()=>Jt,sXR:()=>In,syL:()=>Rs,tBS:()=>ks,tNZ:()=>Ln,tP8:()=>ms,tRH:()=>Qt,u4b:()=>_e,uCr:()=>ne,ukY:()=>Zn,um6:()=>S,vVF:()=>on,wAs:()=>oe,wEk:()=>Nn,wVm:()=>Je,wZe:()=>Ce,x6_:()=>Rt,xB5:()=>bt,xEh:()=>mt,xJs:()=>N,xMZ:()=>zt,xcU:()=>ot,xw7:()=>ee,y67:()=>cs,ykW:()=>pe,ynd:()=>Yn,yo2:()=>Y,yq1:()=>Q,z2M:()=>q,zGP:()=>_,zHL:()=>Re,zLi:()=>En,zNY:()=>sn,zP3:()=>Be,zPk:()=>Ze,zq7:()=>vt,zrf:()=>L,zv8:()=>Fn});const s="A",r="AlphaHuman Web",a="telegram.alphahuman.xyz",o="https://telegram.alphahuman.xyz/",i="account",c=!1,d=!1,u=!1,l="paid_messages",f=!1,g=!1,p="tt-log.json",h=f,m=!1,y="https://telegra.ph/WebA-Beta-03-20",b="AlphaHuman",_="Telegram Air",v="[Inactive]",w=!1,I="user_auth",S="account",C="tt-passcode",A=6,P=!1,k="tt-global-state",T="tt-shared-state",E=500,M=200,x=10,R=150,B="tt-is-screen-locked",U="tt-has-completed-welcome",N=!1,D="tt-media",L="tt-media-avatars",F="tt-media-progressive",O="tt-custom-bg",V="tt-lang-packs-v50",$=[1,5,10,50,100,500],G="tt-global",j="tt-establish",q="tt-multitab",z="tgweb",W=[1,2,3,4,5],H="undefined"!=typeof window&&window.innerHeight>=900,K=1,Y=H?60:40,J=2*Y,X=36,Q=72,Z=65,ee=56,te=H?30:25,ne=100,se=42,re=42,ae=42,oe=20,ie=5,ce=30,de=200,ue=500,le=600,fe=10,ge=2,pe="TON",he=18,me=15,ye=10,be=20,_e=30,ve="global",we=20,Ie=500,Se=20,Ce=250,Ae=1,Pe=1e4,ke=1,Te=1,Ee=1200,Me=-1,xe=0,Re=1,Be=2,Ue=Re,Ne=16,De=17,Le=15,Fe="top",Oe="left",Ve=Fe,$e=3,Ge=1e4,je=3e3,qe=1e7,ze=36e5,We="editable-message-text",He="editable-message-text-modal",Ke="editable-story-input-text",Ye=`.messages-layout .Transition_slide-active #${We}, .messages-layout .Transition > .Transition_slide-to #${We}`,Je=`#${He}`,Xe=`#${Ke}`,Qe="data-has-custom-appendix",Ze="message-content",et=".message-content",tt="active-view-transition",nt="active-vt-",st="resizeHandle",rt=`.${st}`,at="snap-effect-container",ot="snap-effect",it="â­",ct="XTR",dt=1275,ut=925,lt=600,ft=950,gt=450,pt=2**31-1,ht="0",mt=pt,yt=0,bt=100,_t=200,vt=10,wt=300,It=600,St=800,Ct=300,At=(Math.round((wt+It)/2),new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory","deleteParticipantHistory"]),200),Pt=13,kt=11,Tt=160,Et=120,Mt=72,xt=36,Rt=32,Bt=40,Ut=32,Nt=20,Dt=72,Lt=72,Ft=36,Ot=160,Vt=160,$t=140,Gt=100,jt=100,qt=140,zt=140,Wt=2,Ht=7,Kt="top",Yt="popular",Jt="recent",Xt="collectibleStatus",Qt="favorite",Zt="effectStickers",en="effectEmojis",tn="chatStickers",nn="topic-default-icon",sn="status-default-icon",rn=/<img[^>]+alt="([^"]+)"(?![^>]*data-document-id)[^>]*>/gm,an="en",on=200,cn=450,dn="FestiveFontEmoji",un="RestrictedEmoji",ln="http://www.w3.org/2000/svg",fn=new Set(["svg","svgz"]),gn="image/gif",pn="application/x-tgsticker",hn="video/webm",mn=new Set(["image/png","image/jpeg",gn]),yn=new Set(["video/mp4","video/quicktime"]),bn=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),_n=new Set([...mn,...yn]),vn=["en","ar","be","ca","zh","nl","fr","de","id","it","ja","ko","pl","pt","ru","es","uk","af","sq","am","hy","az","eu","bn","bs","bg","ceb","zh-CN","zh-TW","co","hr","cs","da","eo","et","fi","fy","gl","ka","el","gu","ht","ha","haw","he","iw","hi","hmn","hu","is","ig","ga","jv","kn","kk","km","rw","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","ny","or","ps","fa","pa","ro","sm","gd","sr","st","sn","sd","si","sk","sl","so","su","sw","sv","tl","tg","ta","tt","te","th","tr","tk","ur","ug","uz","vi","cy","xh","yi","yo","zu"],wn="((ftp|https?):\\/\\/)?((www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)",In="(@[\\w\\d_-]+)",Sn=/^tg:(\/\/)?/i,Cn=/^(https?:\/\/)?([-a-zA-Z0-9@:%_+~#=]{1,32}\.)?t\.me/i,An=/^(https?:\/\/)?telegram\.org\//i,Pn="https://t.me/",kn="botfather",Tn="USERNAME_PURCHASE_AVAILABLE",En="MESSAGE_ID_REQUIRED",Mn="auction",xn=(new Set([Tn,"USERNAME_INVALID"]),new Set(["t.me","web.t.me","a.t.me","k.t.me","z.t.me"])),Rn="weba",Bn="weba",Un="sensitive",Nn=new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),Dn=["bots","channels","chats","users","groups"],Ln={type:"emoji",emoticon:"â¤"},Fn="777000",On="1271266957",Vn="489000",$n="2666000",Gn="7173162320003080",jn=1e6,qn=10n**12n,zn=0,Wn=1,Hn=-1,Kn=12,Yn=((-qn-777n).toString(),10),Jn=5,Xn=2147483646,Qn=["android","ios","tdesktop","macos"],Zn="https://alphahuman.canny.io/",es="https://telegram.org/faq",ts="https://telegram.org/privacy",ns="https://telegram.org/tos/mini-apps",ss=1,rs=86400,as=4,os=10,is=10,cs=10,ds="888",us=11,ls=20,fs="#99BA92",gs="#0F0F0F",ps="#4A8E3A8C",hs="#48576166",ms="1a",ys="2b",bs=5,_s=524288,vs=new Set(["USER_CANCELED"]),ws=100,Is=100*ws,Ss=2147483647,Cs=["stories","double_limits","more_upload","faster_download","voice_to_text","no_ads","infinite_reactions","premium_stickers","animated_emoji","advanced_chat_management","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects","todo"],As=["faster_download","voice_to_text","advanced_chat_management","infinite_reactions","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects","todo"],Ps=["channels","dialogFolderPinned","channelsPublic","savedGifs","stickersFaved","aboutLength","captionLength","dialogFilters","dialogFiltersChats","moreAccounts","recommendedChannels"],ks={sortType:"byDate",shouldIncludeUnlimited:!0,shouldIncludeLimited:!0,shouldIncludeUnique:!0,shouldIncludeDisplayed:!0,shouldIncludeHidden:!0,shouldIncludeUpgradable:!0},Ts={sortType:"byDate"},Es=[1,3,6,12,18,24],Ms="https://staging-api.alphahuman.xyz",xs="alphahumanx_bot",Rs="7948282604"},32625(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(17712);const a=function(e,t,n=!1){const a=(0,r.A)(e);(0,s.vJ)(()=>{if(void 0===t)return;const e=setInterval(()=>a(),t);return n||a(),()=>clearInterval(e)},[t,n])}},32989(e,t,n){"use strict";n.d(t,{w:()=>r});var s=n(14487);function r(e,t,...[n=(0,s.g0)()]){return{...e,byTabId:{...e.byTabId,[n]:{...e.byTabId[n],...t}}}}},33204(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(13439);const r=new Map;function a(e,t){const n=e.action;clearTimeout(r.get(n));const a=window.setTimeout(()=>{(0,s.ko)()[n](e.payload)},t);r.set(n,a)}},33554(e,t,n){"use strict";n.d(t,{$:()=>r});var s=n(87894);function r(e,t){return e===t?t:(0,s.Vh)(t)?(0,s.Vh)(e)?"__deleteAllChildren"in t?{}:(0,s.Am)(Object.keys(e).concat(Object.keys(t))).reduce((n,s)=>{const a=e[s];if(t.hasOwnProperty(s)){const e=t[s];e?.__delete||(n[s]=r(a,e))}else n[s]=a;return n},{}):a(t):t}function a(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce((e,[t,n])=>(n?.__delete||(e[t]=(0,s.Vh)(n)?a(n):n),e),{})}},34201(e,t,n){"use strict";n.d(t,{A:()=>g});var s=n(84051),r=n(61433),a=n(66644),o=n(83414),i=n(19129),c=n(17712),d=n(41257),u=n(35297),l=n(66230);const f=350;function g(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:g=!1,noCloseTransition:p=!1,closeDuration:h=f,className:m="fast",prefix:y="",shouldForceOpen:b,onCloseAnimationEnd:_}=e,v=(0,s.li)(),w=e.ref||v,I=(0,s.li)(),[S,C]=(0,s.Ul)(),A=(0,d.i)({closeDuration:h,noMountTransition:n,noOpenTransition:g,noCloseTransition:p}),P=(0,c.A)(_);(0,l.A)(([e])=>{const n=A.current;b?C("open"):t?(I.current&&(clearTimeout(I.current),I.current=void 0),n.noOpenTransition||void 0===e&&n.noMountTransition?C("open"):(C("scheduled-open"),(0,a.YS)(()=>{C("open")}))):void 0===e||n.noCloseTransition?C("closed"):(C("closing"),I.current=window.setTimeout(()=>{C("closed"),P()},n.closeDuration))},[t,b]);const k=(0,c.A)(()=>{const e=w.current;if(!e)return;!1!==m&&((0,r.YM)(e,"opacity-transition"),(0,r.YM)(e,m));const t=S(),n="closed"!==t,s="open"===t,a="closing"===t;(0,r.dH)(e,`${y}shown`,n),(0,r.dH)(e,`${y}not-shown`,!n),(0,r.dH)(e,`${y}open`,s),(0,r.dH)(e,`${y}not-open`,!s),(0,r.dH)(e,`${y}closing`,a)});(0,u.A)(()=>{w.onChange=()=>{w.onChange=void 0,k()}},[k,w]),(0,s.Nf)(k,[k,S]);const T="withShouldRender"in e&&e.withShouldRender,E=(0,i.A)(()=>T&&"closed"!==S(),[T,S]),M=(0,o.A)(()=>"closing"===S(),[S]);return T?{ref:w,shouldRender:E,getIsClosing:M}:{ref:w,getIsClosing:M}}},34780(e,t,n){"use strict";n.d(t,{Ay:()=>f,c_:()=>u,w4:()=>l});var s=n(84051),r=n(46536),a=n(17712);const o=(0,r.h)(),i=(0,r.h)();let c,d=!1;function u(){return d}function l(){return d||(d=!0,o.runCallbacks()),c&&(clearTimeout(c),c=void 0),function(){c&&(clearTimeout(c),c=void 0),d=!1,i.runCallbacks()}}const f=(e,t,n=!1)=>{const r=(0,a.A)(e),c=(0,a.A)(t);(0,s.vJ)(()=>{if(!n)return d&&r(),o.addCallback(r),i.addCallback(c),()=>{i.removeCallback(c),o.removeCallback(r)}},[n,r,c])}},35104(e,t,n){"use strict";function s(e,t){return[e.date,e.fromId,e.gift.id,"starGiftUnique"===e.gift.type?e.gift.number:void 0,t?void 0:e.localTag].filter(Boolean).join("-")}n.d(t,{p:()=>s})},35297(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(73767);function a(e,t){const n=(0,r.A)(t),a=(0,s.li)();n&&!t.some((e,t)=>e!==n[t])||(a.current?.(),a.current=e(n||[])??void 0),(0,s._W)(()=>{a.current?.()})}},35710(e,t,n){"use strict";n.d(t,{q:()=>s});let s=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.DownloadUrl=2]="DownloadUrl",e[e.Text=3]="Text",e}({})},36175(e,t,n){"use strict";n.d(t,{d:()=>G,w:()=>j});const s=n.p+"QrPlane.a921709f266564f65b7e.tgs",r=n.p+"BannedDuck.8278f2d6451ea282d426.tgs",a=n.p+"CameraFlip.1a9fe44cf01fcb22347d.tgs",o=n.p+"HandFilled.f87939d160f1dc288586.tgs",i=n.p+"HandOutline.f9831751ba60df30c484.tgs",c=n.p+"Speaker.04bb3743412b41ff83c5.tgs",d=n.p+"VoiceAllowTalk.a9cc7c39ec438973ddc9.tgs",u=n.p+"VoiceMini.bf00ffdf69625c579569.tgs",l=n.p+"VoiceMuted.a4b4ec6bfd7c6c5fb275.tgs",f=n.p+"VoiceOutlined.91b394ab3562cdfad6bc.tgs",g=n.p+"Diamond.c338df43ca65e19d0532.tgs",p=n.p+"DuckNothingFound.175a7ca3d96c1c328586.tgs",h=n.p+"Flame.d1a2dae178cb492c75ea.tgs",m=n.p+"Fragment.b1bf3a076c00ef525901.tgs",y=n.p+"Mention.810d50783976689ed870.tgs",b=n.p+"PartyPopper.287e4290662b3d2b269c.tgs",_=n.p+"Invite.4502ec3aa4249d6e6723.tgs",v=n.p+"Requests.af9f19772695a8898810.tgs",w=n.p+"LastSeen.b16ff3c97561138c2406.tgs",I=n.p+"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3e.tgs",S=n.p+"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab.tgs",C=n.p+"TwoFactorSetupMonkeyPeek.1905436b042520363d7e.tgs",A=n.p+"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12.tgs",P=n.p+"ReadTime.015d6e6f73f768f1e9fe.tgs",k=n.p+"Report.4a5dda0227ea86f6fa5e.tgs",T=n.p+"Search.6ca2c404467cff8f095a.tgs",E=n.p+"SearchingDuck.bbd2938a3403490d077c.tgs",M=n.p+"Congratulations.b6623b8efc6fedec9d33.tgs",x=n.p+"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a.tgs",R=n.p+"DuckCake.67f32d0fec7e02a42feb.tgs",B=n.p+"Experimental.43d62096368bf5a00ae3.tgs",U=n.p+"FoldersAll.3f9f9e243d19f0fbf9aa.tgs",N=n.p+"FoldersNew.9a40d71c0c8be70f5bd1.tgs",D=n.p+"FoldersShare.3356f97ced75bf97121c.tgs",L=n.p+"Lock.12547a0228d4fa544e53.tgs",F=n.p+"Passkeys.ba4dbf5f2f5d93d08b42.tgs",O=n.p+"StarReaction.9079111e9821148b6055.tgs",V=n.p+"StarReactionEffect.8718d0946883c6f031f8.tgs",$=n.p+"Unlock.15931385f7a95ab1a000.tgs",G={DuckNothingFound:n.p+"DuckNothingFound.5d28f004d7e79165ab23.svg",Search:n.p+"Search.b14de1f9fb79fa2f9a49.svg",Passkeys:n.p+"Passkeys.45dcb4119bdfa8495b26.svg"},j={MonkeyIdle:S,MonkeyTracking:A,MonkeyClose:I,MonkeyPeek:C,FoldersAll:U,FoldersNew:N,FoldersShare:D,DiscussionGroups:x,Lock:L,CameraFlip:a,HandFilled:o,HandOutline:i,Speaker:c,VoiceAllowTalk:d,VoiceMini:u,VoiceMuted:l,VoiceOutlined:f,JoinRequest:v,Invite:_,QrPlane:s,Congratulations:M,Experimental:B,PartyPopper:b,Flame:h,ReadTime:P,Unlock:$,LastSeen:w,Mention:y,Fragment:m,StarReactionEffect:V,StarReaction:O,HealthyStar:O,Report:k,SearchingDuck:E,BannedDuck:r,Diamond:g,Search:T,DuckNothingFound:p,Passkeys:F,DuckCake:R}},37479(e,t,n){"use strict";n.d(t,{A:()=>u});var s=n(84051),r=n(31481),a=n(48894),o=n(28470),i=n(20021);const c=new Map;class d{referenceCount=0;constructor(e){this.color=e,this.filterId=`color-filter-${e.slice(1)}`;const t=(0,a.hF)(e);(0,o.z)((0,i.Y)("filter",{"color-interpolation-filters":"sRGB",xmlns:r.jNX,children:(0,i.Y)("feColorMatrix",{type:"matrix",values:`0 0 0 0 ${t.r/255} 0 0 0 0 ${t.g/255} 0 0 0 0 ${t.b/255} 0 0 0 1 0`})}),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,o.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function u(e,t){if((0,s.vJ)(()=>{if(e)return()=>{const t=c.get(e);t&&(t.removeReference(),t.isUsed()||c.delete(t.color))}},[e]),!e)return;if(c.has(e))return l(c.get(e).getFilterId(),t);const n=new d(e);return c.set(e,n),l(n.getFilterId(),t)}function l(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},37661(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);const r=(e=!1,t)=>{const[n,r]=(0,s.J0)(e,t);return[n,(0,s.hb)(()=>{r(!0)},[]),(0,s.hb)(()=>{r(!1)},[])]}},37836(e,t,n){"use strict";function s(e,t,n=!0,s=!0){let r;return(...a)=>{r?(clearTimeout(r),r=void 0):n&&e(...a),r=self.setTimeout(()=>{s&&e(...a),r=void 0},t)}}function r(e,t,n=!0){let s,r,a;return(...o)=>{r=!0,a=o,s||(n&&(r=!1,e(...a)),s=self.setInterval(()=>{if(!r)return self.clearInterval(s),void(s=void 0);r=!1,e(...a)},t))}}function a(e){return o(m,e)}function o(e,t){let n,s=!1;return(...r)=>{n=r,s||(s=!0,e(()=>{s=!1,t(...n)}))}}n.d(t,{Fe:()=>a,IJ:()=>h,P_:()=>c,aj:()=>m,kI:()=>y,nF:()=>r,nb:()=>o,sg:()=>s,v7:()=>i,yu:()=>b});const i=e=>new Promise(t=>{setTimeout(()=>t(),e)});function c(){return new Promise(e=>{h(e)})}let d,u,l,f,g,p;function h(e,t=!1){d?d.add(e):(d=new Set([e]),requestAnimationFrame(()=>{const e=d;d=void 0,u=void 0,l&&(clearTimeout(l),l=void 0),e.forEach(e=>e())})),t&&(u?u.add(e):u=new Set([e]),l||(l=window.setTimeout(()=>{const e=u;if(d){const t=d;e.forEach(e=>t.delete(e))}u=void 0,l&&(clearTimeout(l),l=void 0),e.forEach(e=>e())},35)))}function m(e){f?f.push(e):(f=[e],Promise.resolve().then(()=>{const e=f;f=void 0,e.forEach(e=>e())}))}function y(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback(e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(y))},{timeout:500})):m(e)}function b(e,t=!1){return p||(p=[],self.addEventListener("beforeunload",()=>{p.forEach(e=>e())})),t?p.push(e):p.unshift(e),()=>{p=p.filter(t=>t!==e)}}},37932(e,t,n){"use strict";n.d(t,{Cn:()=>x,DW:()=>M,cl:()=>U});var s=n(31481),r=n(5930),a=n(9705),o=n(2188),i=n(87894),c=n(37836),d=n(84051),u=n(30857),l=n(14745),f=n(20021);let g,p={isInited:!1};const h=(0,c.Fe)(()=>{g=Math.random()}),m={},y=[function(){let e;s.Oig&&(e=performance.now());for(const e of _.values()){const{mapStateToProps:t,ownProps:n,mappedProps:a,forceUpdate:i}=e;if(!B(e,p,n))continue;let c;try{c=t(p,n)}catch(e){return void(0,o.H)(e)}s.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!(0,r.A)(a,c)&&(s.MVx&&(0,r.q)(a,c,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=c,e.DEBUG_updates++,i())}if(s.Oig){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],b={},_=new Map,v=(0,c.Fe)(I);let w=!0;function I(){if(w)w=!1;else if((0,d.OV)())return void d.OV.once(v);y.forEach(e=>e(p))}function S(e,t){if("object"==typeof e&&e!==p){if(s.Oig){if(!t?.forceOutdated&&e.DEBUG_randomId&&e.DEBUG_randomId!==g)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");g=Math.random()}p=e,t?.forceSyncOnIOs?(w=!0,I()):(t?.forceOnHeavyAnimation&&(w=!0),v())}}function C(){return s.Oig&&(p={...p,DEBUG_randomId:g},h()),p}function A(){return b}let P=[],k=[];function T(e){k.push(e)}function E(e,t){m[e]||(m[e]=[],b[e]=(t,n)=>function(e,t,n){const r=new a.A;if(P.push(()=>{m[e]?.forEach(e=>{const a=e(s.Oig?C():p,b,t);a?"function"!=typeof a.then?(S(a,n),r.resolve()):a.then(()=>{r.resolve()}):r.resolve()})}),1===P.length)try{for(;P.length;)P[0](),P.shift();for(;k.length;)k[0](),k.shift()}finally{P=[],k=[]}return r.promise}(e,t,n)),m[e].push(t)}function M(e){y.push(e)}function x(e){const t=y.indexOf(e);-1!==t&&y.splice(t,1)}function R(e=()=>({}),t){return n=>{function s(s){const a=(0,l.A)(),i=(0,u.A)();(0,d._W)(()=>{_.delete(a)});let c=_.get(a);if(c||(c={mapStateToProps:e,activationFn:t,ownProps:s,forceUpdate:i,DEBUG_updates:0,DEBUG_componentName:n.name},_.set(a,c)),(!c.mappedProps||!(0,r.A)(c.ownProps,s))&&B(c,p,s))try{c.mappedProps=e(p,s)}catch(e){(0,o.H)(e)}return c.ownProps=s,(0,f.Y)(n,{...c.mappedProps,...s})}return s.DEBUG_contentComponentName=(0,d.$Z)(n),s}}function B(e,t,n){const{activationFn:s,stuckTo:r}=e;return!s||s(t,n,t=>r?r===t:(void 0!==t&&(e.stuckTo=t),!0))}function U(){return{getGlobal:C,setGlobal:S,getActions:A,getPromiseActions:A,addActionHandler:E,withGlobal:R,execAfterActions:T}}s.Oig&&(window.getGlobal=C,window.setGlobal=S,window.getActions=A,document.addEventListener("dblclick",()=>{console.warn("GLOBAL CONTAINERS",(0,i.My)(Array.from(_.values()).map(({DEBUG_componentName:e,DEBUG_updates:t})=>({DEBUG_componentName:e,DEBUG_updates:t})),"DEBUG_updates","desc"))}))},37960(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(34201);function r(e){return(0,s.A)({isOpen:e.hasMediaData,noMountTransition:e.hasMediaData,className:"slow",...e})}},38027(e,t,n){"use strict";e.exports=n.p+"grey.45da821d56a68ea86203.svg"},38691(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(84051),r=n(46536),a=n(15283);const o=(0,r.h)();function i(){window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",o.runCallbacks,{once:!0})}function c(){const[e,t]=(0,s.J0)(window.devicePixelRatio);return(0,a.A)(()=>o.addCallback(()=>{t(window.devicePixelRatio)})),e}i(),o.addCallback(i)},39351(e,t,n){"use strict";n.d(t,{A:()=>o});var s=n(43044),r=n(15283),a=n(30857);const o=()=>{const e=(0,a.A)();return(0,r.A)(()=>(0,s.iV)(e)),(0,s.Yw)()}},39751(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(37836),a=n(43503),o=n(16581);function i(){const{width:e,height:t}=a.A.get(),[n,i]=(0,s.J0)(e),[c,d]=(0,s.J0)(t),[u,l]=(0,s.J0)(!1),f=(0,o.A)(l,[l],250,!0);return(0,s.vJ)(()=>{const e=(0,r.nF)(()=>{l(!0)},250,!0),t=(0,r.nF)(()=>{const{width:e,height:t}=a.A.get();i(e),d(t),f(!1)},250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[f]),(0,s.Kr)(()=>({width:n,height:c,isResizing:u}),[c,u,n])}},39761(e,t,n){"use strict";function s(e){for(e.pause(),e.removeAttribute("src");e.firstChild;)e.removeChild(e.firstChild);e.load()}n.d(t,{A:()=>s})},39877(e,t,n){"use strict";n.d(t,{A:()=>w});var s=n(84051),r=n(66644),a=n(90709),o=n(87357),i=n(87679),c=n(76023),d=n(87094),u=n(84080),l=n(17712),f=n(62587),g=n(59030),p=n(93545),h=n(38691),m=n(45294);var y=n(20021);const b=[{inline:22,block:38,opacity:.35,scale:.75},{inline:32,block:12,opacity:.3,scale:1},{inline:60,block:22,opacity:.25,scale:.75},{inline:75,block:44,opacity:.25,scale:1},{inline:75,block:2,opacity:.2,scale:.625},{inline:95,block:18,opacity:.2,scale:1},{inline:115,block:38,opacity:.2,scale:.625},{inline:125,block:12,opacity:.1,scale:.75}],_=c.$,v=.75*c.$,w=(0,s.ph)(({emojiDocumentId:e,className:t,withEmojiSpace:n})=>{const c=(0,s.li)(),w=(0,s.li)(),[I,S]=(0,s.J0)(),C=(0,h.A)(),A=(0,g.A)(),{customEmoji:P}=(0,m.A)(e),k=P?(0,a.Mw)(P,"preview"):void 0,T=(0,f.A)(k),E=(0,d.A)(w),M=(0,u.KE)(()=>{T&&(0,i.NN)(T).then(S)},[T]);(0,s.vJ)(()=>{M()},[M]);const x=(0,l.A)(()=>{const e=c.current;if(!e||!I||!E)return;const t=e.getContext("2d"),{width:s,height:r}=e;t.clearRect(0,0,s,r),b.forEach(({inline:e,block:r,opacity:a,scale:o})=>{const i=n?-v:0,c=((A.isRtl?e:s/C-e)+i)*C,d=r*C,u=_*C;t.save(),t.globalAlpha=a,t.translate(c,d),t.scale(o,o),t.drawImage(I,-u/2,-u/2,u,u),t.restore()});const a=`${E}${P.isLottie?"ff":"bb"}`;t.save(),t.fillStyle=a,t.globalCompositeOperation="source-atop",t.fillRect(0,0,s,r),t.restore()}),R=(0,u.KE)(x,[x]);(0,s.vJ)(()=>{R()},[I,A.isRtl,E,R,n]);const B=(0,u.KE)((e,t)=>{(0,r.RK)(()=>{const n=c.current;n&&(n.width=e*C,n.height=t*C,n.style.width=`${e}px`,n.style.height=`${t}px`,x())})},[C]),U=(0,u.KE)(e=>{const{width:t,height:n}=e.contentRect;B(t,n)},[B]);return(0,p.A)(w,U),(0,s.vJ)(()=>{const e=w.current;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();B(t,n)},[B]),(0,y.Y)("div",{className:(0,o.A)("pTWe_CYU",t),ref:w,children:(0,y.Y)("canvas",{ref:c})})})},39996(e,t,n){"use strict";n.d(t,{Ay:()=>c,yp:()=>d});var s=n(84051),r=n(90709),a=n(95807),o=n(74065),i=n(35297);function c({peer:e,color:t,noUserColors:n,shouldReset:c,theme:l}){const f=(0,s.li)({}),g=e&&!("isCustomPeer"in e)?e:void 0;return(0,i.A)(()=>{if(!e)return c?void(f.current={className:n?u(1):d(0)}):void(f.current={});if("isCustomPeer"in e)return void 0===e.peerColorId?void(f.current={}):void(f.current={className:`peer-color-${e.peerColorId}`,style:void 0});const s=t||e.color,i="collectible"===s?.type,g=u(e?(0,r.PX)(e):i?(0,r._n)(s):1),p=i||!s?.color?(0,r.Zg)(e):s.color;if(n)return void(f.current={className:g});if("collectible"===s?.type&&!n){const e="dark"===l&&s.darkAccentColor?s.darkAccentColor:s.accentColor,t="dark"===l&&s.darkColors?s.darkColors:s.colors,n=(0,o.dI)(t),{bg:r,bgActive:i}=(0,o.lx)(e);return void(f.current={className:g,style:(0,a.A)(`--bar-gradient: ${n}`,`--accent-color: ${e}`,`--accent-background-color: ${r}`,`--accent-background-active-color: ${i}`)})}const h=n||void 0===p?g:d(p);f.current={className:h,style:void 0}},[n,c,l,t,e]),{style:f.current.style,className:f.current.className,backgroundEmojiId:g?.color?.backgroundEmojiId,giftEmojiId:"collectible"===g?.color?.type?g.color.giftEmojiId:void 0}}function d(e){return`peer-color-${e}`}function u(e){return`peer-color-count-${e}`}},40664(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(84051),r=n(63495),a=n(87357),o=n(39351),i=n(20021);const c=(0,s.ph)(({ref:e,id:t,className:n,value:s,label:c,error:d,success:u,disabled:l,readOnly:f,placeholder:g,autoComplete:p,inputMode:h,maxLength:m,tabIndex:y,teactExperimentControlled:b,onChange:_,onInput:v,onKeyPress:w,onKeyDown:I,onBlur:S,onPaste:C,onClick:A})=>{const P=(0,o.A)(),k=d||u||c,T=(0,a.A)("input-group",s&&"touched",d?"error":u&&"success",l&&"disabled",f&&"disabled",k&&"with-label",n);return(0,i.FD)("div",{className:T,dir:P.isRtl?"rtl":void 0,children:[(0,i.Y)("input",{ref:e,className:"form-control",type:"text",id:t,dir:"auto",value:s||"",tabIndex:y,placeholder:g,maxLength:m,autoComplete:p,spellCheck:!r.Vq&&void 0,inputMode:h,disabled:l,readOnly:f,onChange:_,onInput:v,onKeyPress:w,onKeyDown:I,onBlur:S,onPaste:C,"aria-label":k,teactExperimentControlled:b,onClick:A}),k&&(0,i.Y)("label",{htmlFor:t,children:k})]})})},41036(e,t,n){"use strict";n.d(t,{Ay:()=>C,VY:()=>I,uo:()=>w});var s=n(84051),r=n(61433),a=n(13439),o=n(66644),i=n(91048),c=n(87357),d=n(25903),u=n(41402),l=n(87894),f=n(55994),g=n(30857),p=n(73767),h=n(66230),m=n(20021);const y="Transition_slide-active",b="Transition_slide-from",_="Transition_slide-to",v="Transition_slide-inactive",w=y,I=_,S=new Set(["slide","slideRtl","slideFade","zoomFade","zoomBounceSemiFade","slideLayers","pushSlide","reveal","slideOptimized","slideOptimizedRtl","slideVertical","slideVerticalFade"]),C=function({ref:e,activeKey:t,nextKey:n,name:w,direction:I="auto",renderCount:C,shouldRestoreHeight:A,shouldCleanup:P,cleanupExceptionKey:k,cleanupOnlyKey:T,shouldWrap:E,wrapExceptionKey:M,id:x,className:R,slideClassName:B,withSwipeControl:U,isBlockingAnimation:N,children:D,"data-tauri-drag-region":L,contentSelector:F,restoreHeightKey:O,onStart:V,onStop:$,onScroll:G,onMouseDown:j,onWheel:q}){const z=(0,s.li)(),W=S.has(w)&&!(0,i.PKK)((0,a.mS)());let H=(0,s.li)();e&&(H=e);const K=(0,s.li)({}),Y=(0,p.A)(t),J=(0,g.A)(),X=(0,s.li)(!1),Q=(0,s.li)(!1),Z=void 0!==Y&&t!==Y;!C&&Z&&(K.current={[Y]:K.current[Y]}),K.current[t]=D,n&&(K.current[n]=D),(0,h.A)(([e])=>{if(!e)return;const n="slideOptimized"===e||"slideOptimizedRtl"===e,s="slideOptimized"===w||"slideOptimizedRtl"===w;(n&&!s||!n&&s)&&(K.current={[t]:D},n&&(0,o.RK)(()=>{const e=H.current;["slideOptimized","slideOptimizedBackwards","slideOptimizedRtl","slideOptimizedRtlBackwards"].forEach(t=>(0,r.HW)(e,`Transition-${t}`))}))},[w]);const ee=-1===I||"auto"===I&&Y>t||"inverse"===I&&Y<t;(0,s.Nf)(()=>{function e(){P&&(K.current=void 0!==k?{[k]:K.current[k]}:void 0!==T?(0,l.cJ)(K.current,[T]):{},J())}const n="slideOptimized"===w||"slideOptimizedRtl"===w,a=H.current,i=Object.keys(K.current).map(Number),c=C?Y:i.indexOf(Y),g=C?t:i.indexOf(t),p=Array.from(a.childNodes);if(!p.length)return;const h=Array.from(a.children);if(h.forEach(e=>{(0,r.YM)(e,"Transition_slide"),B&&B.split(/\s+/).forEach(t=>{(0,r.YM)(e,t)})}),!Z){if(X.current)return;return void h.forEach(e=>{e===p[g]?((0,r.YM)(e,y),n&&(0,r.Tv)(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):n||(0,r.YM)(e,v)})}if(z.current=t,n){if(!p[g])return;return void function(e,t,n,a,i,c,l,f,g,p,h,m,b,_){if(e)return(0,r.dH)(f,`Transition-${t}`,!n),(0,r.dH)(f,`Transition-${t}Backwards`,n),p instanceof HTMLElement&&((0,r.HW)(p,y),(0,r.Tv)(p,{transition:"none",transform:""})),g instanceof HTMLElement&&((0,r.YM)(g,y),(0,r.Tv)(g,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),l.current=!0;const v=(0,s.VK)(void 0,m);b?.(),(0,r.dH)(f,`Transition-${t}`,!n),(0,r.dH)(f,`Transition-${t}Backwards`,n),p instanceof HTMLElement&&(0,r.Tv)(p,{transition:"none",transform:"translate3d(0, 0, 0)"}),g instanceof HTMLElement&&(0,r.Tv)(g,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,o.gm)(()=>(g instanceof HTMLElement&&(0,u.A)(g),()=>{p instanceof HTMLElement&&((0,r.HW)(p,y),(0,r.Tv)(p,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),g instanceof HTMLElement&&((0,r.YM)(g,y),(0,r.Tv)(g,{transition:"",transform:"translate3d(0, 0, 0)"}))})),(0,d.j)(g,()=>{const e=g instanceof HTMLElement?g.clientHeight:void 0;(0,o.RK)(()=>{i===c.current?(p instanceof HTMLElement&&(0,r.Tv)(p,{transition:"none",transform:""}),h&&e&&g instanceof HTMLElement&&((0,r.Tv)(g,{height:"auto"}),(0,r.Tv)(f,{height:`${e}px`})),_?.(),v(),l.current=!1,a()):v()})})}(W,w,ee,e,t,z,X,a,p[g],p[c],A,N,V,$)}if("none"===w||W||Q.current)return Q.current&&(Q.current=!1),p.forEach((e,t)=>{e instanceof HTMLElement&&((0,r.HW)(e,b),(0,r.HW)(e,_),(0,r.dH)(e,y,t===g),(0,r.dH)(e,v,t!==g))}),void e();p.forEach((e,t)=>{e instanceof HTMLElement&&((0,r.HW)(e,y),(0,r.dH)(e,b,t===c),(0,r.dH)(e,_,t===g),(0,r.dH)(e,v,t!==c&&t!==g))}),X.current=!0;const m=(0,s.VK)(void 0,N);function I(){const n=a.querySelector(`.${y}`),{clientHeight:s}=n||{};(0,o.RK)(()=>{t===z.current?((0,r.HW)(a,`Transition-${w}`),(0,r.HW)(a,`Transition-${w}Backwards`),p.forEach((e,t)=>{e instanceof HTMLElement&&((0,r.HW)(e,b),(0,r.HW)(e,_),(0,r.dH)(e,y,t===g),(0,r.dH)(e,v,t!==g))}),A&&n&&((0,r.Tv)(n,{height:"auto"}),(0,r.Tv)(a,{height:`${s}px`})),$?.(),m(),X.current=!1,e()):m()})}V?.(),(0,r.dH)(a,`Transition-${w}`,!ee),(0,r.dH)(a,`Transition-${w}Backwards`,ee);const S="reveal"!==w&&"slideFadeAndroid"!==w||!ee?p[g]:p[c];if(S)if(U&&p[c]){const e=(0,d.e)(S,I);(0,f.R)(p[c],p[g],()=>{e(),Q.current=!0,$?.(),m(),X.current=!1})}else(0,d.e)(S,I,void 0,1e3);else I()},[t,n,Y,Z,ee,w,V,$,C,A,P,B,k,W,J,U,N,T]),(0,s.vJ)(()=>{if(!A)return;const e=H.current,t=e.querySelector(`:scope > .${y}`)||e.querySelector(`:scope > .${b}`);if(!t)return;const n=F?t.querySelector(F):t,{clientHeight:s,clientWidth:a}=n||t||{};s&&a&&(0,o.RK)(()=>{(0,r.Tv)(t,{height:"auto"}),(0,r.Tv)(e,{height:`${s}px`,flexBasis:`${s}px`})})},[A,D,O,F]);const te=!C,ne=K.current,se=Object.keys(C?new Array(C).fill(void 0):ne).map(Number).map(e=>{const n=ne[e];if(!n)return;const s="function"==typeof n?n(e===t,e===Y,e,t):n;return E&&e!==M||te?(0,m.Y)("div",{teactOrderKey:e,children:s},e):s});return(0,m.Y)("div",{ref:H,id:x,className:(0,c.A)("Transition",R),teactFastList:te,"data-tauri-drag-region":L,onScroll:G,onMouseDown:j,onWheel:q,children:se})}},41257(e,t,n){"use strict";n.d(t,{i:()=>r});var s=n(84051);function r(e){const t=(0,s.li)(e);return t.current=e,t}},41402(e,t,n){"use strict";function s(e){e.offsetWidth}n.d(t,{A:()=>s})},41733(e,t,n){"use strict";n.d(t,{A:()=>a,e:()=>r});var s=n(31481);const r=e=>e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,a=e=>{e.play().catch(t=>{s.Oig&&console.warn(t,e)})}},42368(e,t,n){"use strict";n.d(t,{A:()=>ra});var s={};n.r(s),n.d(s,{Decoder:()=>me,Encoder:()=>he,PacketType:()=>pe,isPacketValid:()=>ve,protocol:()=>ge});var r={};n.r(r),n.d(r,{addContact:()=>On,addContactTool:()=>Fn,archiveChat:()=>Ot,archiveChatTool:()=>Ft,banUser:()=>wt,banUserTool:()=>vt,blockUser:()=>jn,blockUserTool:()=>Gn,clearDraft:()=>Bn,clearDraftTool:()=>Rn,createChannel:()=>st,createChannelTool:()=>nt,createGroup:()=>Ze,createGroupTool:()=>Qe,createPoll:()=>Ir,createPollTool:()=>wr,deleteChatPhoto:()=>it,deleteChatPhotoTool:()=>ot,deleteContact:()=>$n,deleteContactTool:()=>Vn,deleteMessage:()=>tn,deleteMessageTool:()=>en,deleteProfilePhoto:()=>Ur,deleteProfilePhotoTool:()=>Br,demoteAdmin:()=>_t,demoteAdminTool:()=>bt,editChatPhoto:()=>Dr,editChatPhotoTool:()=>Nr,editChatTitle:()=>at,editChatTitleTool:()=>rt,editMessage:()=>Zt,editMessageTool:()=>Qt,exportChatInvite:()=>kt,exportChatInviteTool:()=>Pt,exportContacts:()=>Wr,exportContactsTool:()=>zr,forwardMessage:()=>sn,forwardMessageTool:()=>nn,getAdmins:()=>gt,getAdminsTool:()=>ft,getBannedUsers:()=>ht,getBannedUsersTool:()=>pt,getBlockedUsers:()=>Hn,getBlockedUsersTool:()=>Wn,getBotInfo:()=>Cr,getBotInfoTool:()=>Sr,getChat:()=>Xe,getChatTool:()=>Je,getChats:()=>We,getChatsTool:()=>ze,getContactChats:()=>Jr,getContactChatsTool:()=>Yr,getContactIds:()=>Gr,getContactIdsTool:()=>$r,getDirectChatByContact:()=>Kr,getDirectChatByContactTool:()=>Hr,getDrafts:()=>xn,getDraftsTool:()=>Mn,getGifSearch:()=>Vr,getGifSearchTool:()=>Or,getHistory:()=>hn,getHistoryTool:()=>pn,getInviteLink:()=>At,getInviteLinkTool:()=>Ct,getLastInteraction:()=>Qr,getLastInteractionTool:()=>Xr,getMe:()=>Yn,getMeTool:()=>Kn,getMediaInfo:()=>us,getMediaInfoTool:()=>ds,getMessageContext:()=>fn,getMessageContextTool:()=>ln,getMessageReactions:()=>Sn,getMessageReactionsTool:()=>In,getMessages:()=>jt,getMessagesTool:()=>Gt,getParticipants:()=>lt,getParticipantsTool:()=>ut,getPinnedMessages:()=>yn,getPinnedMessagesTool:()=>mn,getPrivacySettings:()=>Tr,getPrivacySettingsTool:()=>kr,getRecentActions:()=>vr,getRecentActionsTool:()=>_r,getStickerSets:()=>Fr,getStickerSetsTool:()=>Lr,getUserPhotos:()=>Zn,getUserPhotosTool:()=>Qn,getUserStatus:()=>ts,getUserStatusTool:()=>es,importChatInvite:()=>Et,importChatInviteTool:()=>Tt,importContacts:()=>qr,importContactsTool:()=>jr,inviteToGroup:()=>tt,inviteToGroupTool:()=>et,joinChatByLink:()=>xt,joinChatByLinkTool:()=>Mt,leaveChat:()=>dt,leaveChatTool:()=>ct,listChats:()=>Ye,listChatsTool:()=>Ke,listContacts:()=>Nn,listContactsTool:()=>Un,listInlineButtons:()=>An,listInlineButtonsTool:()=>Cn,listMessages:()=>zt,listMessagesTool:()=>qt,listTopics:()=>Ht,listTopicsTool:()=>Wt,markAsRead:()=>un,markAsReadTool:()=>dn,muteChat:()=>Nt,muteChatTool:()=>Ut,pinMessage:()=>an,pinMessageTool:()=>rn,pressInlineButton:()=>kn,pressInlineButtonTool:()=>Pn,promoteAdmin:()=>yt,promoteAdminTool:()=>mt,removeReaction:()=>wn,removeReactionTool:()=>vn,replyToMessage:()=>Xt,replyToMessageTool:()=>Jt,resolveUsername:()=>is,resolveUsernameTool:()=>os,saveDraft:()=>En,saveDraftTool:()=>Tn,searchContacts:()=>Ln,searchContactsTool:()=>Dn,searchMessages:()=>as,searchMessagesTool:()=>rs,searchPublicChats:()=>ss,searchPublicChatsTool:()=>ns,sendMessage:()=>Yt,sendMessageTool:()=>Kt,sendReaction:()=>_n,sendReactionTool:()=>bn,setBotCommands:()=>Pr,setBotCommandsTool:()=>Ar,setPrivacySettings:()=>Mr,setPrivacySettingsTool:()=>Er,setProfilePhoto:()=>Rr,setProfilePhotoTool:()=>xr,subscribePublicChannel:()=>Bt,subscribePublicChannelTool:()=>Rt,unarchiveChat:()=>$t,unarchiveChatTool:()=>Vt,unbanUser:()=>St,unbanUserTool:()=>It,unblockUser:()=>zn,unblockUserTool:()=>qn,unmuteChat:()=>Lt,unmuteChatTool:()=>Dt,unpinMessage:()=>cn,unpinMessageTool:()=>on,updateProfile:()=>Xn,updateProfileTool:()=>Jn});const a=Object.create(null);a.open="0",a.close="1",a.ping="2",a.pong="3",a.message="4",a.upgrade="5",a.noop="6";const o=Object.create(null);Object.keys(a).forEach(e=>{o[a[e]]=e});const i={type:"error",data:"parser error"},c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),d="function"==typeof ArrayBuffer,u=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,l=({type:e,data:t},n,s)=>c&&t instanceof Blob?n?s(t):f(t,s):d&&(t instanceof ArrayBuffer||u(t))?n?s(t):f(new Blob([t]),s):s(a[e]+(t||"")),f=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function g(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let p;const h="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;const m="function"==typeof ArrayBuffer,y=(e,t)=>{if("string"!=typeof e)return{type:"message",data:_(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:b(e.substring(1),t)}:o[n]?e.length>1?{type:o[n],data:e.substring(1)}:{type:o[n]}:i},b=(e,t)=>{if(m){const n=(e=>{let t,n,s,r,a,o=.75*e.length,i=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const d=new ArrayBuffer(o),u=new Uint8Array(d);for(t=0;t<i;t+=4)n=h[e.charCodeAt(t)],s=h[e.charCodeAt(t+1)],r=h[e.charCodeAt(t+2)],a=h[e.charCodeAt(t+3)],u[c++]=n<<2|s>>4,u[c++]=(15&s)<<4|r>>2,u[c++]=(3&r)<<6|63&a;return d})(e);return _(n,t)}return{base64:!0,data:e}},_=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,v=String.fromCharCode(30);let w;function I(e){return e.reduce((e,t)=>e+t.length,0)}function S(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function C(e){if(e)return function(e){for(var t in C.prototype)e[t]=C.prototype[t];return e}(e)}C.prototype.on=C.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},C.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},C.prototype.off=C.prototype.removeListener=C.prototype.removeAllListeners=C.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},C.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){s=0;for(var r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t)}return this},C.prototype.emitReserved=C.prototype.emit,C.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},C.prototype.hasListeners=function(e){return!!this.listeners(e).length};const A="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),P="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function k(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const T=P.setTimeout,E=P.clearTimeout;function M(e,t){t.useNativeTimers?(e.setTimeoutFn=T.bind(P),e.clearTimeoutFn=E.bind(P)):(e.setTimeoutFn=P.setTimeout.bind(P),e.clearTimeoutFn=P.clearTimeout.bind(P))}function x(e){return"string"==typeof e?function(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function R(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class B extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class U extends C{constructor(e){super(),this.writable=!1,M(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new B(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=y(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class N extends U{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(v),s=[];for(let e=0;e<n.length;e++){const r=y(n[e],t);if(s.push(r),"error"===r.type)break}return s})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((e,a)=>{l(e,!1,e=>{s[a]=e,++r===n&&t(s.join(v))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=R()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let D=!1;try{D="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const L=D;function F(){}class O extends N{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class V extends C{constructor(e,t,n){super(),this.createRequest=e,M(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=k(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(e){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(e){return void this.setTimeoutFn(()=>{this._onError(e)},0)}"undefined"!=typeof document&&(this._index=V.requestsCount++,V.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=F,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete V.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function $(){for(let e in V.requests)V.requests.hasOwnProperty(e)&&V.requests[e].abort()}V.requestsCount=0,V.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",$):"function"==typeof addEventListener&&addEventListener("onpagehide"in P?"pagehide":"unload",$,!1));const G=function(){const e=j({xdomain:!1});return e&&null!==e.responseType}();function j(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||L))return new XMLHttpRequest}catch(e){}if(!t)try{return new(P[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}const q="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class z extends U{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=q?{}:k(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;l(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(e){}s&&A(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=R()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const W=P.WebSocket||P.MozWebSocket,H={websocket:class extends z{createSocket(e,t,n){return q?new W(e,t,n):t?new W(e,t):new W(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends U{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){w||(w=new TextDecoder);const n=[];let s=0,r=-1,a=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(0===s){if(I(n)<1)break;const e=S(n,1);a=!(128&~e[0]),r=127&e[0],s=r<126?3:126===r?1:2}else if(1===s){if(I(n)<2)break;const e=S(n,2);r=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),s=3}else if(2===s){if(I(n)<8)break;const e=S(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){c.enqueue(i);break}r=a*Math.pow(2,32)+t.getUint32(4),s=3}else{if(I(n)<r)break;const e=S(n,r);c.enqueue(y(a?e:w.decode(e),t)),s=0}if(0===r||r>e){c.enqueue(i);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),s=new TransformStream({transform(e,t){!function(e,t){c&&e.data instanceof Blob?e.data.arrayBuffer().then(g).then(t):d&&(e.data instanceof ArrayBuffer||u(e.data))?t(g(e.data)):l(e,!1,e=>{p||(p=new TextEncoder),t(p.encode(e))})}(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const e=new DataView(r.buffer);e.setUint8(0,126),e.setUint16(1,s)}else{r=new Uint8Array(9);const e=new DataView(r.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(s))}e.data&&"string"!=typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}});s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const r=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),r())}).catch(e=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;this._writer.write(n).then(()=>{s&&A(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends O{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=G&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new V(j,this.uri(),e)}}},K=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function J(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=K.exec(e||""),a={},o=14;for(;o--;)a[Y[o]]=r[o]||"";return-1!=n&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,s){t&&(n[t]=s)}),n}(0,a.query),a}const X="function"==typeof addEventListener&&"function"==typeof removeEventListener,Q=[];X&&addEventListener("offline",()=>{Q.forEach(e=>e())},!1);class Z extends C{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=J(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=J(t.host).host);M(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,s=n.length;e<s;e++){let s=n[e].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}(this.opts.query)),X&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Q.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Z.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Z.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=x(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,A(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Z.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),X&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Q.indexOf(this._offlineEventListener);-1!==e&&Q.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Z.protocol=4;class ee extends Z{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Z.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Z.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function r(){n||(n=!0,d(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,r(),this.emitReserved("upgradeError",n)};function o(){a("transport closed")}function i(){a("socket closed")}function c(e){t&&e.name!==t.name&&r()}const d=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",o),this.off("close",i),this.off("upgrading",c)};t.once("open",s),t.once("error",a),t.once("close",o),this.once("close",i),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class te extends ee{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(e=>H[e]).filter(e=>!!e)),super(e,n)}}const ne="function"==typeof ArrayBuffer,se=Object.prototype.toString,re="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===se.call(Blob),ae="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===se.call(File);function oe(e){return ne&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||re&&e instanceof Blob||ae&&e instanceof File}function ie(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ie(e[t]))return!0;return!1}if(oe(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return ie(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&ie(e[t]))return!0;return!1}function ce(e){const t=[],n=e.data,s=e;return s.data=de(n,t),s.attachments=t.length,{packet:s,buffers:t}}function de(e,t){if(!e)return e;if(oe(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=de(e[s],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=de(e[s],t));return n}return e}function ue(e,t){return e.data=le(e.data,t),delete e.attachments,e}function le(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=le(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=le(e[n],t));return e}const fe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ge=5;var pe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(pe||(pe={}));class he{constructor(e){this.replacer=e}encode(e){return e.type!==pe.EVENT&&e.type!==pe.ACK||!ie(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==pe.BINARY_EVENT&&e.type!==pe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ce(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}}class me extends C{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===pe.BINARY_EVENT;n||t.type===pe.BINARY_ACK?(t.type=n?pe.EVENT:pe.ACK,this.reconstructor=new ye(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!oe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===pe[n.type])throw new Error("unknown packet type "+n.type);if(n.type===pe.BINARY_EVENT||n.type===pe.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(s,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(s,t)}else n.nsp="/";const s=e.charAt(t+1);if(""!==s&&Number(s)==s){const s=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!me.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case pe.CONNECT:return _e(t);case pe.DISCONNECT:return void 0===t;case pe.CONNECT_ERROR:return"string"==typeof t||_e(t);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===fe.indexOf(t[0]));case pe.ACK:case pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ye{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ue(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const be=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function _e(e){return"[object Object]"===Object.prototype.toString.call(e)}function ve(e){return"string"==typeof e.nsp&&(void 0===(t=e.id)||be(t))&&function(e,t){switch(e){case pe.CONNECT:return void 0===t||_e(t);case pe.DISCONNECT:return void 0===t;case pe.EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===fe.indexOf(t[0]));case pe.ACK:return Array.isArray(t);case pe.CONNECT_ERROR:return"string"==typeof t||_e(t);default:return!1}}(e.type,e.data);var t}function we(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ie=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Se extends C{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[we(e,"open",this.onopen.bind(this)),we(e,"packet",this.onpacket.bind(this)),we(e,"error",this.onerror.bind(this)),we(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,s,r;if(Ie.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:pe.EVENT,data:t,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),a.id=e}const o=null===(s=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===s?void 0:s.writable,i=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!o||(i?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},s),a=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,e)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,s)=>{const r=(e,t)=>e?s(e):n(t);r.withError=!0,t.push(r),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...s)=>(this._queue[0],null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:pe.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Ce(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ce.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},Ce.prototype.reset=function(){this.attempts=0},Ce.prototype.setMin=function(e){this.ms=e},Ce.prototype.setMax=function(e){this.max=e},Ce.prototype.setJitter=function(e){this.jitter=e};class Ae extends C{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,M(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ce({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new te(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=we(t,"open",function(){n.onopen(),e&&e()}),r=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=we(t,"error",r);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(we(e,"ping",this.onping.bind(this)),we(e,"data",this.ondata.bind(this)),we(e,"error",this.onerror.bind(this)),we(e,"close",this.onclose.bind(this)),we(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){A(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Se(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Pe={};function ke(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let s=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),s=J(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}(e,(t=t||{}).path||"/socket.io"),s=n.source,r=n.id,a=n.path,o=Pe[r]&&a in Pe[r].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?i=new Ae(s,t):(Pe[r]||(Pe[r]=new Ae(s,t)),i=Pe[r]),n.query&&!t.query&&(t.query=n.queryKey),i.socket(n.path,t)}Object.assign(ke,{Manager:Ae,Socket:Se,io:ke,connect:ke});var Te=n(13439),Ee=n(31481),Me=n(84748),xe=n(57941);class Re extends Error{constructor(e){super(e),this.name="ValidationError"}}function Be(e,t){if("number"==typeof e){if(!Number.isInteger(e)||e<-(2**63)||e>2**63-1)throw new Re(`Invalid ${t}: ${e}. ID is out of the valid integer range.`);return e}if("string"==typeof e){const n=Number.parseInt(e,10);if(!Number.isNaN(n)&&Number.isFinite(n)){if(n<-(2**63)||n>2**63-1)throw new Re(`Invalid ${t}: ${e}. ID is out of the valid integer range.`);return n}if(/^@?[a-zA-Z0-9_]{5,}$/.test(e))return e.startsWith("@")?e:`@${e}`;throw new Re(`Invalid ${t}: '${e}'. Must be a valid integer ID or a username string.`)}throw new Re(`Invalid ${t}: ${e}. Type must be an integer or a string.`)}let Ue=function(e){return e.CHAT="CHAT",e.MSG="MSG",e.CONTACT="CONTACT",e.GROUP="GROUP",e.MEDIA="MEDIA",e.PROFILE="PROFILE",e.AUTH="AUTH",e.ADMIN="ADMIN",e.VALIDATION="VALIDATION",e.SEARCH="SEARCH",e.DRAFT="DRAFT",e}({});function Ne(e,t,n,s){const r=function(e,t){return"VALIDATION-001"===t||t===Ue.VALIDATION?"VALIDATION-001":`${t?("string"==typeof t&&t.startsWith("VALIDATION"),t):"GEN"}-ERR-${(Math.abs(e.split("").reduce((e,t)=>e+t.charCodeAt(0),0))%1e3).toString().padStart(3,"0")}`}(e,n),a=s?Object.entries(s).map(([e,t])=>`${e}=${String(t)}`).join(", "):"";return console.error(`[MCP] Error in ${e} (${a}) - Code: ${r}`,t),{content:[{type:"text",text:t instanceof Re?t.message:`An error occurred (code: ${r}). Check logs for details.`}],isError:!0}}var De=n(91048),Le=n(43663);function Fe(e){const t=(0,Te.mS)(),n=String(e),s=(0,De.hds)(t,n);if(s)return s;"string"!=typeof e||e.startsWith("@")}function Oe(e){const t=(0,Te.mS)(),n=String(e),s=(0,De.mBe)(t,n);if(s)return s}async function Ve(e,t=20,n){const s=Fe(e);if(!s)return;const r=await(0,Le.px)("fetchMessages",{chat:s,limit:t,offsetId:n});return r?.messages}async function $e(e=20){const t=await(0,Le.px)("fetchChats",{limit:e});if(!t)return[];const n=(0,Te.mS)(),s=[];if(t&&"chatIds"in t&&Array.isArray(t.chatIds)){const r=t.chatIds;for(const t of r.slice(0,e)){const e=(0,De.hds)(n,t);e&&s.push(e)}}return s}function Ge(){const e=(0,Te.mS)(),t=e.currentUserId;if(t)return(0,De.mBe)(e,t)}function je(e){if("title"in e)return{id:e.id,name:e.title,type:"chatTypeChannel"===e.type?"channel":"group",username:e.usernames?.[0]?.username};{const t=[e.firstName,e.lastName].filter(Boolean).join(" ")||"Unknown";return{id:e.id,name:t,type:"user",username:e.usernames?.[0]?.username,phone:e.phoneNumber}}}function qe(e){let t="";e.content&&"text"in e.content&&(t=e.content.text?.text||"");const n={id:e.id,date:new Date(1e3*e.date).toISOString(),text:t};return e.senderId&&(n.from_id=String(e.senderId)),e.content&&("photo"in e.content||"video"in e.content||"document"in e.content)&&(n.has_media=!0,"photo"in e.content?n.media_type="MessageMediaPhoto":("video"in e.content||"document"in e.content)&&(n.media_type="MessageMediaDocument")),n}const ze={name:"get_chats",description:"Get a paginated list of chats",inputSchema:{type:"object",properties:{page:{type:"number",description:"Page number (1-indexed)",default:1},page_size:{type:"number",description:"Number of chats per page",default:20}}}};async function We(e,t){try{const t=e.page||1,n=e.page_size||20,s=(t-1)*n,r=(await $e(n+s)).slice(s,s+n);return 0===r.length?{content:[{type:"text",text:"Page out of range."}]}:{content:[{type:"text",text:r.map(e=>{const t=je(e);return`Chat ID: ${t.id}, Title: ${t.name}`}).join("\n")}]}}catch(e){return Ne("get_chats",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}var He=n(62039);const Ke={name:"list_chats",description:"List available chats with metadata",inputSchema:{type:"object",properties:{chat_type:{type:"string",enum:["user","group","channel"],description:"Filter by chat type ('user', 'group', 'channel', or omit for all)"},limit:{type:"number",description:"Maximum number of chats to retrieve",default:20}}},toHumanReadableAction:e=>(0,He.N)("list_chats",e)};async function Ye(e,t){try{const t=e.limit||20,n=e.chat_type?.toLowerCase(),s=await $e(t),r=[];for(const e of s){const t=je(e);if(n&&t.type!==n)continue;let s=`Chat ID: ${t.id}`;s+=`, Title: ${t.name}`,s+=`, Type: ${t.type}`,t.username&&(s+=`, Username: @${t.username}`),"unreadCount"in e&&e.unreadCount?s+=`, Unread: ${e.unreadCount}`:s+=", No unread messages",r.push({type:"text",text:s})}return 0===r.length?{content:[{type:"text",text:"No chats found matching the criteria."}]}:{content:r}}catch(e){return Ne("list_chats",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Je={name:"get_chat",description:"Get detailed information about a specific chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function Xe(e,t){await Promise.resolve();try{const n=Be(e.chat_id,"chat_id"),s=Fe(n);if(!s)return{content:[{type:"text",text:`Chat not found: ${n}`}],isError:!0};const r=je(s),a=[];a.push(`ID: ${r.id}`),a.push(`Title: ${r.name}`),a.push(`Type: ${r.type}`),r.username&&a.push(`Username: @${r.username}`),"membersCount"in s&&s.membersCount&&a.push(`Participants: ${s.membersCount}`),"unreadCount"in s&&a.push(`Unread Messages: ${s.unreadCount||0}`);const o=t.global.chats.lastMessageIds?.all?.[s.id];if(o){const e=t.global.messages.byChatId[s.id]?.byId[o];if(e&&e.content.text){const t=e.senderId?String(e.senderId):"Unknown",n=e.content.text.text||"[Media/No text]";a.push(`Last Message: From ${t} at ${new Date(1e3*e.date).toISOString()}`),a.push(`Message: ${n}`)}}return{content:[{type:"text",text:a.join("\n")}]}}catch(e){return Ne("get_chat",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Qe={name:"create_group",description:"Create a new group chat",inputSchema:{type:"object",properties:{title:{type:"string",description:"The title of the group"},user_ids:{type:"array",items:{type:["string","number"]},description:"Array of user IDs to add to the group"}},required:["title","user_ids"]}};async function Ze(e,t){try{const{title:t,user_ids:n}=e;if(!t||"string"!=typeof t)return{content:[{type:"text",text:"Group title is required"}],isError:!0};if(!n||!Array.isArray(n)||0===n.length)return{content:[{type:"text",text:"At least one user ID is required"}],isError:!0};const s=[];for(const e of n){const t=Be(e,"user_ids"),n=Oe(t);if(!n)return{content:[{type:"text",text:`User with ID ${t} not found`}],isError:!0};s.push(n)}const r=await(0,Le.px)("createGroupChat",{title:t,users:s});return r?.chat?{content:[{type:"text",text:`Group "${t}" created successfully with ID: ${r.chat.id}`}]}:{content:[{type:"text",text:"Failed to create group"}],isError:!0}}catch(e){return Ne("create_group",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const et={name:"invite_to_group",description:"Invite users to a group or channel",inputSchema:{type:"object",properties:{group_id:{type:["string","number"],description:"The ID or username of the group/channel"},user_ids:{type:"array",items:{type:["string","number"]},description:"Array of user IDs to invite"}},required:["group_id","user_ids"]}};async function tt(e,t){try{const t=Be(e.group_id,"group_id"),{user_ids:n}=e,s=Fe(t);if(!s)return{content:[{type:"text",text:`Group/channel with ID or username "${t}" not found.`}],isError:!0};if(!n||!Array.isArray(n)||0===n.length)return{content:[{type:"text",text:"At least one user ID is required"}],isError:!0};const r=[];for(const e of n){const t=Be(e,"user_ids"),n=Oe(t);if(!n)return{content:[{type:"text",text:`User with ID ${t} not found`}],isError:!0};r.push(n)}const a=await(0,Le.px)("addChatMembers",s,r);return a&&a.length>0?{content:[{type:"text",text:`Some users could not be invited: ${a.map(e=>e.id).join(", ")}`}],isError:!0}:{content:[{type:"text",text:`Successfully invited ${r.length} user(s) to the group/channel.`}]}}catch(e){return Ne("invite_to_group",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const nt={name:"create_channel",description:"Create a new channel or supergroup",inputSchema:{type:"object",properties:{title:{type:"string",description:"The title of the channel"},about:{type:"string",description:"Description/about text for the channel"},megagroup:{type:"boolean",description:"If true, create a supergroup instead of a channel",default:!1}},required:["title"]}};async function st(e,t){try{const{title:t,about:n,megagroup:s=!1}=e;if(!t||"string"!=typeof t)return{content:[{type:"text",text:"Channel title is required"}],isError:!0};const r=await(0,Le.px)("createChannel",{title:t,about:n||"",isMegagroup:!!s||void 0,isBroadcast:!s||void 0});return r?.channel?{content:[{type:"text",text:`${s?"supergroup":"channel"} "${t}" created successfully with ID: ${r.channel.id}`}]}:{content:[{type:"text",text:"Failed to create channel"}],isError:!0}}catch(e){return Ne("create_channel",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const rt={name:"edit_chat_title",description:"Change chat/group/channel title",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},title:{type:"string",description:"The new title"}},required:["chat_id","title"]}};async function at(e,t){try{const t=Be(e.chat_id,"chat_id"),{title:n}=e;if(!n||"string"!=typeof n)return{content:[{type:"text",text:"Title is required"}],isError:!0};const s=Fe(t);return s?(await(0,Le.px)("updateChatTitle",s,n),{content:[{type:"text",text:`Chat title updated to "${n}".`}]}):{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("edit_chat_title",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const ot={name:"delete_chat_photo",description:"Remove chat/group/channel photo",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function it(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("editChatPhoto",{chatId:n.id,accessHash:n.accessHash,photo:void 0}),{content:[{type:"text",text:"Chat photo deleted successfully."}]}):{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("delete_chat_photo",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const ct={name:"leave_chat",description:"Leave a group or channel",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat to leave"}},required:["chat_id"]}};async function dt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);if(!n)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};if("chatTypeChannel"===n.type||"chatTypeSuperGroup"===n.type){if(!n.accessHash)return{content:[{type:"text",text:"Cannot leave channel: access hash not available."}],isError:!0};await(0,Le.px)("deleteChannel",{channelId:n.id,accessHash:n.accessHash})}else await(0,Le.px)("deleteChat",{chatId:n.id});return{content:[{type:"text",text:`Left chat "${n.title||t}" successfully.`}]}}catch(e){return Ne("leave_chat",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const ut={name:"get_participants",description:"List all participants in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function lt(e,t){try{const n=Be(e.chat_id,"chat_id"),s=Fe(n);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${n}" not found.`}],isError:!0};if("chatTypeChannel"===s.type||"chatTypeSuperGroup"===s.type){const e=await(0,Le.px)("fetchMembers",{chat:s,memberFilter:"recent"});if(!e?.members)return{content:[{type:"text",text:"No participants found or unable to fetch participants."}]};const n=e.members.map(e=>{const n=t.global.users.byId[e.userId],s=n&&`${n.firstName||""} ${n.lastName||""}`.trim()||"Unknown",r=e.isOwner?"Owner":e.isAdmin?"Admin":"Member";return`ID: ${e.userId}, Name: ${s}, Role: ${r}`});return{content:[{type:"text",text:n.length>0?n.join("\n"):"No participants found."}]}}const r=await(0,Le.px)("fetchFullChat",s);if(!r?.fullInfo?.members)return{content:[{type:"text",text:"No participants found or unable to fetch participants."}]};const a=r.fullInfo.members.map(e=>{const n=t.global.users.byId[e.userId],s=n&&`${n.firstName||""} ${n.lastName||""}`.trim()||"Unknown",r=e.isOwner?"Owner":e.isAdmin?"Admin":"Member";return`ID: ${e.userId}, Name: ${s}, Role: ${r}`});return{content:[{type:"text",text:a.length>0?a.join("\n"):"No participants found."}]}}catch(e){return Ne("get_participants",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const ft={name:"get_admins",description:"List all admins in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function gt(e,t){try{const n=Be(e.chat_id,"chat_id"),s=Fe(n);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${n}" not found.`}],isError:!0};if("chatTypeChannel"===s.type||"chatTypeSuperGroup"===s.type){const e=await(0,Le.px)("fetchMembers",{chat:s,memberFilter:"admin"});if(!e?.members)return{content:[{type:"text",text:"No admins found or unable to fetch admins."}]};const n=e.members.map(e=>{const n=t.global.users.byId[e.userId],s=n&&`${n.firstName||""} ${n.lastName||""}`.trim()||"Unknown",r=e.isOwner?"Owner":"Admin",a=e.customTitle?` (${e.customTitle})`:"";return`ID: ${e.userId}, Name: ${s}, Role: ${r}${a}`});return{content:[{type:"text",text:n.length>0?n.join("\n"):"No admins found."}]}}const r=await(0,Le.px)("fetchFullChat",s);if(!r?.fullInfo?.members)return{content:[{type:"text",text:"No admins found or unable to fetch admins."}]};const a=r.fullInfo.members.filter(e=>e.isAdmin||e.isOwner).map(e=>{const n=t.global.users.byId[e.userId],s=n&&`${n.firstName||""} ${n.lastName||""}`.trim()||"Unknown",r=e.isOwner?"Owner":"Admin";return`ID: ${e.userId}, Name: ${s}, Role: ${r}`});return{content:[{type:"text",text:a.length>0?a.join("\n"):"No admins found."}]}}catch(e){return Ne("get_admins",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}}const pt={name:"get_banned_users",description:"List all banned users in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function ht(e,t){try{const n=Be(e.chat_id,"chat_id"),s=Fe(n);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${n}" not found.`}],isError:!0};if("chatTypeChannel"!==s.type&&"chatTypeSuperGroup"!==s.type)return{content:[{type:"text",text:"Banned users are only available for channels and supergroups."}],isError:!0};const r=await(0,Le.px)("fetchMembers",{chat:s,memberFilter:"kicked"});if(!r?.members)return{content:[{type:"text",text:"No banned users found or unable to fetch banned users."}]};const a=r.members.map(e=>{const n=t.global.users.byId[e.userId],s=n&&`${n.firstName||""} ${n.lastName||""}`.trim()||"Unknown",r=e.kickedByUserId?` (kicked by ${e.kickedByUserId})`:"";return`ID: ${e.userId}, Name: ${s}${r}`});return{content:[{type:"text",text:a.length>0?a.join("\n"):"No banned users found."}]}}catch(e){return Ne("get_banned_users",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}}const mt={name:"promote_admin",description:"Promote a user to admin in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},user_id:{type:["string","number"],description:"The ID or username of the user to promote"}},required:["chat_id","user_id"]}};async function yt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Be(e.user_id,"user_id"),s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const r=Oe(n);if(!r)return{content:[{type:"text",text:`User with ID or username "${n}" not found.`}],isError:!0};const a={changeInfo:!0,postMessages:!0,editMessages:!0,deleteMessages:!0,banUsers:!0,inviteUsers:!0,pinMessages:!0};return await(0,Le.px)("updateChatAdmin",{chat:s,user:r,adminRights:a}),{content:[{type:"text",text:`User ${n} promoted to admin in chat ${t}.`}]}}catch(e){return Ne("promote_admin",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}}const bt={name:"demote_admin",description:"Demote an admin to regular user",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},user_id:{type:["string","number"],description:"The ID or username of the admin to demote"}},required:["chat_id","user_id"]}};async function _t(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Be(e.user_id,"user_id"),s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const r=Oe(n);if(!r)return{content:[{type:"text",text:`User with ID or username "${n}" not found.`}],isError:!0};const a={};return await(0,Le.px)("updateChatAdmin",{chat:s,user:r,adminRights:a}),{content:[{type:"text",text:`User ${n} demoted from admin in chat ${t}.`}]}}catch(e){return Ne("demote_admin",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}}const vt={name:"ban_user",description:"Ban a user from a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},user_id:{type:["string","number"],description:"The ID or username of the user to ban"}},required:["chat_id","user_id"]},toHumanReadableAction:e=>(0,He.N)("ban_user",e)};async function wt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Be(e.user_id,"user_id"),s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const r=Oe(n);if(!r)return{content:[{type:"text",text:`User with ID or username "${n}" not found.`}],isError:!0};const a={viewMessages:!0,sendMessages:!0,sendMedia:!0,sendStickers:!0,sendGifs:!0,sendGames:!0,sendInline:!0,embedLinks:!0,sendPolls:!0,changeInfo:!0,inviteUsers:!0,pinMessages:!0};return await(0,Le.px)("updateChatMemberBannedRights",{chat:s,user:r,bannedRights:a}),{content:[{type:"text",text:`User ${n} banned from chat ${t}.`}]}}catch(e){return Ne("ban_user",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}}const It={name:"unban_user",description:"Unban a user from a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},user_id:{type:["string","number"],description:"The ID or username of the user to unban"}},required:["chat_id","user_id"]}};async function St(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Be(e.user_id,"user_id"),s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const r=Oe(n);if(!r)return{content:[{type:"text",text:`User with ID or username "${n}" not found.`}],isError:!0};const a={};return await(0,Le.px)("updateChatMemberBannedRights",{chat:s,user:r,bannedRights:a}),{content:[{type:"text",text:`User ${n} unbanned from chat ${t}.`}]}}catch(e){return Ne("unban_user",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}}const Ct={name:"get_invite_link",description:"Get invite link for a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function At(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);if(!n)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const s=await(0,Le.px)("loadFullChat",{chatId:n.id}),r=s?.fullInfo?.inviteLink;if(!r){const e=await(0,Le.px)("exportChatInvite",{peer:n});return e?.link?{content:[{type:"text",text:`Invite link: ${e.link}`}]}:{content:[{type:"text",text:"Unable to get or create invite link for this chat."}],isError:!0}}return{content:[{type:"text",text:`Invite link: ${r}`}]}}catch(e){return Ne("get_invite_link",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const Pt={name:"export_chat_invite",description:"Export/create invite link for a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function kt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);if(!n)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const s=await(0,Le.px)("exportChatInvite",{peer:n});return s?.link?{content:[{type:"text",text:`Invite link: ${s.link}`}]}:{content:[{type:"text",text:"Failed to export invite link."}],isError:!0}}catch(e){return Ne("export_chat_invite",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const Tt={name:"import_chat_invite",description:"Join chat by invite hash",inputSchema:{type:"object",properties:{hash:{type:"string",description:"The invite hash from the invite link"}},required:["hash"]}};async function Et(e,t){try{const{hash:t}=e;if(!t||"string"!=typeof t)return{content:[{type:"text",text:"Invite hash is required"}],isError:!0};const n=await(0,Le.px)("importChatInvite",{hash:t});return n?{content:[{type:"text",text:`Successfully joined chat with ID: ${n.id}`}]}:{content:[{type:"text",text:"Failed to join chat with the provided invite hash."}],isError:!0}}catch(e){return Ne("import_chat_invite",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const Mt={name:"join_chat_by_link",description:"Join chat by invite link",inputSchema:{type:"object",properties:{link:{type:"string",description:"The invite link (e.g., https://t.me/joinchat/...)"}},required:["link"]}};async function xt(e,t){try{const{link:t}=e;if(!t||"string"!=typeof t)return{content:[{type:"text",text:"Invite link is required"}],isError:!0};let n="";if(n=t.includes("/joinchat/")?t.split("/joinchat/")[1]?.split("?")[0]||"":t.includes("t.me/+")?t.split("t.me/+")[1]?.split("?")[0]||"":t.startsWith("+")?t.split("?")[0].substring(1):t.split("?")[0],!n)return{content:[{type:"text",text:"Invalid invite link format. Expected format: https://t.me/joinchat/HASH or https://t.me/+HASH"}],isError:!0};const s=await(0,Le.px)("importChatInvite",{hash:n});return s?{content:[{type:"text",text:`Successfully joined chat with ID: ${s.id}`}]}:{content:[{type:"text",text:"Failed to join chat with the provided invite link."}],isError:!0}}catch(e){return Ne("join_chat_by_link",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const Rt={name:"subscribe_public_channel",description:"Subscribe to a public channel or supergroup by username or ID",inputSchema:{type:"object",properties:{channel:{type:["string","number"],description:"The username (e.g., @channel) or ID of the channel"}},required:["channel"]}};async function Bt(e,t){try{const t=Be(e.channel,"channel");let n=Fe(t);if(!n&&"string"==typeof t&&t.startsWith("@")){const e=await(0,Le.px)("searchChats",{query:t.substring(1)});e&&Array.isArray(e)&&(n=e.find(e=>e.usernames?.some(e=>e.username===t.substring(1))))}return n?n.accessHash?(await(0,Le.px)("joinChannel",{channelId:n.id,accessHash:n.accessHash}),{content:[{type:"text",text:`Successfully subscribed to channel "${n.title||t}".`}]}):{content:[{type:"text",text:"Unable to join channel. Access hash not available."}],isError:!0}:{content:[{type:"text",text:`Channel with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("subscribe_public_channel",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const Ut={name:"mute_chat",description:"Mute notifications for a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"}},required:["chat_id"]}};async function Nt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("updateChatNotifySettings",{chat:n,settings:{mutedUntil:2147483647}}),{content:[{type:"text",text:`Chat ${t} muted.`}]}):{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0}}catch(e){return Ne("mute_chat",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Dt={name:"unmute_chat",description:"Unmute notifications for a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"}},required:["chat_id"]}};async function Lt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("updateChatNotifySettings",{chat:n,settings:{mutedUntil:0}}),{content:[{type:"text",text:`Chat ${t} unmuted.`}]}):{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0}}catch(e){return Ne("unmute_chat",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Ft={name:"archive_chat",description:"Archive a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"}},required:["chat_id"]}};async function Ot(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("toggleChatArchived",{chat:n,folderId:Ee._E9}),{content:[{type:"text",text:`Chat ${t} archived.`}]}):{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0}}catch(e){return Ne("archive_chat",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Vt={name:"unarchive_chat",description:"Unarchive a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"}},required:["chat_id"]}};async function $t(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("toggleChatArchived",{chat:n,folderId:Ee.DSF}),{content:[{type:"text",text:`Chat ${t} unarchived.`}]}):{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0}}catch(e){return Ne("unarchive_chat",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Gt={name:"get_messages",description:"Get paginated messages from a specific chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},page:{type:"number",description:"Page number (1-indexed)",default:1},page_size:{type:"number",description:"Number of messages per page",default:20}},required:["chat_id"]}};async function jt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=e.page||1,s=e.page_size||20,r=(n-1)*s;if(!Fe(t))return{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0};const a=await Ve(t,s,r);return a&&0!==a.length?{content:[{type:"text",text:a.map(e=>{const t=qe(e),n=e.senderId?String(e.senderId):"Unknown",s="message"===e.replyInfo?.type&&e.replyInfo.replyToMsgId?` | reply to ${e.replyInfo.replyToMsgId}`:"",r=t.text||"[Media/No text]",a=t.date;return`ID: ${t.id} | ${n} | Date: ${a}${s} | Message: ${r}`}).join("\n")}]}:{content:[{type:"text",text:"No messages found for this page."}]}}catch(e){return Ne("get_messages",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const qt={name:"list_messages",description:"Retrieve messages with optional filters",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat to get messages from"},limit:{type:"number",description:"Maximum number of messages to retrieve",default:20},search_query:{type:"string",description:"Filter messages containing this text"},from_date:{type:"string",description:"Filter messages starting from this date (format: YYYY-MM-DD)"},to_date:{type:"string",description:"Filter messages until this date (format: YYYY-MM-DD)"}},required:["chat_id"]}};async function zt(e,t){try{const t=Be(e.chat_id,"chat_id"),n=e.limit||20;if(!Fe(t))return{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0};const s=await Ve(t,2*n);if(!s||0===s.length)return{content:[{type:"text",text:"No messages found matching the criteria."}]};let r=s;if(e.search_query){const t=e.search_query.toLowerCase();r=r.filter(e=>!(!e.content||!("text"in e.content))&&e.content.text?.text?.toLowerCase().includes(t))}return(e.from_date||e.to_date)&&(r=r.filter(t=>{const n=new Date(1e3*t.date);if(e.from_date&&n<new Date(e.from_date))return!1;if(e.to_date){const t=new Date(e.to_date);if(t.setHours(23,59,59,999),n>t)return!1}return!0})),r=r.slice(0,n),{content:r.map(e=>{const t=qe(e),n=e.senderId?String(e.senderId):"Unknown",s="message"===e.replyInfo?.type&&e.replyInfo.replyToMsgId?` | reply to ${e.replyInfo.replyToMsgId}`:"",r=t.text||"[Media/No text]",a=t.date;return{type:"text",text:`ID: ${t.id} | ${n} | Date: ${a}${s} | Message: ${r}`}})}}catch(e){return Ne("list_messages",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Wt={name:"list_topics",description:"List forum topics in a supergroup with forum feature enabled",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the forum-enabled chat (supergroup)"},limit:{type:"number",description:"Maximum number of topics to retrieve",default:200},offset_topic:{type:"number",description:"Topic ID offset for pagination",default:0},search_query:{type:"string",description:"Optional query to filter topics by title"}},required:["chat_id"]}};async function Ht(e,t){try{const t=Be(e.chat_id,"chat_id"),{limit:n=200,offset_topic:s=0,search_query:r}=e,a=Fe(t);if(!a)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};if("chatTypeSuperGroup"!==a.type)return{content:[{type:"text",text:"The specified chat is not a supergroup."}],isError:!0};if(!a.isForum)return{content:[{type:"text",text:"The specified supergroup does not have forum topics enabled."}],isError:!0};const o=await(0,Le.px)("fetchTopics",{chat:a,limit:n,offsetTopicId:s,query:r});if(!o?.topics||0===o.topics.length)return{content:[{type:"text",text:"No topics found for this chat."}]};const i=o.topics.map(e=>{const t=[`Topic ID: ${e.id}`];return t.push(`Title: ${e.title||"(no title)"}`),void 0!==e.messageCount&&t.push(`Messages: ${e.messageCount}`),e.unreadCount&&t.push(`Unread: ${e.unreadCount}`),e.isClosed&&t.push("Closed: Yes"),e.isHidden&&t.push("Hidden: Yes"),{type:"text",text:t.join(" | ")}});return{content:i}}catch(e){return Ne("list_topics",e instanceof Error?e:new Error(String(e)),Ue.GROUP)}}const Kt={name:"send_message",description:"Send a message to a specific chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message:{type:"string",description:"The message content to send"}},required:["chat_id","message"]},toHumanReadableAction:e=>(0,He.N)("send_message",e)};async function Yt(e,t){try{const t=Be(e.chat_id,"chat_id"),{message:n}=e;if(!n||"string"!=typeof n)return{content:[{type:"text",text:"Message content is required"}],isError:!0};const s=await async function(e,t){const n=Fe(e);if(!n)return;const s=void 0;return await(0,Le.px)("sendMessage",{chat:n,text:t,...s})||void 0}(t,n);return s?{content:[{type:"text",text:"Message sent successfully."}]}:{content:[{type:"text",text:`Failed to send message to chat ${t}`}],isError:!0}}catch(e){return Ne("send_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Jt={name:"reply_to_message",description:"Reply to a specific message in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to reply to"},text:{type:"string",description:"The reply message text"}},required:["chat_id","message_id","text"]},toHumanReadableAction:e=>(0,He.N)("reply_to_message",e)};async function Xt(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n,text:s}=e,r=Fe(t);return r?(await(0,Le.px)("sendMessage",{chat:r,text:s,replyInfo:{type:"message",replyToMsgId:n}}),{content:[{type:"text",text:`Replied to message ${n} in chat ${t}.`}]}):{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0}}catch(e){return Ne("reply_to_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Qt={name:"edit_message",description:"Edit a message you sent",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to edit"},new_text:{type:"string",description:"The new message text"}},required:["chat_id","message_id","new_text"]}};async function Zt(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n,new_text:s}=e,r=Fe(t);if(!r)return{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0};const a=await(0,Le.px)("fetchMessage",{chat:r,messageId:n});return a&&"MESSAGE_DELETED"!==a&&"message"in a?(await(0,Le.px)("editMessage",{chat:r,message:a.message,text:s}),{content:[{type:"text",text:`Message ${n} edited.`}]}):{content:[{type:"text",text:`Message ${n} not found in chat ${t}`}],isError:!0}}catch(e){return Ne("edit_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const en={name:"delete_message",description:"Delete a message by ID",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to delete"}},required:["chat_id","message_id"]}};async function tn(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n}=e,s=Fe(t);return s?(await(0,Le.px)("deleteMessages",{chat:s,messageIds:[n]}),{content:[{type:"text",text:`Message ${n} deleted.`}]}):{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0}}catch(e){return Ne("delete_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const nn={name:"forward_message",description:"Forward a message from one chat to another",inputSchema:{type:"object",properties:{from_chat_id:{type:["string","number"],description:"The ID or username of the source chat"},message_id:{type:"number",description:"The message ID to forward"},to_chat_id:{type:["string","number"],description:"The ID or username of the destination chat"}},required:["from_chat_id","message_id","to_chat_id"]},toHumanReadableAction:e=>(0,He.N)("forward_message",e)};async function sn(e,t){try{const t=Be(e.from_chat_id,"from_chat_id"),n=Be(e.to_chat_id,"to_chat_id"),{message_id:s}=e,r=Fe(t);if(!r)return{content:[{type:"text",text:`Source chat not found: ${t}`}],isError:!0};const a=Fe(n);if(!a)return{content:[{type:"text",text:`Destination chat not found: ${n}`}],isError:!0};const o=await(0,Le.px)("fetchMessage",{chat:r,messageId:s});return o&&"MESSAGE_DELETED"!==o&&"message"in o?(await(0,Le.px)("forwardMessages",{fromChat:r,toChat:a,messages:[o.message]}),{content:[{type:"text",text:`Message ${s} forwarded from ${t} to ${n}.`}]}):{content:[{type:"text",text:`Message ${s} not found in source chat ${t}`}],isError:!0}}catch(e){return Ne("forward_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const rn={name:"pin_message",description:"Pin a message in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to pin"}},required:["chat_id","message_id"]}};async function an(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n}=e,s=Fe(t);return s?(await(0,Le.px)("pinMessage",{chat:s,messageId:n,isUnpin:!1}),{content:[{type:"text",text:`Message ${n} pinned in chat ${t}.`}]}):{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0}}catch(e){return Ne("pin_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const on={name:"unpin_message",description:"Unpin a message in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to unpin"}},required:["chat_id","message_id"]}};async function cn(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n}=e,s=Fe(t);return s?(await(0,Le.px)("pinMessage",{chat:s,messageId:n,isUnpin:!0}),{content:[{type:"text",text:`Message ${n} unpinned in chat ${t}.`}]}):{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0}}catch(e){return Ne("unpin_message",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const dn={name:"mark_as_read",description:"Mark all messages as read in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function un(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("markMessageListRead",{chat:n,threadId:0,maxId:0}),{content:[{type:"text",text:`All messages marked as read in chat ${t}.`}]}):{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("mark_as_read",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const ln={name:"get_message_context",description:"Retrieve context around a specific message",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The ID of the central message"},context_size:{type:"number",description:"Number of messages before and after to include",default:3}},required:["chat_id","message_id"]}};async function fn(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n,context_size:s=3}=e,r=Fe(t);if(!r)return{content:[{type:"text",text:`Chat not found: ${t}`}],isError:!0};const a=await(0,Le.px)("fetchMessage",{chat:r,messageId:n});if(!a||"MESSAGE_DELETED"===a||!("message"in a))return{content:[{type:"text",text:`Message with ID ${n} not found in chat ${t}.`}],isError:!0};const o=await Ve(t,2*s+1,n);if(!o)return{content:[{type:"text",text:`Could not retrieve messages around ${n}`}],isError:!0};const i=o.findIndex(e=>e.id===n);if(-1===i)return{content:[{type:"text",text:`Message ${n} not found in retrieved messages`}],isError:!0};const c=Math.max(0,i-s),d=Math.min(o.length,i+s+1),u=o.slice(c,d),l=[`Context for message ${n} in chat ${t}:`];for(const e of u){const t=qe(e),s=e.senderId?String(e.senderId):"Unknown",r=e.id===n?" [THIS MESSAGE]":"",a="message"===e.replyInfo?.type&&e.replyInfo.replyToMsgId?` | reply to ${e.replyInfo.replyToMsgId}`:"";l.push(`ID: ${t.id} | ${s} | ${t.date}${r}${a}\n${t.text}\n`)}return{content:[{type:"text",text:l.join("\n")}]}}catch(e){return Ne("get_message_context",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}var gn=n(23174);const pn={name:"get_history",description:"Get full chat history",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},limit:{type:"number",description:"Maximum number of messages to retrieve",default:100}},required:["chat_id"]}};async function hn(e,t){try{const t=Be(e.chat_id,"chat_id"),{limit:n=100}=e,s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const r=await(0,Le.px)("fetchMessages",{chat:s,limit:n,threadId:gn.l3});return r?.messages&&0!==r.messages.length?{content:r.messages.map(e=>{const t=qe(e),n=e.senderId?String(e.senderId):"Unknown",s="message"===e.replyInfo?.type&&e.replyInfo.replyToMsgId?` | reply to ${e.replyInfo.replyToMsgId}`:"",r=t.text||"[Media/No text]";return{type:"text",text:`ID: ${t.id} | ${n} | Date: ${t.date}${s} | Message: ${r}`}})}:{content:[{type:"text",text:"No messages found in chat history."}]}}catch(e){return Ne("get_history",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const mn={name:"get_pinned_messages",description:"List pinned messages in a chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"}},required:["chat_id"]}};async function yn(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);if(!n)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const s=await(0,Le.px)("fetchMessages",{chat:n,limit:100});if(!s?.messages)return{content:[{type:"text",text:"No messages found or unable to fetch messages."}]};const r=s.messages.filter(e=>e.isPinned);return 0===r.length?{content:[{type:"text",text:"No pinned messages found in this chat."}]}:{content:[{type:"text",text:r.map(e=>{const t=qe(e),n=e.senderId?String(e.senderId):"Unknown";return`ID: ${t.id} | ${n} | Date: ${t.date} | Message: ${t.text||"[Media/No text]"}`}).join("\n")}]}}catch(e){return Ne("get_pinned_messages",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const bn={name:"send_reaction",description:"Add a reaction to a message",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to react to"},emoji:{type:"string",description:"The emoji reaction (e.g., ðŸ‘, â¤ï¸, ðŸ˜‚)"},big:{type:"boolean",description:"Whether to send a big reaction",default:!1}},required:["chat_id","message_id","emoji"]}};async function _n(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n,emoji:s,big:r=!1}=e;if(!s||"string"!=typeof s)return{content:[{type:"text",text:"Emoji is required"}],isError:!0};const a=Fe(t);if(!a)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const o={type:"reactionEmoji",emoji:s};return await(0,Le.px)("sendReaction",{chat:a,messageId:n,reactions:[o],shouldAddToRecent:!0}),{content:[{type:"text",text:`Reaction ${s} added to message ${n}.`}]}}catch(e){return Ne("send_reaction",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const vn={name:"remove_reaction",description:"Remove a reaction from a message",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to remove reaction from"}},required:["chat_id","message_id"]}};async function wn(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n}=e,s=Fe(t);return s?(await(0,Le.px)("sendReaction",{chat:s,messageId:n,reactions:[]}),{content:[{type:"text",text:`Reaction removed from message ${n}.`}]}):{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("remove_reaction",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const In={name:"get_message_reactions",description:"Get all reactions on a message",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID or username of the chat"},message_id:{type:"number",description:"The message ID to get reactions for"},limit:{type:"number",description:"Maximum number of reactions to retrieve",default:50}},required:["chat_id","message_id"]}};async function Sn(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n}=e,s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat with ID or username "${t}" not found.`}],isError:!0};const r=await(0,Le.px)("fetchMessage",{chat:s,messageId:n});if(!r||"MESSAGE_DELETED"===r||!("message"in r))return{content:[{type:"text",text:`Message with ID ${n} not found.`}],isError:!0};const a=r.message;if(!a.reactions)return{content:[{type:"text",text:"No reactions found on this message."}]};const o=[];if(a.reactions.results)for(const e of a.reactions.results){const t="emoji"===e.reaction.type?e.reaction.emoticon:"Custom";o.push(`${t}: ${e.count} reaction(s)`)}return{content:[{type:"text",text:o.length>0?o.join("\n"):"No reactions found on this message."}]}}catch(e){return Ne("get_message_reactions",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Cn={name:"list_inline_buttons",description:"Inspect inline keyboards to discover button text/index",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"},message_id:{type:"number",description:"The message ID to inspect"},limit:{type:"number",description:"Maximum number of buttons to return",default:50}},required:["chat_id","message_id"]}};async function An(e,t){await Promise.resolve();try{const n=Be(e.chat_id,"chat_id"),{message_id:s,limit:r=50}=e,{global:a}=t,o=(0,De.O5q)(a,String(n),s);if(!o)return{content:[{type:"text",text:`Message ${s} not found in chat ${n}`}],isError:!0};const i=[];if(o.inlineButtons&&o.inlineButtons.forEach((e,t)=>{e.forEach((e,n)=>{i.length<r&&i.push({row:t,column:n,text:e.text,type:e.type,..."callback"===e.type&&{data:e.data},..."url"===e.type&&{url:e.url}})})}),0===i.length)return{content:[{type:"text",text:`No inline buttons found in message ${s}`}]};const c=i.map(e=>{const t=[`Row: ${e.row}`,`Column: ${e.column}`,`Text: ${e.text}`,`Type: ${e.type}`];return e.data&&t.push(`Data: ${e.data}`),e.url&&t.push(`URL: ${e.url}`),{type:"text",text:t.join(" | ")}});return{content:c}}catch(e){return Ne("list_inline_buttons",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Pn={name:"press_inline_button",description:"Trigger inline keyboard callbacks by label or index",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"},message_id:{type:"number",description:"The message ID containing the inline keyboard"},button_text:{type:"string",description:"The button text to press (optional if button_index is provided)"},button_index:{type:"number",description:"The button index (row,column format as single number) (optional if button_text is provided)"}},required:["chat_id","message_id"]}};async function kn(e,t){try{const n=Be(e.chat_id,"chat_id"),{message_id:s,button_text:r,button_index:a}=e,o=getChatById(n);if(!o)return{content:[{type:"text",text:`Chat ${n} not found`}],isError:!0};const{global:i}=t,c=(0,De.O5q)(i,String(n),s);if(!c)return{content:[{type:"text",text:`Message ${s} not found in chat ${n}`}],isError:!0};if(!c.inlineButtons||0===c.inlineButtons.length)return{content:[{type:"text",text:`No inline buttons found in message ${s}`}],isError:!0};let d;if(void 0!==a){let e=0;for(const t of c.inlineButtons){for(const n of t){if(e===a){d=n;break}e++}if(d)break}}else{if(!r)return{content:[{type:"text",text:"Either button_text or button_index must be provided"}],isError:!0};for(const e of c.inlineButtons){for(const t of e)if(t.text===r){d=t;break}if(d)break}}return d?"callback"!==d.type?"url"===d.type?{content:[{type:"text",text:`Button "${d.text}" is a URL button. URL: ${d.url}`}]}:{content:[{type:"text",text:`Button type "${d.type}" is not supported for programmatic pressing`}],isError:!0}:(await(0,Le.px)("answerCallbackButton",{chatId:String(n),accessHash:o.accessHash,messageId:s,data:d.data}),{content:[{type:"text",text:`Button "${d.text}" pressed successfully.`}]}):{content:[{type:"text",text:"Button not found"+(r?` with text "${r}"`:` at index ${a}`)}],isError:!0}}catch(e){return Ne("press_inline_button",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Tn={name:"save_draft",description:"Save a draft message to a chat or channel",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username to save the draft to"},message:{type:"string",description:"The draft message text"},reply_to_msg_id:{type:"number",description:"Optional message ID to reply to"},no_webpage:{type:"boolean",description:"If true, disable link preview in the draft"}},required:["chat_id","message"]}};async function En(e,t){try{const t=Be(e.chat_id,"chat_id"),{message:n,reply_to_msg_id:s,no_webpage:r}=e,a=Fe(t);if(!a)return{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0};const o={text:{text:n,entities:[]},...s&&{replyInfo:{type:"message",replyToMsgId:s}}};return await(0,Le.px)("saveDraft",{chat:a,draft:o}),{content:[{type:"text",text:`Draft saved to chat ${t}. Open the chat in Telegram to see and send it.`}]}}catch(e){return Ne("save_draft",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Mn={name:"get_drafts",description:"Get all draft messages across all chats",inputSchema:{type:"object",properties:{}}};async function xn(e,t){await Promise.resolve();try{const{global:e}=t,n=[],s=Object.keys(e.chats.byId);for(const t of s){const s=(0,De.GA4)(e,t,gn.l3);s&&s.text&&n.push({chat_id:t,message:s.text.text,date:s.date,reply_to_msg_id:s.replyInfo?.replyToMsgId})}return 0===n.length?{content:[{type:"text",text:"No drafts found."}]}:{content:[{type:"text",text:JSON.stringify({drafts:n,count:n.length},void 0,2)}]}}catch(e){return Ne("get_drafts",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Rn={name:"clear_draft",description:"Clear/delete a draft from a specific chat",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username to clear the draft from"}},required:["chat_id"]}};async function Bn(e,t){try{const t=Be(e.chat_id,"chat_id"),n=Fe(t);return n?(await(0,Le.px)("saveDraft",{chat:n,draft:void 0}),{content:[{type:"text",text:`Draft cleared from chat ${t}.`}]}):{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0}}catch(e){return Ne("clear_draft",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Un={name:"list_contacts",description:"List all contacts in your Telegram account",inputSchema:{type:"object",properties:{}}};async function Nn(e,t){try{const e=await(0,Le.px)("fetchChats",{limit:1e3});if(!e)return{content:[{type:"text",text:"No contacts found."}]};const n=t.global,s=(e.chatIds||[]).map(e=>n.chats.byId[e]).filter(e=>"chatTypePrivate"===e?.type);return 0===s.length?{content:[{type:"text",text:"No contacts found."}]}:{content:s.map(e=>{const n=e.title||"Unknown",s=e.usernames?.[0]?.username,r=t.global.users.byId[e.id],a=r?.phoneNumber;let o=`ID: ${e.id}, Name: ${n}`;return s&&(o+=`, Username: @${s}`),a&&"string"==typeof a&&(o+=`, Phone: ${a}`),{type:"text",text:o}})}}catch(e){return Ne("list_contacts",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Dn={name:"search_contacts",description:"Search for contacts by name, username, or phone number",inputSchema:{type:"object",properties:{query:{type:"string",description:"The search term to look for in contact names, usernames, or phone numbers"}},required:["query"]}};async function Ln(e,t){try{const{query:n}=e,s=await(0,Le.px)("searchChats",{query:n});if(!s)return{content:[{type:"text",text:`No contacts found matching '${n}'.`}]};const r=[...s.accountResultIds,...s.globalResultIds];if(0===r.length)return{content:[{type:"text",text:`No contacts found matching '${n}'.`}]};const a=t.global,o=r.map(e=>{const t=a.chats.byId[e],n=a.users.byId[e];return t||n}).filter(e=>!!e&&("type"in e?"chatTypePrivate"===e.type:"firstName"in e));return 0===o.length?{content:[{type:"text",text:`No contacts found matching '${n}'.`}]}:{content:[{type:"text",text:o.map(e=>{let t="Unknown";"title"in e?t=e.title:"firstName"in e&&(t=`${e.firstName||""} ${e.lastName||""}`.trim()||"Unknown");const n=e.usernames?.[0]?.username,s="phoneNumber"in e?e.phoneNumber:void 0;let r=`ID: ${e.id}, Name: ${t}`;return n&&(r+=`, Username: @${n}`),s&&"string"==typeof s&&(r+=`, Phone: ${s}`),r}).join("\n")}]}}catch(e){return Ne("search_contacts",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Fn={name:"add_contact",description:"Add a new contact to your Telegram account",inputSchema:{type:"object",properties:{phone:{type:"string",description:"The phone number of the contact (with country code)"},first_name:{type:"string",description:"The contact's first name"},last_name:{type:"string",description:"The contact's last name (optional)"}},required:["phone","first_name"]}};async function On(e,t){try{const{phone:t,first_name:n,last_name:s=""}=e;return t&&"string"==typeof t?n&&"string"==typeof n?await(0,Le.px)("importContact",{phone:t,firstName:n,lastName:s||""})?{content:[{type:"text",text:`Contact ${n} ${s}`.trim()+" added successfully."}]}:{content:[{type:"text",text:"Failed to add contact."}],isError:!0}:{content:[{type:"text",text:"First name is required"}],isError:!0}:{content:[{type:"text",text:"Phone number is required"}],isError:!0}}catch(e){return Ne("add_contact",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Vn={name:"delete_contact",description:"Delete a contact by user ID",inputSchema:{type:"object",properties:{user_id:{type:["string","number"],description:"The Telegram user ID or username of the contact to delete"}},required:["user_id"]}};async function $n(e,t){try{const t=Be(e.user_id,"user_id"),n=Oe(t);return n?(await(0,Le.px)("deleteContact",{id:n.id,accessHash:n.accessHash}),{content:[{type:"text",text:`Contact with user ID ${t} deleted.`}]}):{content:[{type:"text",text:`User with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("delete_contact",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Gn={name:"block_user",description:"Block a user by user ID",inputSchema:{type:"object",properties:{user_id:{type:["string","number"],description:"The Telegram user ID or username to block"}},required:["user_id"]}};async function jn(e,t){try{const t=Be(e.user_id,"user_id"),n=Oe(t);return n?(await(0,Le.px)("blockUser",{user:n}),{content:[{type:"text",text:`User ${t} blocked.`}]}):{content:[{type:"text",text:`User with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("block_user",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const qn={name:"unblock_user",description:"Unblock a user by user ID",inputSchema:{type:"object",properties:{user_id:{type:["string","number"],description:"The Telegram user ID or username to unblock"}},required:["user_id"]}};async function zn(e,t){try{const t=Be(e.user_id,"user_id"),n=Oe(t);return n?(await(0,Le.px)("unblockUser",{user:n}),{content:[{type:"text",text:`User ${t} unblocked.`}]}):{content:[{type:"text",text:`User with ID or username "${t}" not found.`}],isError:!0}}catch(e){return Ne("unblock_user",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Wn={name:"get_blocked_users",description:"Get a list of blocked users",inputSchema:{type:"object",properties:{}}};async function Hn(e,t){try{const e=await(0,Le.px)("fetchBlockedUsers",{});if(!e?.blockedIds||0===e.blockedIds.length)return{content:[{type:"text",text:"No blocked users found."}]};const n=e.blockedIds.map(e=>(0,De.mBe)(t.global,e)).filter(e=>void 0!==e);return 0===n.length?{content:[{type:"text",text:"No blocked users found."}]}:{content:[{type:"text",text:n.map(e=>{const t=`${e.firstName||""} ${e.lastName||""}`.trim()||"Unknown",n=e.usernames?.[0]?.username?` (@${e.usernames[0].username})`:"";return`ID: ${e.id}, Name: ${t}${n}`}).join("\n")}]}}catch(e){return Ne("get_blocked_users",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Kn={name:"get_me",description:"Get your own user information",inputSchema:{type:"object",properties:{}}};async function Yn(e,t){await Promise.resolve();try{const e=Ge();if(!e)return{content:[{type:"text",text:"User information not available"}],isError:!0};const t=je(e),n={id:t.id,name:t.name,type:t.type,...t.username&&{username:t.username},...t.phone&&{phone:t.phone}};return{content:[{type:"text",text:JSON.stringify(n,void 0,2)}]}}catch(e){return Ne("get_me",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const Jn={name:"update_profile",description:"Update your profile information (name, bio)",inputSchema:{type:"object",properties:{first_name:{type:"string",description:"First name"},last_name:{type:"string",description:"Last name"},about:{type:"string",description:"Bio/about text"}}}};async function Xn(e,t){try{const{first_name:t,last_name:n,about:s}=e;return await(0,Le.px)("updateProfile",{firstName:t,lastName:n,about:s}),{content:[{type:"text",text:"Profile updated successfully."}]}}catch(e){return Ne("update_profile",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const Qn={name:"get_user_photos",description:"Get a user's profile photos",inputSchema:{type:"object",properties:{user_id:{type:["string","number"],description:"The user ID or username"},limit:{type:"number",description:"Maximum number of photos to retrieve",default:20}},required:["user_id"]}};async function Zn(e,t){try{const t=Be(e.user_id,"user_id"),{limit:n=20}=e,s=Oe(t);if(!s)return{content:[{type:"text",text:`User with ID or username "${t}" not found.`}],isError:!0};const r=await(0,Le.px)("fetchProfilePhotos",{peer:s,limit:n});if(!r?.photos||0===r.photos.length)return{content:[{type:"text",text:"No profile photos found for this user."}]};const a=r.photos.map(e=>{const t=e.date?new Date(1e3*e.date).toISOString():"Unknown date";return`Photo ID: ${e.id}, Date: ${t}`});return{content:[{type:"text",text:`Found ${r.photos.length} profile photo(s):\n${a.join("\n")}`}]}}catch(e){return Ne("get_user_photos",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const es={name:"get_user_status",description:"Get a user's online status",inputSchema:{type:"object",properties:{user_id:{type:["string","number"],description:"The user ID or username"}},required:["user_id"]}};async function ts(e,t){try{const t=Be(e.user_id,"user_id"),n=Oe(t);if(!n)return{content:[{type:"text",text:`User with ID or username "${t}" not found.`}],isError:!0};const s=await(0,Le.px)("fetchFullUser",{id:n.id,accessHash:n.accessHash});if(!s?.fullInfo)return{content:[{type:"text",text:"Unable to fetch user status."}],isError:!0};const r=s.fullInfo.status;let a="Unknown";return r?"userStatusOnline"===r.type?a="Online":"userStatusOffline"===r.type?a=`Last seen: ${r.wasOnline?new Date(1e3*r.wasOnline).toISOString():"Unknown"}`:"userStatusRecently"===r.type?a="Recently online":"userStatusLastWeek"===r.type?a="Last seen within a week":"userStatusLastMonth"===r.type?a="Last seen within a month":"userStatusLongTimeAgo"===r.type&&(a="Last seen a long time ago"):a="No status available",{content:[{type:"text",text:`User ${t} status: ${a}`}]}}catch(e){return Ne("get_user_status",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const ns={name:"search_public_chats",description:"Search for public chats, channels, or bots by username or title",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search query"}},required:["query"]}};async function ss(e,t){try{const{query:t}=e,n=await async function(e){const t=await(0,Le.px)("searchChats",{query:e});if(!t||Array.isArray(t))return Array.isArray(t)?t:[];const n=(0,Te.mS)(),s=[];if("accountResultIds"in t)for(const e of t.accountResultIds){const t=(0,De.hds)(n,e);t&&s.push(t)}if("globalResultIds"in t)for(const e of t.globalResultIds){const t=(0,De.hds)(n,e);t&&s.push(t)}return s}(t),s=n.map(je);return{content:[{type:"text",text:JSON.stringify(s,void 0,2)}]}}catch(e){return Ne("search_public_chats",e instanceof Error?e:new Error(String(e)),Ue.SEARCH)}}const rs={name:"search_messages",description:"Search for messages in a chat by text",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"},query:{type:"string",description:"Search query"},limit:{type:"number",description:"Maximum number of messages to return",default:20}},required:["chat_id","query"]}};async function as(e,t){try{const t=Be(e.chat_id,"chat_id"),{query:n,limit:s=20}=e,r=Fe(t);if(!r)return{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0};const a=await(0,Le.px)("searchMessagesInChat",{peer:r,query:n,limit:s,type:"text"});if(!a||!a.messages)return{content:[{type:"text",text:"No messages found"}]};return{content:[{type:"text",text:a.messages.map(qe).map(e=>{const t=e.from_id?` | From: ${e.from_id}`:"";return`ID: ${e.id}${t} | Date: ${e.date} | Message: ${e.text}`}).join("\n")}]}}catch(e){return Ne("search_messages",e instanceof Error?e:new Error(String(e)),Ue.SEARCH)}}const os={name:"resolve_username",description:"Resolve a username to a user or chat ID",inputSchema:{type:"object",properties:{username:{type:"string",description:"Username to resolve (without @)"}},required:["username"]}};async function is(e,t){try{const{username:t}=e,n=t.startsWith("@")?t.slice(1):t,s=await(0,Le.px)("getChatByUsername",{username:n});if(!s||!s.chat)return{content:[{type:"text",text:`Username ${t} not found`}],isError:!0};const r=je(s.chat),a=s.user?je(s.user):void 0;return{content:[{type:"text",text:JSON.stringify({chat:r,...a&&{user:a}},void 0,2)}]}}catch(e){return Ne("resolve_username",e instanceof Error?e:new Error(String(e)),Ue.SEARCH)}}var cs=n(84448);const ds={name:"get_media_info",description:"Get info about media in a message",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"},message_id:{type:"number",description:"The message ID"}},required:["chat_id","message_id"]}};async function us(e,t){try{const t=Be(e.chat_id,"chat_id"),{message_id:n}=e,s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0};const r=await(0,Le.px)("fetchMessage",{chat:s,messageId:n});if(!r||r===cs.K1)return{content:[{type:"text",text:`Message ${n} not found or has been deleted`}],isError:!0};const a=r.message;if(!a.content||!("photo"in a.content||"video"in a.content||"document"in a.content||"audio"in a.content||"voice"in a.content))return{content:[{type:"text",text:"No media found in the specified message."}]};const o={message_id:a.id,chat_id:t};return"photo"in a.content&&a.content.photo?(o.media_type="photo",o.photo={id:a.content.photo.id,sizes:a.content.photo.sizes?.length||0}):"video"in a.content&&a.content.video?(o.media_type="video",o.video={id:a.content.video.id,duration:a.content.video.duration,width:a.content.video.width,height:a.content.video.height,mimeType:a.content.video.mimeType}):"document"in a.content&&a.content.document?(o.media_type="document",o.document={id:a.content.document.id,fileName:a.content.document.fileName,mimeType:a.content.document.mimeType,size:a.content.document.size}):"audio"in a.content&&a.content.audio?(o.media_type="audio",o.audio={id:a.content.audio.id,duration:a.content.audio.duration,title:a.content.audio.title,performer:a.content.audio.performer}):"voice"in a.content&&a.content.voice&&(o.media_type="voice",o.voice={id:a.content.voice.id,duration:a.content.voice.duration}),{content:[{type:"text",text:JSON.stringify(o,void 0,2)}]}}catch(e){return Ne("get_media_info",e instanceof Error?e:new Error(String(e)),Ue.MEDIA)}}var ls=new Uint8Array(256),fs=new Uint8Array(256),gs=new Uint32Array(256),ps=new Uint32Array(256),hs=new Uint32Array(256),ms=new Uint32Array(256),ys=new Uint32Array(256),bs=new Uint32Array(256),_s=new Uint32Array(256),vs=new Uint32Array(256);function ws(e,t){return e.charCodeAt(t)<<24^e.charCodeAt(t+1)<<16^e.charCodeAt(t+2)<<8^e.charCodeAt(t+3)}function Is(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(var t=e.length%4;t<=4;t++)e+="\0x00";var n=new Uint32Array(e.length/4);for(t=0;t<e.length;t+=4)n[t/4]=ws(e,t);return n}if(e instanceof Uint8Array){for(n=new Uint32Array(e.length/4),t=0;t<e.length;t+=4)n[t/4]=e[t]<<24^e[t+1]<<16^e[t+2]<<8^e[t+3];return n}throw new Error("Unable to create 32-bit words")}function Ss(e,t,n){void 0===n&&(n=e);for(var s=0;s<e.length;s++)n[s]=e[s]^t[s]}!function(){for(var e,t,n,s,r,a=new Uint8Array(256),o=new Uint8Array(256),i=0,c=0,d=0;d<256;d++)a[d]=d<<1^283*(d>>7),o[a[d]^d]=d;for(;!ls[i];i^=e||1)n=(n=c^c<<1^c<<2^c<<3^c<<4)>>8^255&n^99,ls[i]=n,fs[n]=i,r=16843009*a[t=a[e=a[i]]]^65537*t^257*e^16843008*i,s=257*a[n]^16843008*n,gs[i]=s=s<<24^s>>>8,ps[i]=s=s<<24^s>>>8,hs[i]=s=s<<24^s>>>8,ms[i]=s=s<<24^s>>>8,ys[n]=r=r<<24^r>>>8,bs[n]=r=r<<24^r>>>8,_s[n]=r=r<<24^r>>>8,vs[n]=r=r<<24^r>>>8,c=o[c]||1}();var Cs=function(){function e(e){var t=Is(e);if(4!==t.length&&6!==t.length&&8!==t.length)throw new Error("Invalid key size");this.encKey=new Uint32Array(4*t.length+28),this.decKey=new Uint32Array(4*t.length+28),this.encKey.set(t);for(var n,s=1,r=t.length;r<4*t.length+28;r++)n=this.encKey[r-1],(r%t.length===0||8===t.length&&r%t.length===4)&&(n=ls[n>>>24]<<24^ls[n>>16&255]<<16^ls[n>>8&255]<<8^ls[255&n],r%t.length===0&&(n=n<<8^n>>>24^s<<24,s=s<<1^283*(s>>7))),this.encKey[r]=this.encKey[r-t.length]^n;for(var a=0;r;a++,r--)n=this.encKey[3&a?r:r-4],this.decKey[a]=r<=4||a<4?n:ys[ls[n>>>24]]^bs[ls[n>>16&255]]^_s[ls[n>>8&255]]^vs[ls[255&n]]}return e.prototype.encrypt=function(e){for(var t,n,s,r=Is(e),a=new Uint32Array(4),o=r[0]^this.encKey[0],i=r[1]^this.encKey[1],c=r[2]^this.encKey[2],d=r[3]^this.encKey[3],u=this.encKey.length/4-2,l=4,f=0;f<u;f++)t=gs[o>>>24]^ps[i>>16&255]^hs[c>>8&255]^ms[255&d]^this.encKey[l],n=gs[i>>>24]^ps[c>>16&255]^hs[d>>8&255]^ms[255&o]^this.encKey[l+1],s=gs[c>>>24]^ps[d>>16&255]^hs[o>>8&255]^ms[255&i]^this.encKey[l+2],d=gs[d>>>24]^ps[o>>16&255]^hs[i>>8&255]^ms[255&c]^this.encKey[l+3],o=t,i=n,c=s,l+=4;for(f=0;f<4;f++)a[f]=ls[o>>>24]<<24^ls[i>>16&255]<<16^ls[c>>8&255]<<8^ls[255&d]^this.encKey[l++],t=o,o=i,i=c,c=d,d=t;return a},e.prototype.decrypt=function(e){for(var t,n,s,r=Is(e),a=new Uint32Array(4),o=r[0]^this.decKey[0],i=r[3]^this.decKey[1],c=r[2]^this.decKey[2],d=r[1]^this.decKey[3],u=this.decKey.length/4-2,l=4,f=0;f<u;f++)t=ys[o>>>24]^bs[i>>16&255]^_s[c>>8&255]^vs[255&d]^this.decKey[l],n=ys[i>>>24]^bs[c>>16&255]^_s[d>>8&255]^vs[255&o]^this.decKey[l+1],s=ys[c>>>24]^bs[d>>16&255]^_s[o>>8&255]^vs[255&i]^this.decKey[l+2],d=ys[d>>>24]^bs[o>>16&255]^_s[i>>8&255]^vs[255&c]^this.decKey[l+3],o=t,i=n,c=s,l+=4;for(f=0;f<4;f++)a[3&-f]=fs[o>>>24]<<24^fs[i>>16&255]<<16^fs[c>>8&255]<<8^fs[255&d]^this.decKey[l++],t=o,o=i,i=c,c=d,d=t;return a},e}();(function(){function e(e,t,n){void 0===n&&(n=16),this.key=Is(e),this.iv=Is(t),this.cipher=new Cs(e),this.blockSize=n/4}e.prototype.encrypt=function(e,t){for(var n=Is(e),s=t||new Uint32Array(n.length),r=this.iv.subarray(this.blockSize,this.iv.length),a=this.iv.subarray(0,this.blockSize),o=new Uint32Array(this.blockSize),i=0;i<n.length;i+=this.blockSize){var c=n.subarray(i,i+this.blockSize);Ss(c,a,o);var d=this.cipher.encrypt(o);Ss(d,r),r=c,a=d;for(var u=i,l=0;u<n.length&&l<4;u++,l++)s[u]=d[l]}return s},e.prototype.decrypt=function(e,t){for(var n=Is(e),s=t||new Uint32Array(n.length),r=this.iv.subarray(this.blockSize,this.iv.length),a=this.iv.subarray(0,this.blockSize),o=new Uint32Array(this.blockSize),i=0;i<s.length;i+=this.blockSize){var c=n.subarray(i,i+this.blockSize);Ss(c,r,o);var d=this.cipher.decrypt(o);Ss(d,a),a=c,r=d;for(var u=i,l=0;u<s.length&&l<4;u++,l++)s[u]=d[l]}return s}})(),function(){function e(e,t,n){if(void 0===n&&(n=16),this.offset=0,this.key=Is(e),this.counter=Is(t),this.cipher=new Cs(e),this.blockSize=n/4,4!==this.counter.length)throw new Error("AES-CTR mode counter must be 16 bytes length")}e.prototype.encrypt=function(e,t){for(var n=Is(e),s=t||new Uint32Array(n.length),r=this.offset,a=0;a<n.length;a+=this.blockSize){for(var o=this.cipher.encrypt(this.counter),i=a,c=r;i<n.length&&c<this.blockSize;i++,c++)s[i]=o[c]^n[i];n.length-a>=this.blockSize&&this.incrementCounter(),r&&(a-=r,r=0)}return this.offset=(this.offset+n.length%4)%4,s},e.prototype.decrypt=function(e,t){return this.encrypt(e,t)},e.prototype.incrementCounter=function(){for(var e=this.counter.length-1;e>=0&&!(++this.counter[e]<4294967295);e--);}}(),n(48287).hp;var As=n(48287).hp;function Ps(e,t=8){const n=As.allocUnsafe(t);if(8===t)return n.writeBigInt64LE(e),n;for(let s=0;s<t;s++)n[s]=Number(e>>BigInt(8*s)&0xFFn);return n}const ks=(()=>{let e;const t=[];for(let n=0;n<256;n++){e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})();function Ts(e){As.isBuffer(e)||(e=As.from(e));let t=-1;for(let n=0;n<e.length;n++){const s=e[n];t=ks[255&(t^s)]^t>>>8}return(-1^t)>>>0}var Es=n(48287).hp;const Ms=e=>e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace("-","").replace("_","")),xs=new Set([3162085175,2574415285,1072550713,3300522427,1450380236]),Rs=new Set([85337187,2211011308,2851430293,1013613780,1459478408,3504867164,3045658042,1715713620,3608339646,4110704415,812830625]),Bs=(e,t,n=[])=>{e.flags.includes("g")||(e=new RegExp(e.source,"g"));const s=e.exec(t);return s&&(n.push(s.slice(1)),Bs(e,t,n)),n},Us=(e,t)=>{const n=e.match(/([\w.]+)(?:#([0-9a-fA-F]+))?(?:\s{?\w+:[\w\d<>#.?!]+}?)*\s=\s([\w\d<>#.?]+);$/);if(!n)throw new Error(`Cannot parse TLObject ${e}`);const s=Bs(/({)?(\w+):([\w\d<>#.?!]+)}?/,e),r={name:n[1],constructorId:parseInt(n[2],16),argsConfig:{},subclassOfId:Ts(n[3]),result:n[3],isFunction:t,namespace:void 0};if(!r.constructorId){const e="";let t;t=Object.values(r.argsConfig).length?` ${Object.keys(r.argsConfig).map(e=>e.toString()).join(" ")}`:"";const n=`${r.name}${e}${t} = ${r.result}`.replace(/(:|\?)bytes /g,"$1string ").replace(/</g," ").replace(/>|{|}/g,"").replace(/ \w+:flags\d*\.\d+\?true/g,"");"inputMediaInvoice"===r.name&&r.name,r.constructorId=Ts(Es.from(n,"utf8"))}for(const[e,t,n]of s)void 0===e&&(r.argsConfig[Ms(t)]=Ns(t,n));return r.name.includes(".")&&([r.namespace,r.name]=r.name.split(/\.(.+)/)),r.name=r.name.replace(/(?:^|_)([a-z])/g,(e,t)=>t.toUpperCase()).replace(/_/g,""),r};function Ns(e,t){e="self"===e?"is_self":e;const n={isVector:!1,isFlag:!1,skipConstructorId:!1,flagGroup:0,flagIndex:-1,flagIndicator:!0,type:"",useVectorId:void 0};if("#"!==t){n.flagIndicator=!1,n.type=t.replace(/^!+/,"");const e=n.type.match(/flags(\d*)\.(\d+)\?([\w<>.]+)/);e&&(n.isFlag=!0,n.flagGroup=Number(e[1]||1),n.flagIndex=Number(e[2]),[,,,n.type]=e);const s=n.type.match(/[Vv]ector<([\w\d.]+)>/);s&&(n.isVector=!0,n.useVectorId="V"===n.type.charAt(0),[,n.type]=s),/^[a-z]$/.test(n.type.split(".").pop().charAt(0))&&(n.skipConstructorId=!0)}return n}function Ds(e){if(!(e instanceof Es)){if("string"!=typeof e)throw Error(`Bytes or str expected, not ${e.constructor.name}`);e=Es.from(e)}const t=[];let n;return e.length<254?(n=(e.length+1)%4,0!==n&&(n=4-n),t.push(Es.from([e.length])),t.push(e)):(n=e.length%4,0!==n&&(n=4-n),t.push(Es.from([254,e.length%256,(e.length>>8)%256,(e.length>>16)%256])),t.push(e)),t.push(Es.alloc(n).fill(0)),Es.concat(t)}var Ls=n(48287).hp;const Fs="undefined"!=typeof self&&void 0!==self.localStorage,Os="GramJs:apiCache";function Vs(e){const t=function*(e,t=[],n=xs){(t||[]).reduce((e,t)=>({...e,[t.name]:t}),{});const s=[],r={},a={},o=e;let i=!1;for(let e of o.split("\n")){const t=e.indexOf("//");if(-1!==t&&(e=e.slice(0,t)),e=e.trim(),!e)continue;const o=e.match(/---(\w+)---/);if(o){const[,e]=o;i="functions"===e;continue}try{const t=Us(e,i);if(n.has(t.constructorId))continue;s.push(t),t.isFunction||(a[t.result]||(a[t.result]=[]),r[t.name]=t,a[t.result].push(t))}catch(e){if(!e.toString().includes("vector#1cb5c415"))throw e}}for(const e of s)if(Rs.has(e.constructorId))for(const t in e.argsConfig)"string"===e.argsConfig[t].type&&(e.argsConfig[t].type="bytes");for(const e of s)yield e}(e),n=[],s=[];for(const e of t)e.isFunction?s.push(e):n.push(e);return[n,s]}function $s(e,t){switch(t){case"int":{const t=Ls.alloc(4);return t.writeInt32LE(e,0),t}case"long":return Ps(e,8);case"int128":return Ps(e,16);case"int256":return Ps(e,32);case"double":{const t=Ls.alloc(8);return t.writeDoubleLE(e,0),t}case"string":case"bytes":return Ds(e);case"Bool":return e?Ls.from("b5757299","hex"):Ls.from("379779bc","hex");case"true":return Ls.alloc(0);case"date":return function(e){if(!e)return Es.alloc(4).fill(0);if(e instanceof Date&&(e=Math.floor((Date.now()-e.getTime())/1e3)),"number"==typeof e){const t=Es.alloc(4);return t.writeInt32LE(e,0),t}throw Error(`Cannot interpret "${e}" as a date`)}(e);default:return e.getBytes()}}function Gs(e,t){if(t.isVector){t.useVectorId&&e.readInt();const n=[],s=e.readInt();t.isVector=!1;for(let r=0;r<s;r++)n.push(Gs(e,t));return t.isVector=!0,n}if(t.flagIndicator)return e.readInt();switch(t.type){case"int":return e.readInt();case"long":return e.readLong();case"int128":return e.readLargeInt(128);case"int256":return e.readLargeInt(256);case"double":return e.readDouble();case"string":return e.tgReadString();case"Bool":return e.tgReadBool();case"true":return!0;case"bytes":return e.tgReadBytes();case"date":return e.tgReadDate();default:if(t.skipConstructorId)throw new Error(`Unknown type ${t}`);return e.tgReadObject()}}function js(e,t){const n={};for(const s of t){const{name:t,constructorId:r,subclassOfId:a,argsConfig:o,namespace:i,result:c}=s,d=[i,t].join(".").replace(/^\./,"");class u{static CONSTRUCTOR_ID=r;static SUBCLASS_OF_ID=a;static className=d;static classType=e;CONSTRUCTOR_ID=r;SUBCLASS_OF_ID=a;className=d;classType=e;constructor(e){e=e||{},Object.keys(e).forEach(t=>{this[t]=e[t]})}static fromReader(e){const t={};for(const n in o)if(o.hasOwnProperty(n)){const s=o[n];if(s.isFlag){const r=t[`flags${s.flagGroup>1?s.flagGroup:""}`]&1<<s.flagIndex;if("true"===s.type){t[n]=Boolean(r);continue}t[n]=r?Gs(e,s):void 0}else t[n]=Gs(e,s)}return new u(t)}getBytes(){const e=this.CONSTRUCTOR_ID,t=Ls.alloc(4);t.writeUInt32LE(e,0);const n=[t];for(const e in o)if(o.hasOwnProperty(e)){if(o[e].isFlag&&(!1===this[e]&&"true"===o[e].type||void 0===this[e]))continue;if(o[e].isVector){o[e].useVectorId&&n.push(Ls.from("15c4b51c","hex"));const t=Ls.alloc(4);t.writeInt32LE(this[e].length,0),n.push(t,Ls.concat(this[e].map(t=>$s(t,o[e].type))))}else if(o[e].flagIndicator)if(Object.values(o).some(e=>e.isFlag)){let e=0;for(const t in o)o[t].isFlag&&(!1===this[t]&&"true"===o[t].type||void 0===this[t]?e|=0:e|=1<<o[t].flagIndex);const t=Ls.alloc(4);t.writeUInt32LE(e,0),n.push(t)}else n.push(Ls.alloc(4));else if(n.push($s(this[e],o[e].type)),this[e]&&"function"==typeof this[e].getBytes){const t=o[e].type.charAt(o[e].type.indexOf(".")+1);t===t.toUpperCase()||n.shift()}}return Ls.concat(n)}readResult(t){if("request"!==e)throw new Error("`readResult()` called for non-request instance");const n=c.match(/Vector<(int|long)>/);if(n){t.readInt();const e=[],s=t.readInt();if("int"===n[1])for(let n=0;n<s;n++)e.push(t.readInt());else for(let n=0;n<s;n++)e.push(t.readLong());return e}return t.tgReadObject()}}i?(n[i]||(n[i]={}),n[i][t]=u):n[t]=u}return n}const qs=function(){let e;const t=Fs&&function(){const e=localStorage.getItem(Os);return e&&JSON.parse(e)}();return t?e=t:(e=function(){const[e,t]=Vs("boolFalse#bc799737 = Bool;\nboolTrue#997275b5 = Bool;\ntrue#3fedd339 = True;\nvector#1cb5c415 {t:Type} # [ t ] = Vector t;\nerror#c4b9f9bb code:int text:string = Error;\nnull#56730bcc = Null;\ninputPeerEmpty#7f3b18ea = InputPeer;\ninputPeerSelf#7da07ec9 = InputPeer;\ninputPeerChat#35a95cb9 chat_id:long = InputPeer;\ninputPeerUser#dde8a54c user_id:long access_hash:long = InputPeer;\ninputPeerChannel#27bcbbfc channel_id:long access_hash:long = InputPeer;\ninputPeerUserFromMessage#a87b0a1c peer:InputPeer msg_id:int user_id:long = InputPeer;\ninputPeerChannelFromMessage#bd2a0840 peer:InputPeer msg_id:int channel_id:long = InputPeer;\ninputUserEmpty#b98886cf = InputUser;\ninputUserSelf#f7c1b13f = InputUser;\ninputUser#f21158c6 user_id:long access_hash:long = InputUser;\ninputUserFromMessage#1da448e2 peer:InputPeer msg_id:int user_id:long = InputUser;\ninputPhoneContact#6a1dc4be flags:# client_id:long phone:string first_name:string last_name:string note:flags.0?TextWithEntities = InputContact;\ninputFile#f52ff27f id:long parts:int name:string md5_checksum:string = InputFile;\ninputFileBig#fa4f0bb5 id:long parts:int name:string = InputFile;\ninputFileStoryDocument#62dc8b48 id:InputDocument = InputFile;\ninputMediaEmpty#9664f57f = InputMedia;\ninputMediaUploadedPhoto#1e287d04 flags:# spoiler:flags.2?true file:InputFile stickers:flags.0?Vector<InputDocument> ttl_seconds:flags.1?int = InputMedia;\ninputMediaPhoto#b3ba0635 flags:# spoiler:flags.1?true id:InputPhoto ttl_seconds:flags.0?int = InputMedia;\ninputMediaGeoPoint#f9c44144 geo_point:InputGeoPoint = InputMedia;\ninputMediaContact#f8ab7dfb phone_number:string first_name:string last_name:string vcard:string = InputMedia;\ninputMediaUploadedDocument#37c9330 flags:# nosound_video:flags.3?true force_file:flags.4?true spoiler:flags.5?true file:InputFile thumb:flags.2?InputFile mime_type:string attributes:Vector<DocumentAttribute> stickers:flags.0?Vector<InputDocument> video_cover:flags.6?InputPhoto video_timestamp:flags.7?int ttl_seconds:flags.1?int = InputMedia;\ninputMediaDocument#a8763ab5 flags:# spoiler:flags.2?true id:InputDocument video_cover:flags.3?InputPhoto video_timestamp:flags.4?int ttl_seconds:flags.0?int query:flags.1?string = InputMedia;\ninputMediaVenue#c13d1c11 geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string = InputMedia;\ninputMediaPhotoExternal#e5bbfe1a flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int = InputMedia;\ninputMediaDocumentExternal#779600f9 flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int video_cover:flags.2?InputPhoto video_timestamp:flags.3?int = InputMedia;\ninputMediaGame#d33f43f3 id:InputGame = InputMedia;\ninputMediaInvoice#405fef0d flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:flags.3?string provider_data:DataJSON start_param:flags.1?string extended_media:flags.2?InputMedia = InputMedia;\ninputMediaGeoLive#971fa843 flags:# stopped:flags.0?true geo_point:InputGeoPoint heading:flags.2?int period:flags.1?int proximity_notification_radius:flags.3?int = InputMedia;\ninputMediaPoll#f94e5f1 flags:# poll:Poll correct_answers:flags.0?Vector<bytes> solution:flags.1?string solution_entities:flags.1?Vector<MessageEntity> = InputMedia;\ninputMediaDice#e66fbf7b emoticon:string = InputMedia;\ninputMediaStory#89fdd778 peer:InputPeer id:int = InputMedia;\ninputMediaWebPage#c21b8849 flags:# force_large_media:flags.0?true force_small_media:flags.1?true optional:flags.2?true url:string = InputMedia;\ninputMediaPaidMedia#c4103386 flags:# stars_amount:long extended_media:Vector<InputMedia> payload:flags.0?string = InputMedia;\ninputMediaTodo#9fc55fde todo:TodoList = InputMedia;\ninputChatPhotoEmpty#1ca48f57 = InputChatPhoto;\ninputChatUploadedPhoto#bdcdaec0 flags:# file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.3?VideoSize = InputChatPhoto;\ninputChatPhoto#8953ad37 id:InputPhoto = InputChatPhoto;\ninputGeoPointEmpty#e4c123d6 = InputGeoPoint;\ninputGeoPoint#48222faf flags:# lat:double long:double accuracy_radius:flags.0?int = InputGeoPoint;\ninputPhotoEmpty#1cd7bf0d = InputPhoto;\ninputPhoto#3bb3b94a id:long access_hash:long file_reference:bytes = InputPhoto;\ninputFileLocation#dfdaabe1 volume_id:long local_id:int secret:long file_reference:bytes = InputFileLocation;\ninputEncryptedFileLocation#f5235d55 id:long access_hash:long = InputFileLocation;\ninputDocumentFileLocation#bad07584 id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;\ninputSecureFileLocation#cbc7ee28 id:long access_hash:long = InputFileLocation;\ninputTakeoutFileLocation#29be5899 = InputFileLocation;\ninputPhotoFileLocation#40181ffe id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;\ninputPhotoLegacyFileLocation#d83466f3 id:long access_hash:long file_reference:bytes volume_id:long local_id:int secret:long = InputFileLocation;\ninputPeerPhotoFileLocation#37257e99 flags:# big:flags.0?true peer:InputPeer photo_id:long = InputFileLocation;\ninputStickerSetThumb#9d84f3db stickerset:InputStickerSet thumb_version:int = InputFileLocation;\ninputGroupCallStream#598a92a flags:# call:InputGroupCall time_ms:long scale:int video_channel:flags.0?int video_quality:flags.0?int = InputFileLocation;\npeerUser#59511722 user_id:long = Peer;\npeerChat#36c6019a chat_id:long = Peer;\npeerChannel#a2a5371e channel_id:long = Peer;\nstorage.fileUnknown#aa963b05 = storage.FileType;\nstorage.filePartial#40bc6f52 = storage.FileType;\nstorage.fileJpeg#7efe0e = storage.FileType;\nstorage.fileGif#cae1aadf = storage.FileType;\nstorage.filePng#a4f63c0 = storage.FileType;\nstorage.filePdf#ae1e508d = storage.FileType;\nstorage.fileMp3#528a0677 = storage.FileType;\nstorage.fileMov#4b09ebbc = storage.FileType;\nstorage.fileMp4#b3cea0e4 = storage.FileType;\nstorage.fileWebp#1081464c = storage.FileType;\nuserEmpty#d3bc4b7a id:long = User;\nuser#31774388 flags:# self:flags.10?true contact:flags.11?true mutual_contact:flags.12?true deleted:flags.13?true bot:flags.14?true bot_chat_history:flags.15?true bot_nochats:flags.16?true verified:flags.17?true restricted:flags.18?true min:flags.20?true bot_inline_geo:flags.21?true support:flags.23?true scam:flags.24?true apply_min_photo:flags.25?true fake:flags.26?true bot_attach_menu:flags.27?true premium:flags.28?true attach_menu_enabled:flags.29?true flags2:# bot_can_edit:flags2.1?true close_friend:flags2.2?true stories_hidden:flags2.3?true stories_unavailable:flags2.4?true contact_require_premium:flags2.10?true bot_business:flags2.11?true bot_has_main_app:flags2.13?true bot_forum_view:flags2.16?true id:long access_hash:flags.0?long first_name:flags.1?string last_name:flags.2?string username:flags.3?string phone:flags.4?string photo:flags.5?UserProfilePhoto status:flags.6?UserStatus bot_info_version:flags.14?int restriction_reason:flags.18?Vector<RestrictionReason> bot_inline_placeholder:flags.19?string lang_code:flags.22?string emoji_status:flags.30?EmojiStatus usernames:flags2.0?Vector<Username> stories_max_id:flags2.5?RecentStory color:flags2.8?PeerColor profile_color:flags2.9?PeerColor bot_active_users:flags2.12?int bot_verification_icon:flags2.14?long send_paid_messages_stars:flags2.15?long = User;\nuserProfilePhotoEmpty#4f11bae1 = UserProfilePhoto;\nuserProfilePhoto#82d1f706 flags:# has_video:flags.0?true personal:flags.2?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = UserProfilePhoto;\nuserStatusEmpty#9d05049 = UserStatus;\nuserStatusOnline#edb93949 expires:int = UserStatus;\nuserStatusOffline#8c703f was_online:int = UserStatus;\nuserStatusRecently#7b197dc8 flags:# by_me:flags.0?true = UserStatus;\nuserStatusLastWeek#541a1d1a flags:# by_me:flags.0?true = UserStatus;\nuserStatusLastMonth#65899777 flags:# by_me:flags.0?true = UserStatus;\nchatEmpty#29562865 id:long = Chat;\nchat#41cbf256 flags:# creator:flags.0?true left:flags.2?true deactivated:flags.5?true call_active:flags.23?true call_not_empty:flags.24?true noforwards:flags.25?true id:long title:string photo:ChatPhoto participants_count:int date:int version:int migrated_to:flags.6?InputChannel admin_rights:flags.14?ChatAdminRights default_banned_rights:flags.18?ChatBannedRights = Chat;\nchatForbidden#6592a1a7 id:long title:string = Chat;\nchannel#1c32b11c flags:# creator:flags.0?true left:flags.2?true broadcast:flags.5?true verified:flags.7?true megagroup:flags.8?true restricted:flags.9?true signatures:flags.11?true min:flags.12?true scam:flags.19?true has_link:flags.20?true has_geo:flags.21?true slowmode_enabled:flags.22?true call_active:flags.23?true call_not_empty:flags.24?true fake:flags.25?true gigagroup:flags.26?true noforwards:flags.27?true join_to_send:flags.28?true join_request:flags.29?true forum:flags.30?true flags2:# stories_hidden:flags2.1?true stories_hidden_min:flags2.2?true stories_unavailable:flags2.3?true signature_profiles:flags2.12?true autotranslation:flags2.15?true broadcast_messages_allowed:flags2.16?true monoforum:flags2.17?true forum_tabs:flags2.19?true id:long access_hash:flags.13?long title:string username:flags.6?string photo:ChatPhoto date:int restriction_reason:flags.9?Vector<RestrictionReason> admin_rights:flags.14?ChatAdminRights banned_rights:flags.15?ChatBannedRights default_banned_rights:flags.18?ChatBannedRights participants_count:flags.17?int usernames:flags2.0?Vector<Username> stories_max_id:flags2.4?RecentStory color:flags2.7?PeerColor profile_color:flags2.8?PeerColor emoji_status:flags2.9?EmojiStatus level:flags2.10?int subscription_until_date:flags2.11?int bot_verification_icon:flags2.13?long send_paid_messages_stars:flags2.14?long linked_monoforum_id:flags2.18?long = Chat;\nchannelForbidden#17d493d5 flags:# broadcast:flags.5?true megagroup:flags.8?true id:long access_hash:long title:string until_date:flags.16?int = Chat;\nchatFull#2633421b flags:# can_set_username:flags.7?true has_scheduled:flags.8?true translations_disabled:flags.19?true id:long about:string participants:ChatParticipants chat_photo:flags.2?Photo notify_settings:PeerNotifySettings exported_invite:flags.13?ExportedChatInvite bot_info:flags.3?Vector<BotInfo> pinned_msg_id:flags.6?int folder_id:flags.11?int call:flags.12?InputGroupCall ttl_period:flags.14?int groupcall_default_join_as:flags.15?Peer theme_emoticon:flags.16?string requests_pending:flags.17?int recent_requesters:flags.17?Vector<long> available_reactions:flags.18?ChatReactions reactions_limit:flags.20?int = ChatFull;\nchannelFull#e4e0b29d flags:# can_view_participants:flags.3?true can_set_username:flags.6?true can_set_stickers:flags.7?true hidden_prehistory:flags.10?true can_set_location:flags.16?true has_scheduled:flags.19?true can_view_stats:flags.20?true blocked:flags.22?true flags2:# can_delete_channel:flags2.0?true antispam:flags2.1?true participants_hidden:flags2.2?true translations_disabled:flags2.3?true stories_pinned_available:flags2.5?true view_forum_as_messages:flags2.6?true restricted_sponsored:flags2.11?true can_view_revenue:flags2.12?true paid_media_allowed:flags2.14?true can_view_stars_revenue:flags2.15?true paid_reactions_available:flags2.16?true stargifts_available:flags2.19?true paid_messages_available:flags2.20?true id:long about:string participants_count:flags.0?int admins_count:flags.1?int kicked_count:flags.2?int banned_count:flags.2?int online_count:flags.13?int read_inbox_max_id:int read_outbox_max_id:int unread_count:int chat_photo:Photo notify_settings:PeerNotifySettings exported_invite:flags.23?ExportedChatInvite bot_info:Vector<BotInfo> migrated_from_chat_id:flags.4?long migrated_from_max_id:flags.4?int pinned_msg_id:flags.5?int stickerset:flags.8?StickerSet available_min_id:flags.9?int folder_id:flags.11?int linked_chat_id:flags.14?long location:flags.15?ChannelLocation slowmode_seconds:flags.17?int slowmode_next_send_date:flags.18?int stats_dc:flags.12?int pts:int call:flags.21?InputGroupCall ttl_period:flags.24?int pending_suggestions:flags.25?Vector<string> groupcall_default_join_as:flags.26?Peer theme_emoticon:flags.27?string requests_pending:flags.28?int recent_requesters:flags.28?Vector<long> default_send_as:flags.29?Peer available_reactions:flags.30?ChatReactions reactions_limit:flags2.13?int stories:flags2.4?PeerStories wallpaper:flags2.7?WallPaper boosts_applied:flags2.8?int boosts_unrestrict:flags2.9?int emojiset:flags2.10?StickerSet bot_verification:flags2.17?BotVerification stargifts_count:flags2.18?int send_paid_messages_stars:flags2.21?long main_tab:flags2.22?ProfileTab = ChatFull;\nchatParticipant#c02d4007 user_id:long inviter_id:long date:int = ChatParticipant;\nchatParticipantCreator#e46bcee4 user_id:long = ChatParticipant;\nchatParticipantAdmin#a0933f5b user_id:long inviter_id:long date:int = ChatParticipant;\nchatParticipantsForbidden#8763d3e1 flags:# chat_id:long self_participant:flags.0?ChatParticipant = ChatParticipants;\nchatParticipants#3cbc93f8 chat_id:long participants:Vector<ChatParticipant> version:int = ChatParticipants;\nchatPhotoEmpty#37c1011c = ChatPhoto;\nchatPhoto#1c6e1c11 flags:# has_video:flags.0?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = ChatPhoto;\nmessageEmpty#90a6ca84 flags:# id:int peer_id:flags.0?Peer = Message;\nmessage#b92f76cf flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true post:flags.14?true from_scheduled:flags.18?true legacy:flags.19?true edit_hide:flags.21?true pinned:flags.24?true noforwards:flags.26?true invert_media:flags.27?true flags2:# offline:flags2.1?true video_processing_pending:flags2.4?true paid_suggested_post_stars:flags2.8?true paid_suggested_post_ton:flags2.9?true id:int from_id:flags.8?Peer from_boosts_applied:flags.29?int peer_id:Peer saved_peer_id:flags.28?Peer fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long via_business_bot_id:flags2.0?long reply_to:flags.3?MessageReplyHeader date:int message:string media:flags.9?MessageMedia reply_markup:flags.6?ReplyMarkup entities:flags.7?Vector<MessageEntity> views:flags.10?int forwards:flags.10?int replies:flags.23?MessageReplies edit_date:flags.15?int post_author:flags.16?string grouped_id:flags.17?long reactions:flags.20?MessageReactions restriction_reason:flags.22?Vector<RestrictionReason> ttl_period:flags.25?int quick_reply_shortcut_id:flags.30?int effect:flags2.2?long factcheck:flags2.3?FactCheck report_delivery_until_date:flags2.5?int paid_message_stars:flags2.6?long suggested_post:flags2.7?SuggestedPost schedule_repeat_period:flags2.10?int = Message;\nmessageService#7a800e0a flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true reactions_are_possible:flags.9?true silent:flags.13?true post:flags.14?true legacy:flags.19?true id:int from_id:flags.8?Peer peer_id:Peer saved_peer_id:flags.28?Peer reply_to:flags.3?MessageReplyHeader date:int action:MessageAction reactions:flags.20?MessageReactions ttl_period:flags.25?int = Message;\nmessageMediaEmpty#3ded6320 = MessageMedia;\nmessageMediaPhoto#695150d7 flags:# spoiler:flags.3?true photo:flags.0?Photo ttl_seconds:flags.2?int = MessageMedia;\nmessageMediaGeo#56e0d474 geo:GeoPoint = MessageMedia;\nmessageMediaContact#70322949 phone_number:string first_name:string last_name:string vcard:string user_id:long = MessageMedia;\nmessageMediaUnsupported#9f84f49e = MessageMedia;\nmessageMediaDocument#52d8ccd9 flags:# nopremium:flags.3?true spoiler:flags.4?true video:flags.6?true round:flags.7?true voice:flags.8?true document:flags.0?Document alt_documents:flags.5?Vector<Document> video_cover:flags.9?Photo video_timestamp:flags.10?int ttl_seconds:flags.2?int = MessageMedia;\nmessageMediaWebPage#ddf10c3b flags:# force_large_media:flags.0?true force_small_media:flags.1?true manual:flags.3?true safe:flags.4?true webpage:WebPage = MessageMedia;\nmessageMediaVenue#2ec0533f geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MessageMedia;\nmessageMediaGame#fdb19008 game:Game = MessageMedia;\nmessageMediaInvoice#f6a548d3 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument receipt_msg_id:flags.2?int currency:string total_amount:long start_param:string extended_media:flags.4?MessageExtendedMedia = MessageMedia;\nmessageMediaGeoLive#b940c666 flags:# geo:GeoPoint heading:flags.0?int period:int proximity_notification_radius:flags.1?int = MessageMedia;\nmessageMediaPoll#4bd6e798 poll:Poll results:PollResults = MessageMedia;\nmessageMediaDice#3f7ee58b value:int emoticon:string = MessageMedia;\nmessageMediaStory#68cb6283 flags:# via_mention:flags.1?true peer:Peer id:int story:flags.0?StoryItem = MessageMedia;\nmessageMediaGiveaway#aa073beb flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.2?true channels:Vector<long> countries_iso2:flags.1?Vector<string> prize_description:flags.3?string quantity:int months:flags.4?int stars:flags.5?long until_date:int = MessageMedia;\nmessageMediaGiveawayResults#ceaa3ea1 flags:# only_new_subscribers:flags.0?true refunded:flags.2?true channel_id:long additional_peers_count:flags.3?int launch_msg_id:int winners_count:int unclaimed_count:int winners:Vector<long> months:flags.4?int stars:flags.5?long prize_description:flags.1?string until_date:int = MessageMedia;\nmessageMediaPaidMedia#a8852491 stars_amount:long extended_media:Vector<MessageExtendedMedia> = MessageMedia;\nmessageMediaToDo#8a53b014 flags:# todo:TodoList completions:flags.0?Vector<TodoCompletion> = MessageMedia;\nmessageMediaVideoStream#ca5cab89 flags:# rtmp_stream:flags.0?true call:InputGroupCall = MessageMedia;\nmessageActionEmpty#b6aef7b0 = MessageAction;\nmessageActionChatCreate#bd47cbad title:string users:Vector<long> = MessageAction;\nmessageActionChatEditTitle#b5a1ce5a title:string = MessageAction;\nmessageActionChatEditPhoto#7fcb13a8 photo:Photo = MessageAction;\nmessageActionChatDeletePhoto#95e3fbef = MessageAction;\nmessageActionChatAddUser#15cefd00 users:Vector<long> = MessageAction;\nmessageActionChatDeleteUser#a43f30cc user_id:long = MessageAction;\nmessageActionChatJoinedByLink#31224c3 inviter_id:long = MessageAction;\nmessageActionChannelCreate#95d2ac92 title:string = MessageAction;\nmessageActionChatMigrateTo#e1037f92 channel_id:long = MessageAction;\nmessageActionChannelMigrateFrom#ea3948e9 title:string chat_id:long = MessageAction;\nmessageActionPinMessage#94bd38ed = MessageAction;\nmessageActionHistoryClear#9fbab604 = MessageAction;\nmessageActionGameScore#92a72876 game_id:long score:int = MessageAction;\nmessageActionPaymentSentMe#ffa00ccc flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string charge:PaymentCharge subscription_until_date:flags.4?int = MessageAction;\nmessageActionPaymentSent#c624b16e flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long invoice_slug:flags.0?string subscription_until_date:flags.4?int = MessageAction;\nmessageActionPhoneCall#80e11a7f flags:# video:flags.2?true call_id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = MessageAction;\nmessageActionScreenshotTaken#4792929b = MessageAction;\nmessageActionCustomAction#fae69f56 message:string = MessageAction;\nmessageActionBotAllowed#c516d679 flags:# attach_menu:flags.1?true from_request:flags.3?true domain:flags.0?string app:flags.2?BotApp = MessageAction;\nmessageActionSecureValuesSentMe#1b287353 values:Vector<SecureValue> credentials:SecureCredentialsEncrypted = MessageAction;\nmessageActionSecureValuesSent#d95c6154 types:Vector<SecureValueType> = MessageAction;\nmessageActionContactSignUp#f3f25f76 = MessageAction;\nmessageActionGeoProximityReached#98e0d697 from_id:Peer to_id:Peer distance:int = MessageAction;\nmessageActionGroupCall#7a0d7f42 flags:# call:InputGroupCall duration:flags.0?int = MessageAction;\nmessageActionInviteToGroupCall#502f92f7 call:InputGroupCall users:Vector<long> = MessageAction;\nmessageActionSetMessagesTTL#3c134d7b flags:# period:int auto_setting_from:flags.0?long = MessageAction;\nmessageActionGroupCallScheduled#b3a07661 call:InputGroupCall schedule_date:int = MessageAction;\nmessageActionSetChatTheme#b91bbd3a theme:ChatTheme = MessageAction;\nmessageActionChatJoinedByRequest#ebbca3cb = MessageAction;\nmessageActionWebViewDataSentMe#47dd8079 text:string data:string = MessageAction;\nmessageActionWebViewDataSent#b4c38cb5 text:string = MessageAction;\nmessageActionGiftPremium#48e91302 flags:# currency:string amount:long days:int crypto_currency:flags.0?string crypto_amount:flags.0?long message:flags.1?TextWithEntities = MessageAction;\nmessageActionTopicCreate#d999256 flags:# title_missing:flags.1?true title:string icon_color:int icon_emoji_id:flags.0?long = MessageAction;\nmessageActionTopicEdit#c0944820 flags:# title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = MessageAction;\nmessageActionSuggestProfilePhoto#57de635e photo:Photo = MessageAction;\nmessageActionRequestedPeer#31518e9b button_id:int peers:Vector<Peer> = MessageAction;\nmessageActionSetChatWallPaper#5060a3f4 flags:# same:flags.0?true for_both:flags.1?true wallpaper:WallPaper = MessageAction;\nmessageActionGiftCode#31c48347 flags:# via_giveaway:flags.0?true unclaimed:flags.5?true boost_peer:flags.1?Peer days:int slug:string currency:flags.2?string amount:flags.2?long crypto_currency:flags.3?string crypto_amount:flags.3?long message:flags.4?TextWithEntities = MessageAction;\nmessageActionGiveawayLaunch#a80f51e4 flags:# stars:flags.0?long = MessageAction;\nmessageActionGiveawayResults#87e2f155 flags:# stars:flags.0?true winners_count:int unclaimed_count:int = MessageAction;\nmessageActionBoostApply#cc02aa6d boosts:int = MessageAction;\nmessageActionRequestedPeerSentMe#93b31848 button_id:int peers:Vector<RequestedPeer> = MessageAction;\nmessageActionPaymentRefunded#41b3e202 flags:# peer:Peer currency:string total_amount:long payload:flags.0?bytes charge:PaymentCharge = MessageAction;\nmessageActionGiftStars#45d5b021 flags:# currency:string amount:long stars:long crypto_currency:flags.0?string crypto_amount:flags.0?long transaction_id:flags.1?string = MessageAction;\nmessageActionPrizeStars#b00c47a2 flags:# unclaimed:flags.0?true stars:long transaction_id:string boost_peer:Peer giveaway_msg_id:int = MessageAction;\nmessageActionStarGift#ea2c31d3 flags:# name_hidden:flags.0?true saved:flags.2?true converted:flags.3?true upgraded:flags.5?true refunded:flags.9?true can_upgrade:flags.10?true prepaid_upgrade:flags.13?true upgrade_separate:flags.16?true auction_acquired:flags.17?true gift:StarGift message:flags.1?TextWithEntities convert_stars:flags.4?long upgrade_msg_id:flags.5?int upgrade_stars:flags.8?long from_id:flags.11?Peer peer:flags.12?Peer saved_id:flags.12?long prepaid_upgrade_hash:flags.14?string gift_msg_id:flags.15?int to_id:flags.18?Peer gift_num:flags.19?int = MessageAction;\nmessageActionStarGiftUnique#95728543 flags:# upgrade:flags.0?true transferred:flags.1?true saved:flags.2?true refunded:flags.5?true prepaid_upgrade:flags.11?true assigned:flags.13?true from_offer:flags.14?true gift:StarGift can_export_at:flags.3?int transfer_stars:flags.4?long from_id:flags.6?Peer peer:flags.7?Peer saved_id:flags.7?long resale_amount:flags.8?StarsAmount can_transfer_at:flags.9?int can_resell_at:flags.10?int drop_original_details_stars:flags.12?long = MessageAction;\nmessageActionPaidMessagesRefunded#ac1f1fcd count:int stars:long = MessageAction;\nmessageActionPaidMessagesPrice#84b88578 flags:# broadcast_messages_allowed:flags.0?true stars:long = MessageAction;\nmessageActionConferenceCall#2ffe2f7a flags:# missed:flags.0?true active:flags.1?true video:flags.4?true call_id:long duration:flags.2?int other_participants:flags.3?Vector<Peer> = MessageAction;\nmessageActionTodoCompletions#cc7c5c89 completed:Vector<int> incompleted:Vector<int> = MessageAction;\nmessageActionTodoAppendTasks#c7edbc83 list:Vector<TodoItem> = MessageAction;\nmessageActionSuggestedPostApproval#ee7a1596 flags:# rejected:flags.0?true balance_too_low:flags.1?true reject_comment:flags.2?string schedule_date:flags.3?int price:flags.4?StarsAmount = MessageAction;\nmessageActionSuggestedPostSuccess#95ddcf69 price:StarsAmount = MessageAction;\nmessageActionSuggestedPostRefund#69f916f8 flags:# payer_initiated:flags.0?true = MessageAction;\nmessageActionGiftTon#a8a3c699 flags:# currency:string amount:long crypto_currency:string crypto_amount:long transaction_id:flags.0?string = MessageAction;\nmessageActionSuggestBirthday#2c8f2a25 birthday:Birthday = MessageAction;\nmessageActionStarGiftPurchaseOffer#774278d4 flags:# accepted:flags.0?true declined:flags.1?true gift:StarGift price:StarsAmount expires_at:int = MessageAction;\nmessageActionStarGiftPurchaseOfferDeclined#73ada76b flags:# expired:flags.0?true gift:StarGift price:StarsAmount = MessageAction;\ndialog#d58a08c6 flags:# pinned:flags.2?true unread_mark:flags.3?true view_forum_as_messages:flags.6?true peer:Peer top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int notify_settings:PeerNotifySettings pts:flags.0?int draft:flags.1?DraftMessage folder_id:flags.4?int ttl_period:flags.5?int = Dialog;\ndialogFolder#71bd134c flags:# pinned:flags.2?true folder:Folder peer:Peer top_message:int unread_muted_peers_count:int unread_unmuted_peers_count:int unread_muted_messages_count:int unread_unmuted_messages_count:int = Dialog;\nphotoEmpty#2331b22d id:long = Photo;\nphoto#fb197a65 flags:# has_stickers:flags.0?true id:long access_hash:long file_reference:bytes date:int sizes:Vector<PhotoSize> video_sizes:flags.1?Vector<VideoSize> dc_id:int = Photo;\nphotoSizeEmpty#e17e23c type:string = PhotoSize;\nphotoSize#75c78e60 type:string w:int h:int size:int = PhotoSize;\nphotoCachedSize#21e1ad6 type:string w:int h:int bytes:bytes = PhotoSize;\nphotoStrippedSize#e0b0bc2e type:string bytes:bytes = PhotoSize;\nphotoSizeProgressive#fa3efb95 type:string w:int h:int sizes:Vector<int> = PhotoSize;\nphotoPathSize#d8214d41 type:string bytes:bytes = PhotoSize;\ngeoPointEmpty#1117dd5f = GeoPoint;\ngeoPoint#b2a2f663 flags:# long:double lat:double access_hash:long accuracy_radius:flags.0?int = GeoPoint;\nauth.sentCode#5e002502 flags:# type:auth.SentCodeType phone_code_hash:string next_type:flags.1?auth.CodeType timeout:flags.2?int = auth.SentCode;\nauth.sentCodeSuccess#2390fe44 authorization:auth.Authorization = auth.SentCode;\nauth.sentCodePaymentRequired#e0955a3c store_product:string phone_code_hash:string support_email_address:string support_email_subject:string currency:string amount:long = auth.SentCode;\nauth.authorization#2ea2c0d4 flags:# setup_password_required:flags.1?true otherwise_relogin_days:flags.1?int tmp_sessions:flags.0?int future_auth_token:flags.2?bytes user:User = auth.Authorization;\nauth.authorizationSignUpRequired#44747e9a flags:# terms_of_service:flags.0?help.TermsOfService = auth.Authorization;\nauth.exportedAuthorization#b434e2b8 id:long bytes:bytes = auth.ExportedAuthorization;\ninputNotifyPeer#b8bc5b0c peer:InputPeer = InputNotifyPeer;\ninputNotifyUsers#193b4417 = InputNotifyPeer;\ninputNotifyChats#4a95e84e = InputNotifyPeer;\ninputNotifyBroadcasts#b1db7c7e = InputNotifyPeer;\ninputNotifyForumTopic#5c467992 peer:InputPeer top_msg_id:int = InputNotifyPeer;\ninputPeerNotifySettings#cacb6ae2 flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int sound:flags.3?NotificationSound stories_muted:flags.6?Bool stories_hide_sender:flags.7?Bool stories_sound:flags.8?NotificationSound = InputPeerNotifySettings;\npeerNotifySettings#99622c0c flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int ios_sound:flags.3?NotificationSound android_sound:flags.4?NotificationSound other_sound:flags.5?NotificationSound stories_muted:flags.6?Bool stories_hide_sender:flags.7?Bool stories_ios_sound:flags.8?NotificationSound stories_android_sound:flags.9?NotificationSound stories_other_sound:flags.10?NotificationSound = PeerNotifySettings;\npeerSettings#f47741f7 flags:# report_spam:flags.0?true add_contact:flags.1?true block_contact:flags.2?true share_contact:flags.3?true need_contacts_exception:flags.4?true report_geo:flags.5?true autoarchived:flags.7?true invite_members:flags.8?true request_chat_broadcast:flags.10?true business_bot_paused:flags.11?true business_bot_can_reply:flags.12?true geo_distance:flags.6?int request_chat_title:flags.9?string request_chat_date:flags.9?int business_bot_id:flags.13?long business_bot_manage_url:flags.13?string charge_paid_message_stars:flags.14?long registration_month:flags.15?string phone_country:flags.16?string name_change_date:flags.17?int photo_change_date:flags.18?int = PeerSettings;\nwallPaper#a437c3ed id:long flags:# creator:flags.0?true default:flags.1?true pattern:flags.3?true dark:flags.4?true access_hash:long slug:string document:Document settings:flags.2?WallPaperSettings = WallPaper;\nwallPaperNoFile#e0804116 id:long flags:# default:flags.1?true dark:flags.4?true settings:flags.2?WallPaperSettings = WallPaper;\ninputReportReasonSpam#58dbcab8 = ReportReason;\ninputReportReasonViolence#1e22c78d = ReportReason;\ninputReportReasonPornography#2e59d922 = ReportReason;\ninputReportReasonChildAbuse#adf44ee3 = ReportReason;\ninputReportReasonOther#c1e4a2b1 = ReportReason;\ninputReportReasonCopyright#9b89f93a = ReportReason;\ninputReportReasonGeoIrrelevant#dbd4feed = ReportReason;\ninputReportReasonFake#f5ddd6e7 = ReportReason;\ninputReportReasonIllegalDrugs#a8eb2be = ReportReason;\ninputReportReasonPersonalDetails#9ec7863d = ReportReason;\nuserFull#a02bc13e flags:# blocked:flags.0?true phone_calls_available:flags.4?true phone_calls_private:flags.5?true can_pin_message:flags.7?true has_scheduled:flags.12?true video_calls_available:flags.13?true voice_messages_forbidden:flags.20?true translations_disabled:flags.23?true stories_pinned_available:flags.26?true blocked_my_stories_from:flags.27?true wallpaper_overridden:flags.28?true contact_require_premium:flags.29?true read_dates_private:flags.30?true flags2:# sponsored_enabled:flags2.7?true can_view_revenue:flags2.9?true bot_can_manage_emoji_status:flags2.10?true display_gifts_button:flags2.16?true id:long about:flags.1?string settings:PeerSettings personal_photo:flags.21?Photo profile_photo:flags.2?Photo fallback_photo:flags.22?Photo notify_settings:PeerNotifySettings bot_info:flags.3?BotInfo pinned_msg_id:flags.6?int common_chats_count:int folder_id:flags.11?int ttl_period:flags.14?int theme:flags.15?ChatTheme private_forward_name:flags.16?string bot_group_admin_rights:flags.17?ChatAdminRights bot_broadcast_admin_rights:flags.18?ChatAdminRights wallpaper:flags.24?WallPaper stories:flags.25?PeerStories business_work_hours:flags2.0?BusinessWorkHours business_location:flags2.1?BusinessLocation business_greeting_message:flags2.2?BusinessGreetingMessage business_away_message:flags2.3?BusinessAwayMessage business_intro:flags2.4?BusinessIntro birthday:flags2.5?Birthday personal_channel_id:flags2.6?long personal_channel_message:flags2.6?int stargifts_count:flags2.8?int starref_program:flags2.11?StarRefProgram bot_verification:flags2.12?BotVerification send_paid_messages_stars:flags2.14?long disallowed_gifts:flags2.15?DisallowedGiftsSettings stars_rating:flags2.17?StarsRating stars_my_pending_rating:flags2.18?StarsRating stars_my_pending_rating_date:flags2.18?int main_tab:flags2.20?ProfileTab saved_music:flags2.21?Document note:flags2.22?TextWithEntities = UserFull;\ncontact#145ade0b user_id:long mutual:Bool = Contact;\nimportedContact#c13e3c50 user_id:long client_id:long = ImportedContact;\ncontactStatus#16d9703b user_id:long status:UserStatus = ContactStatus;\ncontacts.contactsNotModified#b74ba9d2 = contacts.Contacts;\ncontacts.contacts#eae87e42 contacts:Vector<Contact> saved_count:int users:Vector<User> = contacts.Contacts;\ncontacts.importedContacts#77d01c3b imported:Vector<ImportedContact> popular_invites:Vector<PopularContact> retry_contacts:Vector<long> users:Vector<User> = contacts.ImportedContacts;\ncontacts.blocked#ade1591 blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;\ncontacts.blockedSlice#e1664194 count:int blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;\nmessages.dialogs#15ba6c40 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;\nmessages.dialogsSlice#71e094f3 count:int dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;\nmessages.dialogsNotModified#f0e3e596 count:int = messages.Dialogs;\nmessages.messages#1d73e7ea messages:Vector<Message> topics:Vector<ForumTopic> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.messagesSlice#5f206716 flags:# inexact:flags.1?true count:int next_rate:flags.0?int offset_id_offset:flags.2?int search_flood:flags.3?SearchPostsFlood messages:Vector<Message> topics:Vector<ForumTopic> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.channelMessages#c776ba4e flags:# inexact:flags.1?true pts:int count:int offset_id_offset:flags.2?int messages:Vector<Message> topics:Vector<ForumTopic> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.messagesNotModified#74535f21 count:int = messages.Messages;\nmessages.chats#64ff9fd5 chats:Vector<Chat> = messages.Chats;\nmessages.chatsSlice#9cd81144 count:int chats:Vector<Chat> = messages.Chats;\nmessages.chatFull#e5d7d19c full_chat:ChatFull chats:Vector<Chat> users:Vector<User> = messages.ChatFull;\nmessages.affectedHistory#b45c69d1 pts:int pts_count:int offset:int = messages.AffectedHistory;\ninputMessagesFilterEmpty#57e2f66c = MessagesFilter;\ninputMessagesFilterPhotos#9609a51c = MessagesFilter;\ninputMessagesFilterVideo#9fc00e65 = MessagesFilter;\ninputMessagesFilterPhotoVideo#56e9f0e4 = MessagesFilter;\ninputMessagesFilterDocument#9eddf188 = MessagesFilter;\ninputMessagesFilterUrl#7ef0dd87 = MessagesFilter;\ninputMessagesFilterGif#ffc86587 = MessagesFilter;\ninputMessagesFilterVoice#50f5c392 = MessagesFilter;\ninputMessagesFilterMusic#3751b49e = MessagesFilter;\ninputMessagesFilterChatPhotos#3a20ecb8 = MessagesFilter;\ninputMessagesFilterPhoneCalls#80c99768 flags:# missed:flags.0?true = MessagesFilter;\ninputMessagesFilterRoundVoice#7a7c17a4 = MessagesFilter;\ninputMessagesFilterRoundVideo#b549da53 = MessagesFilter;\ninputMessagesFilterMyMentions#c1f8e69a = MessagesFilter;\ninputMessagesFilterGeo#e7026d0d = MessagesFilter;\ninputMessagesFilterContacts#e062db83 = MessagesFilter;\ninputMessagesFilterPinned#1bb00451 = MessagesFilter;\nupdateNewMessage#1f2b0afd message:Message pts:int pts_count:int = Update;\nupdateMessageID#4e90bfd6 id:int random_id:long = Update;\nupdateDeleteMessages#a20db0e5 messages:Vector<int> pts:int pts_count:int = Update;\nupdateUserTyping#2a17bf5c flags:# user_id:long top_msg_id:flags.0?int action:SendMessageAction = Update;\nupdateChatUserTyping#83487af0 chat_id:long from_id:Peer action:SendMessageAction = Update;\nupdateChatParticipants#7761198 participants:ChatParticipants = Update;\nupdateUserStatus#e5bdf8de user_id:long status:UserStatus = Update;\nupdateUserName#a7848924 user_id:long first_name:string last_name:string usernames:Vector<Username> = Update;\nupdateNewAuthorization#8951abef flags:# unconfirmed:flags.0?true hash:long date:flags.0?int device:flags.0?string location:flags.0?string = Update;\nupdateNewEncryptedMessage#12bcbd9a message:EncryptedMessage qts:int = Update;\nupdateEncryptedChatTyping#1710f156 chat_id:int = Update;\nupdateEncryption#b4a2e88d chat:EncryptedChat date:int = Update;\nupdateEncryptedMessagesRead#38fe25b7 chat_id:int max_date:int date:int = Update;\nupdateChatParticipantAdd#3dda5451 chat_id:long user_id:long inviter_id:long date:int version:int = Update;\nupdateChatParticipantDelete#e32f3d77 chat_id:long user_id:long version:int = Update;\nupdateDcOptions#8e5e9873 dc_options:Vector<DcOption> = Update;\nupdateNotifySettings#bec268ef peer:NotifyPeer notify_settings:PeerNotifySettings = Update;\nupdateServiceNotification#ebe46819 flags:# popup:flags.0?true invert_media:flags.2?true inbox_date:flags.1?int type:string message:string media:MessageMedia entities:Vector<MessageEntity> = Update;\nupdatePrivacy#ee3b272a key:PrivacyKey rules:Vector<PrivacyRule> = Update;\nupdateUserPhone#5492a13 user_id:long phone:string = Update;\nupdateReadHistoryInbox#9e84bc99 flags:# folder_id:flags.0?int peer:Peer top_msg_id:flags.1?int max_id:int still_unread_count:int pts:int pts_count:int = Update;\nupdateReadHistoryOutbox#2f2f21bf peer:Peer max_id:int pts:int pts_count:int = Update;\nupdateWebPage#7f891213 webpage:WebPage pts:int pts_count:int = Update;\nupdateReadMessagesContents#f8227181 flags:# messages:Vector<int> pts:int pts_count:int date:flags.0?int = Update;\nupdateChannelTooLong#108d941f flags:# channel_id:long pts:flags.0?int = Update;\nupdateChannel#635b4c09 channel_id:long = Update;\nupdateNewChannelMessage#62ba04d9 message:Message pts:int pts_count:int = Update;\nupdateReadChannelInbox#922e6e10 flags:# folder_id:flags.0?int channel_id:long max_id:int still_unread_count:int pts:int = Update;\nupdateDeleteChannelMessages#c32d5b12 channel_id:long messages:Vector<int> pts:int pts_count:int = Update;\nupdateChannelMessageViews#f226ac08 channel_id:long id:int views:int = Update;\nupdateChatParticipantAdmin#d7ca61a2 chat_id:long user_id:long is_admin:Bool version:int = Update;\nupdateNewStickerSet#688a30aa stickerset:messages.StickerSet = Update;\nupdateStickerSetsOrder#bb2d201 flags:# masks:flags.0?true emojis:flags.1?true order:Vector<long> = Update;\nupdateStickerSets#31c24808 flags:# masks:flags.0?true emojis:flags.1?true = Update;\nupdateSavedGifs#9375341e = Update;\nupdateBotInlineQuery#496f379c flags:# query_id:long user_id:long query:string geo:flags.0?GeoPoint peer_type:flags.1?InlineQueryPeerType offset:string = Update;\nupdateBotInlineSend#12f12a07 flags:# user_id:long query:string geo:flags.0?GeoPoint id:string msg_id:flags.1?InputBotInlineMessageID = Update;\nupdateEditChannelMessage#1b3f4df7 message:Message pts:int pts_count:int = Update;\nupdateBotCallbackQuery#b9cfc48d flags:# query_id:long user_id:long peer:Peer msg_id:int chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;\nupdateEditMessage#e40370a3 message:Message pts:int pts_count:int = Update;\nupdateInlineBotCallbackQuery#691e9052 flags:# query_id:long user_id:long msg_id:InputBotInlineMessageID chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;\nupdateReadChannelOutbox#b75f99a9 channel_id:long max_id:int = Update;\nupdateDraftMessage#edfc111e flags:# peer:Peer top_msg_id:flags.0?int saved_peer_id:flags.1?Peer draft:DraftMessage = Update;\nupdateReadFeaturedStickers#571d2742 = Update;\nupdateRecentStickers#9a422c20 = Update;\nupdateConfig#a229dd06 = Update;\nupdatePtsChanged#3354678f = Update;\nupdateChannelWebPage#2f2ba99f channel_id:long webpage:WebPage pts:int pts_count:int = Update;\nupdateDialogPinned#6e6fe51c flags:# pinned:flags.0?true folder_id:flags.1?int peer:DialogPeer = Update;\nupdatePinnedDialogs#fa0f3ca2 flags:# folder_id:flags.1?int order:flags.0?Vector<DialogPeer> = Update;\nupdateBotWebhookJSON#8317c0c3 data:DataJSON = Update;\nupdateBotWebhookJSONQuery#9b9240a6 query_id:long data:DataJSON timeout:int = Update;\nupdateBotShippingQuery#b5aefd7d query_id:long user_id:long payload:bytes shipping_address:PostAddress = Update;\nupdateBotPrecheckoutQuery#8caa9a96 flags:# query_id:long user_id:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string currency:string total_amount:long = Update;\nupdatePhoneCall#ab0f6b1e phone_call:PhoneCall = Update;\nupdateLangPackTooLong#46560264 lang_code:string = Update;\nupdateLangPack#56022f4d difference:LangPackDifference = Update;\nupdateFavedStickers#e511996d = Update;\nupdateChannelReadMessagesContents#25f324f7 flags:# channel_id:long top_msg_id:flags.0?int saved_peer_id:flags.1?Peer messages:Vector<int> = Update;\nupdateContactsReset#7084a7be = Update;\nupdateChannelAvailableMessages#b23fc698 channel_id:long available_min_id:int = Update;\nupdateDialogUnreadMark#b658f23e flags:# unread:flags.0?true peer:DialogPeer saved_peer_id:flags.1?Peer = Update;\nupdateMessagePoll#aca1657b flags:# poll_id:long poll:flags.0?Poll results:PollResults = Update;\nupdateChatDefaultBannedRights#54c01850 peer:Peer default_banned_rights:ChatBannedRights version:int = Update;\nupdateFolderPeers#19360dc0 folder_peers:Vector<FolderPeer> pts:int pts_count:int = Update;\nupdatePeerSettings#6a7e7366 peer:Peer settings:PeerSettings = Update;\nupdatePeerLocated#b4afcfb0 peers:Vector<PeerLocated> = Update;\nupdateNewScheduledMessage#39a51dfb message:Message = Update;\nupdateDeleteScheduledMessages#f2a71983 flags:# peer:Peer messages:Vector<int> sent_messages:flags.0?Vector<int> = Update;\nupdateTheme#8216fba3 theme:Theme = Update;\nupdateGeoLiveViewed#871fb939 peer:Peer msg_id:int = Update;\nupdateLoginToken#564fe691 = Update;\nupdateMessagePollVote#24f40e77 poll_id:long peer:Peer options:Vector<bytes> qts:int = Update;\nupdateDialogFilter#26ffde7d flags:# id:int filter:flags.0?DialogFilter = Update;\nupdateDialogFilterOrder#a5d72105 order:Vector<int> = Update;\nupdateDialogFilters#3504914f = Update;\nupdatePhoneCallSignalingData#2661bf09 phone_call_id:long data:bytes = Update;\nupdateChannelMessageForwards#d29a27f4 channel_id:long id:int forwards:int = Update;\nupdateReadChannelDiscussionInbox#d6b19546 flags:# channel_id:long top_msg_id:int read_max_id:int broadcast_id:flags.0?long broadcast_post:flags.0?int = Update;\nupdateReadChannelDiscussionOutbox#695c9e7c channel_id:long top_msg_id:int read_max_id:int = Update;\nupdatePeerBlocked#ebe07752 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true peer_id:Peer = Update;\nupdateChannelUserTyping#8c88c923 flags:# channel_id:long top_msg_id:flags.0?int from_id:Peer action:SendMessageAction = Update;\nupdatePinnedMessages#ed85eab5 flags:# pinned:flags.0?true peer:Peer messages:Vector<int> pts:int pts_count:int = Update;\nupdatePinnedChannelMessages#5bb98608 flags:# pinned:flags.0?true channel_id:long messages:Vector<int> pts:int pts_count:int = Update;\nupdateChat#f89a6a4e chat_id:long = Update;\nupdateGroupCallParticipants#f2ebdb4e call:InputGroupCall participants:Vector<GroupCallParticipant> version:int = Update;\nupdateGroupCall#9d2216e0 flags:# live_story:flags.2?true peer:flags.1?Peer call:GroupCall = Update;\nupdatePeerHistoryTTL#bb9bb9a5 flags:# peer:Peer ttl_period:flags.0?int = Update;\nupdateChatParticipant#d087663a flags:# chat_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChatParticipant new_participant:flags.1?ChatParticipant invite:flags.2?ExportedChatInvite qts:int = Update;\nupdateChannelParticipant#985d3abb flags:# via_chatlist:flags.3?true channel_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChannelParticipant new_participant:flags.1?ChannelParticipant invite:flags.2?ExportedChatInvite qts:int = Update;\nupdateBotStopped#c4870a49 user_id:long date:int stopped:Bool qts:int = Update;\nupdateGroupCallConnection#b783982 flags:# presentation:flags.0?true params:DataJSON = Update;\nupdateBotCommands#4d712f2e peer:Peer bot_id:long commands:Vector<BotCommand> = Update;\nupdatePendingJoinRequests#7063c3db peer:Peer requests_pending:int recent_requesters:Vector<long> = Update;\nupdateBotChatInviteRequester#11dfa986 peer:Peer date:int user_id:long about:string invite:ExportedChatInvite qts:int = Update;\nupdateMessageReactions#1e297bfa flags:# peer:Peer msg_id:int top_msg_id:flags.0?int saved_peer_id:flags.1?Peer reactions:MessageReactions = Update;\nupdateAttachMenuBots#17b7a20b = Update;\nupdateWebViewResultSent#1592b79d query_id:long = Update;\nupdateBotMenuButton#14b85813 bot_id:long button:BotMenuButton = Update;\nupdateSavedRingtones#74d8be99 = Update;\nupdateTranscribedAudio#84cd5a flags:# pending:flags.0?true peer:Peer msg_id:int transcription_id:long text:string = Update;\nupdateReadFeaturedEmojiStickers#fb4c496c = Update;\nupdateUserEmojiStatus#28373599 user_id:long emoji_status:EmojiStatus = Update;\nupdateRecentEmojiStatuses#30f443db = Update;\nupdateRecentReactions#6f7863f4 = Update;\nupdateMoveStickerSetToTop#86fccf85 flags:# masks:flags.0?true emojis:flags.1?true stickerset:long = Update;\nupdateMessageExtendedMedia#d5a41724 peer:Peer msg_id:int extended_media:Vector<MessageExtendedMedia> = Update;\nupdateUser#20529438 user_id:long = Update;\nupdateAutoSaveSettings#ec05b097 = Update;\nupdateStory#75b3b798 peer:Peer story:StoryItem = Update;\nupdateReadStories#f74e932b peer:Peer max_id:int = Update;\nupdateStoryID#1bf335b9 id:int random_id:long = Update;\nupdateStoriesStealthMode#2c084dc1 stealth_mode:StoriesStealthMode = Update;\nupdateSentStoryReaction#7d627683 peer:Peer story_id:int reaction:Reaction = Update;\nupdateBotChatBoost#904dd49c peer:Peer boost:Boost qts:int = Update;\nupdateChannelViewForumAsMessages#7b68920 channel_id:long enabled:Bool = Update;\nupdatePeerWallpaper#ae3f101d flags:# wallpaper_overridden:flags.1?true peer:Peer wallpaper:flags.0?WallPaper = Update;\nupdateBotMessageReaction#ac21d3ce peer:Peer msg_id:int date:int actor:Peer old_reactions:Vector<Reaction> new_reactions:Vector<Reaction> qts:int = Update;\nupdateBotMessageReactions#9cb7759 peer:Peer msg_id:int date:int reactions:Vector<ReactionCount> qts:int = Update;\nupdateSavedDialogPinned#aeaf9e74 flags:# pinned:flags.0?true peer:DialogPeer = Update;\nupdatePinnedSavedDialogs#686c85a6 flags:# order:flags.0?Vector<DialogPeer> = Update;\nupdateSavedReactionTags#39c67432 = Update;\nupdateSmsJob#f16269d4 job_id:string = Update;\nupdateQuickReplies#f9470ab2 quick_replies:Vector<QuickReply> = Update;\nupdateNewQuickReply#f53da717 quick_reply:QuickReply = Update;\nupdateDeleteQuickReply#53e6f1ec shortcut_id:int = Update;\nupdateQuickReplyMessage#3e050d0f message:Message = Update;\nupdateDeleteQuickReplyMessages#566fe7cd shortcut_id:int messages:Vector<int> = Update;\nupdateBotBusinessConnect#8ae5c97a connection:BotBusinessConnection qts:int = Update;\nupdateBotNewBusinessMessage#9ddb347c flags:# connection_id:string message:Message reply_to_message:flags.0?Message qts:int = Update;\nupdateBotEditBusinessMessage#7df587c flags:# connection_id:string message:Message reply_to_message:flags.0?Message qts:int = Update;\nupdateBotDeleteBusinessMessage#a02a982e connection_id:string peer:Peer messages:Vector<int> qts:int = Update;\nupdateNewStoryReaction#1824e40b story_id:int peer:Peer reaction:Reaction = Update;\nupdateStarsBalance#4e80a379 balance:StarsAmount = Update;\nupdateBusinessBotCallbackQuery#1ea2fda7 flags:# query_id:long user_id:long connection_id:string message:Message reply_to_message:flags.2?Message chat_instance:long data:flags.0?bytes = Update;\nupdateStarsRevenueStatus#a584b019 peer:Peer status:StarsRevenueStatus = Update;\nupdateBotPurchasedPaidMedia#283bd312 user_id:long payload:string qts:int = Update;\nupdatePaidReactionPrivacy#8b725fce private:PaidReactionPrivacy = Update;\nupdateSentPhoneCode#504aa18f sent_code:auth.SentCode = Update;\nupdateGroupCallChainBlocks#a477288f call:InputGroupCall sub_chain_id:int blocks:Vector<bytes> next_offset:int = Update;\nupdateReadMonoForumInbox#77b0e372 channel_id:long saved_peer_id:Peer read_max_id:int = Update;\nupdateReadMonoForumOutbox#a4a79376 channel_id:long saved_peer_id:Peer read_max_id:int = Update;\nupdateMonoForumNoPaidException#9f812b08 flags:# exception:flags.0?true channel_id:long saved_peer_id:Peer = Update;\nupdateGroupCallMessage#d8326f0d call:InputGroupCall message:GroupCallMessage = Update;\nupdateGroupCallEncryptedMessage#c957a766 call:InputGroupCall from_id:Peer encrypted_message:bytes = Update;\nupdatePinnedForumTopic#683b2c52 flags:# pinned:flags.0?true peer:Peer topic_id:int = Update;\nupdatePinnedForumTopics#def143d0 flags:# peer:Peer order:flags.0?Vector<int> = Update;\nupdateDeleteGroupCallMessages#3e85e92c call:InputGroupCall messages:Vector<int> = Update;\nupdateStarGiftAuctionState#48e246c2 gift_id:long state:StarGiftAuctionState = Update;\nupdateStarGiftAuctionUserState#dc58f31e gift_id:long user_state:StarGiftAuctionUserState = Update;\nupdates.state#a56c2a3e pts:int qts:int date:int seq:int unread_count:int = updates.State;\nupdates.differenceEmpty#5d75a138 date:int seq:int = updates.Difference;\nupdates.difference#f49ca0 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> state:updates.State = updates.Difference;\nupdates.differenceSlice#a8fb1981 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> intermediate_state:updates.State = updates.Difference;\nupdates.differenceTooLong#4afe8f6d pts:int = updates.Difference;\nupdatesTooLong#e317af7e = Updates;\nupdateShortMessage#313bc7f8 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int user_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nupdateShortChatMessage#4d6deea5 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int from_id:long chat_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nupdateShort#78d4dec1 update:Update date:int = Updates;\nupdatesCombined#725b04c3 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq_start:int seq:int = Updates;\nupdates#74ae4240 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq:int = Updates;\nupdateShortSentMessage#9015e101 flags:# out:flags.1?true id:int pts:int pts_count:int date:int media:flags.9?MessageMedia entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nphotos.photos#8dca6aa5 photos:Vector<Photo> users:Vector<User> = photos.Photos;\nphotos.photosSlice#15051f54 count:int photos:Vector<Photo> users:Vector<User> = photos.Photos;\nphotos.photo#20212ca8 photo:Photo users:Vector<User> = photos.Photo;\nupload.file#96a18d5 type:storage.FileType mtime:int bytes:bytes = upload.File;\nupload.fileCdnRedirect#f18cda44 dc_id:int file_token:bytes encryption_key:bytes encryption_iv:bytes file_hashes:Vector<FileHash> = upload.File;\ndcOption#18b7a10d flags:# ipv6:flags.0?true media_only:flags.1?true tcpo_only:flags.2?true cdn:flags.3?true static:flags.4?true this_port_only:flags.5?true id:int ip_address:string port:int secret:flags.10?bytes = DcOption;\nconfig#cc1a241e flags:# default_p2p_contacts:flags.3?true preload_featured_stickers:flags.4?true revoke_pm_inbox:flags.6?true blocked_mode:flags.8?true force_try_ipv6:flags.14?true date:int expires:int test_mode:Bool this_dc:int dc_options:Vector<DcOption> dc_txt_domain_name:string chat_size_max:int megagroup_size_max:int forwarded_count_max:int online_update_period_ms:int offline_blur_timeout_ms:int offline_idle_timeout_ms:int online_cloud_timeout_ms:int notify_cloud_delay_ms:int notify_default_delay_ms:int push_chat_period_ms:int push_chat_limit:int edit_time_limit:int revoke_time_limit:int revoke_pm_time_limit:int rating_e_decay:int stickers_recent_limit:int channels_read_media_period:int tmp_sessions:flags.0?int call_receive_timeout_ms:int call_ring_timeout_ms:int call_connect_timeout_ms:int call_packet_timeout_ms:int me_url_prefix:string autoupdate_url_prefix:flags.7?string gif_search_username:flags.9?string venue_search_username:flags.10?string img_search_username:flags.11?string static_maps_provider:flags.12?string caption_length_max:int message_length_max:int webfile_dc_id:int suggested_lang_code:flags.2?string lang_pack_version:flags.2?int base_lang_pack_version:flags.2?int reactions_default:flags.15?Reaction autologin_token:flags.16?string = Config;\nnearestDc#8e1a1775 country:string this_dc:int nearest_dc:int = NearestDc;\nhelp.appUpdate#ccbbce30 flags:# can_not_skip:flags.0?true id:int version:string text:string entities:Vector<MessageEntity> document:flags.1?Document url:flags.2?string sticker:flags.3?Document = help.AppUpdate;\nhelp.noAppUpdate#c45a6536 = help.AppUpdate;\nhelp.inviteText#18cb9f78 message:string = help.InviteText;\nencryptedChatEmpty#ab7ec0a0 id:int = EncryptedChat;\nencryptedChatWaiting#66b25953 id:int access_hash:long date:int admin_id:long participant_id:long = EncryptedChat;\nencryptedChatRequested#48f1d94c flags:# folder_id:flags.0?int id:int access_hash:long date:int admin_id:long participant_id:long g_a:bytes = EncryptedChat;\nencryptedChat#61f0d4c7 id:int access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long = EncryptedChat;\nencryptedChatDiscarded#1e1c7c45 flags:# history_deleted:flags.0?true id:int = EncryptedChat;\ninputEncryptedChat#f141b5e1 chat_id:int access_hash:long = InputEncryptedChat;\nencryptedFileEmpty#c21f497e = EncryptedFile;\nencryptedFile#a8008cd8 id:long access_hash:long size:long dc_id:int key_fingerprint:int = EncryptedFile;\ninputEncryptedFileEmpty#1837c364 = InputEncryptedFile;\ninputEncryptedFileUploaded#64bd0306 id:long parts:int md5_checksum:string key_fingerprint:int = InputEncryptedFile;\ninputEncryptedFile#5a17b5e5 id:long access_hash:long = InputEncryptedFile;\ninputEncryptedFileBigUploaded#2dc173c8 id:long parts:int key_fingerprint:int = InputEncryptedFile;\nencryptedMessage#ed18c118 random_id:long chat_id:int date:int bytes:bytes file:EncryptedFile = EncryptedMessage;\nencryptedMessageService#23734b06 random_id:long chat_id:int date:int bytes:bytes = EncryptedMessage;\nmessages.dhConfigNotModified#c0e24635 random:bytes = messages.DhConfig;\nmessages.dhConfig#2c221edd g:int p:bytes version:int random:bytes = messages.DhConfig;\nmessages.sentEncryptedMessage#560f8935 date:int = messages.SentEncryptedMessage;\nmessages.sentEncryptedFile#9493ff32 date:int file:EncryptedFile = messages.SentEncryptedMessage;\ninputDocumentEmpty#72f0eaae = InputDocument;\ninputDocument#1abfb575 id:long access_hash:long file_reference:bytes = InputDocument;\ndocumentEmpty#36f8c871 id:long = Document;\ndocument#8fd4c4d8 flags:# id:long access_hash:long file_reference:bytes date:int mime_type:string size:long thumbs:flags.0?Vector<PhotoSize> video_thumbs:flags.1?Vector<VideoSize> dc_id:int attributes:Vector<DocumentAttribute> = Document;\nhelp.support#17c6b5f6 phone_number:string user:User = help.Support;\nnotifyPeer#9fd40bd8 peer:Peer = NotifyPeer;\nnotifyUsers#b4c83b4c = NotifyPeer;\nnotifyChats#c007cec3 = NotifyPeer;\nnotifyBroadcasts#d612e8ef = NotifyPeer;\nnotifyForumTopic#226e6308 peer:Peer top_msg_id:int = NotifyPeer;\nsendMessageTypingAction#16bf744e = SendMessageAction;\nsendMessageCancelAction#fd5ec8f5 = SendMessageAction;\nsendMessageRecordVideoAction#a187d66f = SendMessageAction;\nsendMessageUploadVideoAction#e9763aec progress:int = SendMessageAction;\nsendMessageRecordAudioAction#d52f73f7 = SendMessageAction;\nsendMessageUploadAudioAction#f351d7ab progress:int = SendMessageAction;\nsendMessageUploadPhotoAction#d1d34a26 progress:int = SendMessageAction;\nsendMessageUploadDocumentAction#aa0cd9e4 progress:int = SendMessageAction;\nsendMessageGeoLocationAction#176f8ba1 = SendMessageAction;\nsendMessageChooseContactAction#628cbc6f = SendMessageAction;\nsendMessageGamePlayAction#dd6a8f48 = SendMessageAction;\nsendMessageRecordRoundAction#88f27fbc = SendMessageAction;\nsendMessageUploadRoundAction#243e1c66 progress:int = SendMessageAction;\nspeakingInGroupCallAction#d92c2285 = SendMessageAction;\nsendMessageHistoryImportAction#dbda9246 progress:int = SendMessageAction;\nsendMessageChooseStickerAction#b05ac6b1 = SendMessageAction;\nsendMessageEmojiInteraction#25972bcb emoticon:string msg_id:int interaction:DataJSON = SendMessageAction;\nsendMessageEmojiInteractionSeen#b665902e emoticon:string = SendMessageAction;\nsendMessageTextDraftAction#376d975c random_id:long text:TextWithEntities = SendMessageAction;\ncontacts.found#b3134d9d my_results:Vector<Peer> results:Vector<Peer> chats:Vector<Chat> users:Vector<User> = contacts.Found;\ninputPrivacyKeyStatusTimestamp#4f96cb18 = InputPrivacyKey;\ninputPrivacyKeyChatInvite#bdfb0426 = InputPrivacyKey;\ninputPrivacyKeyPhoneCall#fabadc5f = InputPrivacyKey;\ninputPrivacyKeyPhoneP2P#db9e70d2 = InputPrivacyKey;\ninputPrivacyKeyForwards#a4dd4c08 = InputPrivacyKey;\ninputPrivacyKeyProfilePhoto#5719bacc = InputPrivacyKey;\ninputPrivacyKeyPhoneNumber#352dafa = InputPrivacyKey;\ninputPrivacyKeyAddedByPhone#d1219bdd = InputPrivacyKey;\ninputPrivacyKeyVoiceMessages#aee69d68 = InputPrivacyKey;\ninputPrivacyKeyAbout#3823cc40 = InputPrivacyKey;\ninputPrivacyKeyBirthday#d65a11cc = InputPrivacyKey;\ninputPrivacyKeyStarGiftsAutoSave#e1732341 = InputPrivacyKey;\ninputPrivacyKeyNoPaidMessages#bdc597b4 = InputPrivacyKey;\ninputPrivacyKeySavedMusic#4dbe9226 = InputPrivacyKey;\nprivacyKeyStatusTimestamp#bc2eab30 = PrivacyKey;\nprivacyKeyChatInvite#500e6dfa = PrivacyKey;\nprivacyKeyPhoneCall#3d662b7b = PrivacyKey;\nprivacyKeyPhoneP2P#39491cc8 = PrivacyKey;\nprivacyKeyForwards#69ec56a3 = PrivacyKey;\nprivacyKeyProfilePhoto#96151fed = PrivacyKey;\nprivacyKeyPhoneNumber#d19ae46d = PrivacyKey;\nprivacyKeyAddedByPhone#42ffd42b = PrivacyKey;\nprivacyKeyVoiceMessages#697f414 = PrivacyKey;\nprivacyKeyAbout#a486b761 = PrivacyKey;\nprivacyKeyBirthday#2000a518 = PrivacyKey;\nprivacyKeyStarGiftsAutoSave#2ca4fdf8 = PrivacyKey;\nprivacyKeyNoPaidMessages#17d348d2 = PrivacyKey;\nprivacyKeySavedMusic#ff7a571b = PrivacyKey;\ninputPrivacyValueAllowContacts#d09e07b = InputPrivacyRule;\ninputPrivacyValueAllowAll#184b35ce = InputPrivacyRule;\ninputPrivacyValueAllowUsers#131cc67f users:Vector<InputUser> = InputPrivacyRule;\ninputPrivacyValueDisallowContacts#ba52007 = InputPrivacyRule;\ninputPrivacyValueDisallowAll#d66b66c9 = InputPrivacyRule;\ninputPrivacyValueDisallowUsers#90110467 users:Vector<InputUser> = InputPrivacyRule;\ninputPrivacyValueAllowChatParticipants#840649cf chats:Vector<long> = InputPrivacyRule;\ninputPrivacyValueDisallowChatParticipants#e94f0f86 chats:Vector<long> = InputPrivacyRule;\ninputPrivacyValueAllowCloseFriends#2f453e49 = InputPrivacyRule;\ninputPrivacyValueAllowPremium#77cdc9f1 = InputPrivacyRule;\ninputPrivacyValueAllowBots#5a4fcce5 = InputPrivacyRule;\ninputPrivacyValueDisallowBots#c4e57915 = InputPrivacyRule;\nprivacyValueAllowContacts#fffe1bac = PrivacyRule;\nprivacyValueAllowAll#65427b82 = PrivacyRule;\nprivacyValueAllowUsers#b8905fb2 users:Vector<long> = PrivacyRule;\nprivacyValueDisallowContacts#f888fa1a = PrivacyRule;\nprivacyValueDisallowAll#8b73e763 = PrivacyRule;\nprivacyValueDisallowUsers#e4621141 users:Vector<long> = PrivacyRule;\nprivacyValueAllowChatParticipants#6b134e8e chats:Vector<long> = PrivacyRule;\nprivacyValueDisallowChatParticipants#41c87565 chats:Vector<long> = PrivacyRule;\nprivacyValueAllowCloseFriends#f7e8d89b = PrivacyRule;\nprivacyValueAllowPremium#ece9814b = PrivacyRule;\nprivacyValueAllowBots#21461b5d = PrivacyRule;\nprivacyValueDisallowBots#f6a5f82f = PrivacyRule;\naccount.privacyRules#50a04e45 rules:Vector<PrivacyRule> chats:Vector<Chat> users:Vector<User> = account.PrivacyRules;\naccountDaysTTL#b8d0afdf days:int = AccountDaysTTL;\ndocumentAttributeImageSize#6c37c15c w:int h:int = DocumentAttribute;\ndocumentAttributeAnimated#11b58939 = DocumentAttribute;\ndocumentAttributeSticker#6319d612 flags:# mask:flags.1?true alt:string stickerset:InputStickerSet mask_coords:flags.0?MaskCoords = DocumentAttribute;\ndocumentAttributeVideo#43c57c48 flags:# round_message:flags.0?true supports_streaming:flags.1?true nosound:flags.3?true duration:double w:int h:int preload_prefix_size:flags.2?int video_start_ts:flags.4?double video_codec:flags.5?string = DocumentAttribute;\ndocumentAttributeAudio#9852f9c6 flags:# voice:flags.10?true duration:int title:flags.0?string performer:flags.1?string waveform:flags.2?bytes = DocumentAttribute;\ndocumentAttributeFilename#15590068 file_name:string = DocumentAttribute;\ndocumentAttributeHasStickers#9801d2f7 = DocumentAttribute;\ndocumentAttributeCustomEmoji#fd149899 flags:# free:flags.0?true text_color:flags.1?true alt:string stickerset:InputStickerSet = DocumentAttribute;\nmessages.stickersNotModified#f1749a22 = messages.Stickers;\nmessages.stickers#30a6ec7e hash:long stickers:Vector<Document> = messages.Stickers;\nstickerPack#12b299d4 emoticon:string documents:Vector<long> = StickerPack;\nmessages.allStickersNotModified#e86602c3 = messages.AllStickers;\nmessages.allStickers#cdbbcebb hash:long sets:Vector<StickerSet> = messages.AllStickers;\nmessages.affectedMessages#84d19185 pts:int pts_count:int = messages.AffectedMessages;\nwebPageEmpty#211a1788 flags:# id:long url:flags.0?string = WebPage;\nwebPagePending#b0d13e47 flags:# id:long url:flags.0?string date:int = WebPage;\nwebPage#e89c45b2 flags:# has_large_media:flags.13?true video_cover_photo:flags.14?true id:long url:string display_url:string hash:int type:flags.0?string site_name:flags.1?string title:flags.2?string description:flags.3?string photo:flags.4?Photo embed_url:flags.5?string embed_type:flags.5?string embed_width:flags.6?int embed_height:flags.6?int duration:flags.7?int author:flags.8?string document:flags.9?Document cached_page:flags.10?Page attributes:flags.12?Vector<WebPageAttribute> = WebPage;\nwebPageNotModified#7311ca11 flags:# cached_page_views:flags.0?int = WebPage;\nauthorization#ad01d61d flags:# current:flags.0?true official_app:flags.1?true password_pending:flags.2?true encrypted_requests_disabled:flags.3?true call_requests_disabled:flags.4?true unconfirmed:flags.5?true hash:long device_model:string platform:string system_version:string api_id:int app_name:string app_version:string date_created:int date_active:int ip:string country:string region:string = Authorization;\naccount.authorizations#4bff8ea0 authorization_ttl_days:int authorizations:Vector<Authorization> = account.Authorizations;\naccount.password#957b50fb flags:# has_recovery:flags.0?true has_secure_values:flags.1?true has_password:flags.2?true current_algo:flags.2?PasswordKdfAlgo srp_B:flags.2?bytes srp_id:flags.2?long hint:flags.3?string email_unconfirmed_pattern:flags.4?string new_algo:PasswordKdfAlgo new_secure_algo:SecurePasswordKdfAlgo secure_random:bytes pending_reset_date:flags.5?int login_email_pattern:flags.6?string = account.Password;\naccount.passwordSettings#9a5c33e5 flags:# email:flags.0?string secure_settings:flags.1?SecureSecretSettings = account.PasswordSettings;\naccount.passwordInputSettings#c23727c9 flags:# new_algo:flags.0?PasswordKdfAlgo new_password_hash:flags.0?bytes hint:flags.0?string email:flags.1?string new_secure_settings:flags.2?SecureSecretSettings = account.PasswordInputSettings;\nauth.passwordRecovery#137948a5 email_pattern:string = auth.PasswordRecovery;\nreceivedNotifyMessage#a384b779 id:int flags:int = ReceivedNotifyMessage;\nchatInviteExported#a22cbd96 flags:# revoked:flags.0?true permanent:flags.5?true request_needed:flags.6?true link:string admin_id:long date:int start_date:flags.4?int expire_date:flags.1?int usage_limit:flags.2?int usage:flags.3?int requested:flags.7?int subscription_expired:flags.10?int title:flags.8?string subscription_pricing:flags.9?StarsSubscriptionPricing = ExportedChatInvite;\nchatInvitePublicJoinRequests#ed107ab7 = ExportedChatInvite;\nchatInviteAlready#5a686d7c chat:Chat = ChatInvite;\nchatInvite#5c9d3702 flags:# channel:flags.0?true broadcast:flags.1?true public:flags.2?true megagroup:flags.3?true request_needed:flags.6?true verified:flags.7?true scam:flags.8?true fake:flags.9?true can_refulfill_subscription:flags.11?true title:string about:flags.5?string photo:Photo participants_count:int participants:flags.4?Vector<User> color:int subscription_pricing:flags.10?StarsSubscriptionPricing subscription_form_id:flags.12?long bot_verification:flags.13?BotVerification = ChatInvite;\nchatInvitePeek#61695cb0 chat:Chat expires:int = ChatInvite;\ninputStickerSetEmpty#ffb62b95 = InputStickerSet;\ninputStickerSetID#9de7a269 id:long access_hash:long = InputStickerSet;\ninputStickerSetShortName#861cc8a0 short_name:string = InputStickerSet;\ninputStickerSetAnimatedEmoji#28703c8 = InputStickerSet;\ninputStickerSetDice#e67f520e emoticon:string = InputStickerSet;\ninputStickerSetAnimatedEmojiAnimations#cde3739 = InputStickerSet;\ninputStickerSetPremiumGifts#c88b3b02 = InputStickerSet;\ninputStickerSetEmojiGenericAnimations#4c4d4ce = InputStickerSet;\ninputStickerSetEmojiDefaultStatuses#29d0f5ee = InputStickerSet;\ninputStickerSetEmojiDefaultTopicIcons#44c1f8e9 = InputStickerSet;\ninputStickerSetEmojiChannelDefaultStatuses#49748553 = InputStickerSet;\ninputStickerSetTonGifts#1cf671a0 = InputStickerSet;\nstickerSet#2dd14edc flags:# archived:flags.1?true official:flags.2?true masks:flags.3?true emojis:flags.7?true text_color:flags.9?true channel_emoji_status:flags.10?true creator:flags.11?true installed_date:flags.0?int id:long access_hash:long title:string short_name:string thumbs:flags.4?Vector<PhotoSize> thumb_dc_id:flags.4?int thumb_version:flags.4?int thumb_document_id:flags.8?long count:int hash:int = StickerSet;\nmessages.stickerSet#6e153f16 set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = messages.StickerSet;\nmessages.stickerSetNotModified#d3f924eb = messages.StickerSet;\nbotCommand#c27ac8c7 command:string description:string = BotCommand;\nbotInfo#4d8a0299 flags:# has_preview_medias:flags.6?true user_id:flags.0?long description:flags.1?string description_photo:flags.4?Photo description_document:flags.5?Document commands:flags.2?Vector<BotCommand> menu_button:flags.3?BotMenuButton privacy_policy_url:flags.7?string app_settings:flags.8?BotAppSettings verifier_settings:flags.9?BotVerifierSettings = BotInfo;\nkeyboardButton#a2fa4880 text:string = KeyboardButton;\nkeyboardButtonUrl#258aff05 text:string url:string = KeyboardButton;\nkeyboardButtonCallback#35bbdb6b flags:# requires_password:flags.0?true text:string data:bytes = KeyboardButton;\nkeyboardButtonRequestPhone#b16a6c29 text:string = KeyboardButton;\nkeyboardButtonRequestGeoLocation#fc796b3f text:string = KeyboardButton;\nkeyboardButtonSwitchInline#93b9fbb5 flags:# same_peer:flags.0?true text:string query:string peer_types:flags.1?Vector<InlineQueryPeerType> = KeyboardButton;\nkeyboardButtonGame#50f41ccf text:string = KeyboardButton;\nkeyboardButtonBuy#afd93fbb text:string = KeyboardButton;\nkeyboardButtonUrlAuth#10b78d29 flags:# text:string fwd_text:flags.0?string url:string button_id:int = KeyboardButton;\ninputKeyboardButtonUrlAuth#d02e7fd4 flags:# request_write_access:flags.0?true text:string fwd_text:flags.1?string url:string bot:InputUser = KeyboardButton;\nkeyboardButtonRequestPoll#bbc7515d flags:# quiz:flags.0?Bool text:string = KeyboardButton;\ninputKeyboardButtonUserProfile#e988037b text:string user_id:InputUser = KeyboardButton;\nkeyboardButtonUserProfile#308660c1 text:string user_id:long = KeyboardButton;\nkeyboardButtonWebView#13767230 text:string url:string = KeyboardButton;\nkeyboardButtonSimpleWebView#a0c0505c text:string url:string = KeyboardButton;\nkeyboardButtonRequestPeer#53d7bfd8 text:string button_id:int peer_type:RequestPeerType max_quantity:int = KeyboardButton;\ninputKeyboardButtonRequestPeer#c9662d05 flags:# name_requested:flags.0?true username_requested:flags.1?true photo_requested:flags.2?true text:string button_id:int peer_type:RequestPeerType max_quantity:int = KeyboardButton;\nkeyboardButtonCopy#75d2698e text:string copy_text:string = KeyboardButton;\nkeyboardButtonRow#77608b83 buttons:Vector<KeyboardButton> = KeyboardButtonRow;\nreplyKeyboardHide#a03e5b85 flags:# selective:flags.2?true = ReplyMarkup;\nreplyKeyboardForceReply#86b40b08 flags:# single_use:flags.1?true selective:flags.2?true placeholder:flags.3?string = ReplyMarkup;\nreplyKeyboardMarkup#85dd99d1 flags:# resize:flags.0?true single_use:flags.1?true selective:flags.2?true persistent:flags.4?true rows:Vector<KeyboardButtonRow> placeholder:flags.3?string = ReplyMarkup;\nreplyInlineMarkup#48a30254 rows:Vector<KeyboardButtonRow> = ReplyMarkup;\nmessageEntityUnknown#bb92ba95 offset:int length:int = MessageEntity;\nmessageEntityMention#fa04579d offset:int length:int = MessageEntity;\nmessageEntityHashtag#6f635b0d offset:int length:int = MessageEntity;\nmessageEntityBotCommand#6cef8ac7 offset:int length:int = MessageEntity;\nmessageEntityUrl#6ed02538 offset:int length:int = MessageEntity;\nmessageEntityEmail#64e475c2 offset:int length:int = MessageEntity;\nmessageEntityBold#bd610bc9 offset:int length:int = MessageEntity;\nmessageEntityItalic#826f8b60 offset:int length:int = MessageEntity;\nmessageEntityCode#28a20571 offset:int length:int = MessageEntity;\nmessageEntityPre#73924be0 offset:int length:int language:string = MessageEntity;\nmessageEntityTextUrl#76a6d327 offset:int length:int url:string = MessageEntity;\nmessageEntityMentionName#dc7b1140 offset:int length:int user_id:long = MessageEntity;\ninputMessageEntityMentionName#208e68c9 offset:int length:int user_id:InputUser = MessageEntity;\nmessageEntityPhone#9b69e34b offset:int length:int = MessageEntity;\nmessageEntityCashtag#4c4e743f offset:int length:int = MessageEntity;\nmessageEntityUnderline#9c4e7e8b offset:int length:int = MessageEntity;\nmessageEntityStrike#bf0693d4 offset:int length:int = MessageEntity;\nmessageEntityBankCard#761e6af4 offset:int length:int = MessageEntity;\nmessageEntitySpoiler#32ca960f offset:int length:int = MessageEntity;\nmessageEntityCustomEmoji#c8cf05f8 offset:int length:int document_id:long = MessageEntity;\nmessageEntityBlockquote#f1ccaaac flags:# collapsed:flags.0?true offset:int length:int = MessageEntity;\ninputChannelEmpty#ee8c1e86 = InputChannel;\ninputChannel#f35aec28 channel_id:long access_hash:long = InputChannel;\ninputChannelFromMessage#5b934f9d peer:InputPeer msg_id:int channel_id:long = InputChannel;\ncontacts.resolvedPeer#7f077ad9 peer:Peer chats:Vector<Chat> users:Vector<User> = contacts.ResolvedPeer;\nmessageRange#ae30253 min_id:int max_id:int = MessageRange;\nupdates.channelDifferenceEmpty#3e11affb flags:# final:flags.0?true pts:int timeout:flags.1?int = updates.ChannelDifference;\nupdates.channelDifferenceTooLong#a4bcc6fe flags:# final:flags.0?true timeout:flags.1?int dialog:Dialog messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;\nupdates.channelDifference#2064674e flags:# final:flags.0?true pts:int timeout:flags.1?int new_messages:Vector<Message> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;\nchannelMessagesFilterEmpty#94d42ee7 = ChannelMessagesFilter;\nchannelMessagesFilter#cd77d957 flags:# exclude_new_messages:flags.1?true ranges:Vector<MessageRange> = ChannelMessagesFilter;\nchannelParticipant#cb397619 flags:# user_id:long date:int subscription_until_date:flags.0?int = ChannelParticipant;\nchannelParticipantSelf#4f607bef flags:# via_request:flags.0?true user_id:long inviter_id:long date:int subscription_until_date:flags.1?int = ChannelParticipant;\nchannelParticipantCreator#2fe601d3 flags:# user_id:long admin_rights:ChatAdminRights rank:flags.0?string = ChannelParticipant;\nchannelParticipantAdmin#34c3bb53 flags:# can_edit:flags.0?true self:flags.1?true user_id:long inviter_id:flags.1?long promoted_by:long date:int admin_rights:ChatAdminRights rank:flags.2?string = ChannelParticipant;\nchannelParticipantBanned#6df8014e flags:# left:flags.0?true peer:Peer kicked_by:long date:int banned_rights:ChatBannedRights = ChannelParticipant;\nchannelParticipantLeft#1b03f006 peer:Peer = ChannelParticipant;\nchannelParticipantsRecent#de3f3c79 = ChannelParticipantsFilter;\nchannelParticipantsAdmins#b4608969 = ChannelParticipantsFilter;\nchannelParticipantsKicked#a3b54985 q:string = ChannelParticipantsFilter;\nchannelParticipantsBots#b0d1865b = ChannelParticipantsFilter;\nchannelParticipantsBanned#1427a5e1 q:string = ChannelParticipantsFilter;\nchannelParticipantsSearch#656ac4b q:string = ChannelParticipantsFilter;\nchannelParticipantsContacts#bb6ae88d q:string = ChannelParticipantsFilter;\nchannelParticipantsMentions#e04b5ceb flags:# q:flags.0?string top_msg_id:flags.1?int = ChannelParticipantsFilter;\nchannels.channelParticipants#9ab0feaf count:int participants:Vector<ChannelParticipant> chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipants;\nchannels.channelParticipantsNotModified#f0173fe9 = channels.ChannelParticipants;\nchannels.channelParticipant#dfb80317 participant:ChannelParticipant chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipant;\nhelp.termsOfService#780a0310 flags:# popup:flags.0?true id:DataJSON text:string entities:Vector<MessageEntity> min_age_confirm:flags.1?int = help.TermsOfService;\nmessages.savedGifsNotModified#e8025ca2 = messages.SavedGifs;\nmessages.savedGifs#84a02a0d hash:long gifs:Vector<Document> = messages.SavedGifs;\ninputBotInlineMessageMediaAuto#3380c786 flags:# invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageText#3dcd7a87 flags:# no_webpage:flags.0?true invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaGeo#96929a85 flags:# geo_point:InputGeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaVenue#417bbf11 flags:# geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaContact#a6edbffd flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageGame#4b425864 flags:# reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaInvoice#d7e78225 flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:string provider_data:DataJSON reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaWebPage#bddcc510 flags:# invert_media:flags.3?true force_large_media:flags.4?true force_small_media:flags.5?true optional:flags.6?true message:string entities:flags.1?Vector<MessageEntity> url:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineResult#88bf9319 flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?InputWebDocument content:flags.5?InputWebDocument send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultPhoto#a8d864a7 id:string type:string photo:InputPhoto send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultDocument#fff8fdc4 flags:# id:string type:string title:flags.1?string description:flags.2?string document:InputDocument send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultGame#4fa417f2 id:string short_name:string send_message:InputBotInlineMessage = InputBotInlineResult;\nbotInlineMessageMediaAuto#764cf810 flags:# invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageText#8c7f65e2 flags:# no_webpage:flags.0?true invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaGeo#51846fd flags:# geo:GeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaVenue#8a86659c flags:# geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaContact#18d1cdc2 flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaInvoice#354a9b09 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument currency:string total_amount:long reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaWebPage#809ad9a6 flags:# invert_media:flags.3?true force_large_media:flags.4?true force_small_media:flags.5?true manual:flags.7?true safe:flags.8?true message:string entities:flags.1?Vector<MessageEntity> url:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineResult#11965f3a flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?WebDocument content:flags.5?WebDocument send_message:BotInlineMessage = BotInlineResult;\nbotInlineMediaResult#17db940b flags:# id:string type:string photo:flags.0?Photo document:flags.1?Document title:flags.2?string description:flags.3?string send_message:BotInlineMessage = BotInlineResult;\nmessages.botResults#e021f2f6 flags:# gallery:flags.0?true query_id:long next_offset:flags.1?string switch_pm:flags.2?InlineBotSwitchPM switch_webview:flags.3?InlineBotWebView results:Vector<BotInlineResult> cache_time:int users:Vector<User> = messages.BotResults;\nexportedMessageLink#5dab1af4 link:string html:string = ExportedMessageLink;\nmessageFwdHeader#4e4df4bb flags:# imported:flags.7?true saved_out:flags.11?true from_id:flags.0?Peer from_name:flags.5?string date:int channel_post:flags.2?int post_author:flags.3?string saved_from_peer:flags.4?Peer saved_from_msg_id:flags.4?int saved_from_id:flags.8?Peer saved_from_name:flags.9?string saved_date:flags.10?int psa_type:flags.6?string = MessageFwdHeader;\nauth.codeTypeSms#72a3158c = auth.CodeType;\nauth.codeTypeCall#741cd3e3 = auth.CodeType;\nauth.codeTypeFlashCall#226ccefb = auth.CodeType;\nauth.codeTypeMissedCall#d61ad6ee = auth.CodeType;\nauth.codeTypeFragmentSms#6ed998c = auth.CodeType;\nauth.sentCodeTypeApp#3dbb5986 length:int = auth.SentCodeType;\nauth.sentCodeTypeSms#c000bba2 length:int = auth.SentCodeType;\nauth.sentCodeTypeCall#5353e5a7 length:int = auth.SentCodeType;\nauth.sentCodeTypeFlashCall#ab03c6d9 pattern:string = auth.SentCodeType;\nauth.sentCodeTypeMissedCall#82006484 prefix:string length:int = auth.SentCodeType;\nauth.sentCodeTypeEmailCode#f450f59b flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true email_pattern:string length:int reset_available_period:flags.3?int reset_pending_date:flags.4?int = auth.SentCodeType;\nauth.sentCodeTypeSetUpEmailRequired#a5491dea flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true = auth.SentCodeType;\nauth.sentCodeTypeFragmentSms#d9565c39 url:string length:int = auth.SentCodeType;\nauth.sentCodeTypeFirebaseSms#9fd736 flags:# nonce:flags.0?bytes play_integrity_project_id:flags.2?long play_integrity_nonce:flags.2?bytes receipt:flags.1?string push_timeout:flags.1?int length:int = auth.SentCodeType;\nauth.sentCodeTypeSmsWord#a416ac81 flags:# beginning:flags.0?string = auth.SentCodeType;\nauth.sentCodeTypeSmsPhrase#b37794af flags:# beginning:flags.0?string = auth.SentCodeType;\nmessages.botCallbackAnswer#36585ea4 flags:# alert:flags.1?true has_url:flags.3?true native_ui:flags.4?true message:flags.0?string url:flags.2?string cache_time:int = messages.BotCallbackAnswer;\nmessages.messageEditData#26b5dde6 flags:# caption:flags.0?true = messages.MessageEditData;\ninputBotInlineMessageID#890c3d89 dc_id:int id:long access_hash:long = InputBotInlineMessageID;\ninputBotInlineMessageID64#b6d915d7 dc_id:int owner_id:long id:int access_hash:long = InputBotInlineMessageID;\ninlineBotSwitchPM#3c20629f text:string start_param:string = InlineBotSwitchPM;\nmessages.peerDialogs#3371c354 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> state:updates.State = messages.PeerDialogs;\ntopPeer#edcdc05b peer:Peer rating:double = TopPeer;\ntopPeerCategoryBotsPM#ab661b5b = TopPeerCategory;\ntopPeerCategoryBotsInline#148677e2 = TopPeerCategory;\ntopPeerCategoryCorrespondents#637b7ed = TopPeerCategory;\ntopPeerCategoryGroups#bd17a14a = TopPeerCategory;\ntopPeerCategoryChannels#161d9628 = TopPeerCategory;\ntopPeerCategoryPhoneCalls#1e76a78c = TopPeerCategory;\ntopPeerCategoryForwardUsers#a8406ca9 = TopPeerCategory;\ntopPeerCategoryForwardChats#fbeec0f0 = TopPeerCategory;\ntopPeerCategoryBotsApp#fd9e7bec = TopPeerCategory;\ntopPeerCategoryPeers#fb834291 category:TopPeerCategory count:int peers:Vector<TopPeer> = TopPeerCategoryPeers;\ncontacts.topPeersNotModified#de266ef5 = contacts.TopPeers;\ncontacts.topPeers#70b772a8 categories:Vector<TopPeerCategoryPeers> chats:Vector<Chat> users:Vector<User> = contacts.TopPeers;\ncontacts.topPeersDisabled#b52c939d = contacts.TopPeers;\ndraftMessageEmpty#1b0c841a flags:# date:flags.0?int = DraftMessage;\ndraftMessage#96eaa5eb flags:# no_webpage:flags.1?true invert_media:flags.6?true reply_to:flags.4?InputReplyTo message:string entities:flags.3?Vector<MessageEntity> media:flags.5?InputMedia date:int effect:flags.7?long suggested_post:flags.8?SuggestedPost = DraftMessage;\nmessages.featuredStickersNotModified#c6dc0c66 count:int = messages.FeaturedStickers;\nmessages.featuredStickers#be382906 flags:# premium:flags.0?true hash:long count:int sets:Vector<StickerSetCovered> unread:Vector<long> = messages.FeaturedStickers;\nmessages.recentStickersNotModified#b17f890 = messages.RecentStickers;\nmessages.recentStickers#88d37c56 hash:long packs:Vector<StickerPack> stickers:Vector<Document> dates:Vector<int> = messages.RecentStickers;\nmessages.archivedStickers#4fcba9c8 count:int sets:Vector<StickerSetCovered> = messages.ArchivedStickers;\nmessages.stickerSetInstallResultSuccess#38641628 = messages.StickerSetInstallResult;\nmessages.stickerSetInstallResultArchive#35e410a8 sets:Vector<StickerSetCovered> = messages.StickerSetInstallResult;\nstickerSetCovered#6410a5d2 set:StickerSet cover:Document = StickerSetCovered;\nstickerSetMultiCovered#3407e51b set:StickerSet covers:Vector<Document> = StickerSetCovered;\nstickerSetFullCovered#40d13c0e set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = StickerSetCovered;\nstickerSetNoCovered#77b15d1c set:StickerSet = StickerSetCovered;\nmaskCoords#aed6dbb2 n:int x:double y:double zoom:double = MaskCoords;\ninputStickeredMediaPhoto#4a992157 id:InputPhoto = InputStickeredMedia;\ninputStickeredMediaDocument#438865b id:InputDocument = InputStickeredMedia;\ngame#bdf9653b flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document = Game;\ninputGameID#32c3e77 id:long access_hash:long = InputGame;\ninputGameShortName#c331e80a bot_id:InputUser short_name:string = InputGame;\nhighScore#73a379eb pos:int user_id:long score:int = HighScore;\nmessages.highScores#9a3bfd99 scores:Vector<HighScore> users:Vector<User> = messages.HighScores;\ntextEmpty#dc3d824f = RichText;\ntextPlain#744694e0 text:string = RichText;\ntextBold#6724abc4 text:RichText = RichText;\ntextItalic#d912a59c text:RichText = RichText;\ntextUnderline#c12622c4 text:RichText = RichText;\ntextStrike#9bf8bb95 text:RichText = RichText;\ntextFixed#6c3f19b9 text:RichText = RichText;\ntextUrl#3c2884c1 text:RichText url:string webpage_id:long = RichText;\ntextEmail#de5a0dd6 text:RichText email:string = RichText;\ntextConcat#7e6260d7 texts:Vector<RichText> = RichText;\ntextSubscript#ed6a8504 text:RichText = RichText;\ntextSuperscript#c7fb5e01 text:RichText = RichText;\ntextMarked#34b8621 text:RichText = RichText;\ntextPhone#1ccb966a text:RichText phone:string = RichText;\ntextImage#81ccf4f document_id:long w:int h:int = RichText;\ntextAnchor#35553762 text:RichText name:string = RichText;\npageBlockUnsupported#13567e8a = PageBlock;\npageBlockTitle#70abc3fd text:RichText = PageBlock;\npageBlockSubtitle#8ffa9a1f text:RichText = PageBlock;\npageBlockAuthorDate#baafe5e0 author:RichText published_date:int = PageBlock;\npageBlockHeader#bfd064ec text:RichText = PageBlock;\npageBlockSubheader#f12bb6e1 text:RichText = PageBlock;\npageBlockParagraph#467a0766 text:RichText = PageBlock;\npageBlockPreformatted#c070d93e text:RichText language:string = PageBlock;\npageBlockFooter#48870999 text:RichText = PageBlock;\npageBlockDivider#db20b188 = PageBlock;\npageBlockAnchor#ce0d37b0 name:string = PageBlock;\npageBlockList#e4e88011 items:Vector<PageListItem> = PageBlock;\npageBlockBlockquote#263d7c26 text:RichText caption:RichText = PageBlock;\npageBlockPullquote#4f4456d3 text:RichText caption:RichText = PageBlock;\npageBlockPhoto#1759c560 flags:# photo_id:long caption:PageCaption url:flags.0?string webpage_id:flags.0?long = PageBlock;\npageBlockVideo#7c8fe7b6 flags:# autoplay:flags.0?true loop:flags.1?true video_id:long caption:PageCaption = PageBlock;\npageBlockCover#39f23300 cover:PageBlock = PageBlock;\npageBlockEmbed#a8718dc5 flags:# full_width:flags.0?true allow_scrolling:flags.3?true url:flags.1?string html:flags.2?string poster_photo_id:flags.4?long w:flags.5?int h:flags.5?int caption:PageCaption = PageBlock;\npageBlockEmbedPost#f259a80b url:string webpage_id:long author_photo_id:long author:string date:int blocks:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockCollage#65a0fa4d items:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockSlideshow#31f9590 items:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockChannel#ef1751b5 channel:Chat = PageBlock;\npageBlockAudio#804361ea audio_id:long caption:PageCaption = PageBlock;\npageBlockKicker#1e148390 text:RichText = PageBlock;\npageBlockTable#bf4dea82 flags:# bordered:flags.0?true striped:flags.1?true title:RichText rows:Vector<PageTableRow> = PageBlock;\npageBlockOrderedList#9a8ae1e1 items:Vector<PageListOrderedItem> = PageBlock;\npageBlockDetails#76768bed flags:# open:flags.0?true blocks:Vector<PageBlock> title:RichText = PageBlock;\npageBlockRelatedArticles#16115a96 title:RichText articles:Vector<PageRelatedArticle> = PageBlock;\npageBlockMap#a44f3ef6 geo:GeoPoint zoom:int w:int h:int caption:PageCaption = PageBlock;\nphoneCallDiscardReasonMissed#85e42301 = PhoneCallDiscardReason;\nphoneCallDiscardReasonDisconnect#e095c1a0 = PhoneCallDiscardReason;\nphoneCallDiscardReasonHangup#57adc690 = PhoneCallDiscardReason;\nphoneCallDiscardReasonBusy#faf7e8c9 = PhoneCallDiscardReason;\nphoneCallDiscardReasonMigrateConferenceCall#9fbbf1f7 slug:string = PhoneCallDiscardReason;\ndataJSON#7d748d04 data:string = DataJSON;\nlabeledPrice#cb296bf8 label:string amount:long = LabeledPrice;\ninvoice#49ee584 flags:# test:flags.0?true name_requested:flags.1?true phone_requested:flags.2?true email_requested:flags.3?true shipping_address_requested:flags.4?true flexible:flags.5?true phone_to_provider:flags.6?true email_to_provider:flags.7?true recurring:flags.9?true currency:string prices:Vector<LabeledPrice> max_tip_amount:flags.8?long suggested_tip_amounts:flags.8?Vector<long> terms_url:flags.10?string subscription_period:flags.11?int = Invoice;\npaymentCharge#ea02c27e id:string provider_charge_id:string = PaymentCharge;\npostAddress#1e8caaeb street_line1:string street_line2:string city:string state:string country_iso2:string post_code:string = PostAddress;\npaymentRequestedInfo#909c3f94 flags:# name:flags.0?string phone:flags.1?string email:flags.2?string shipping_address:flags.3?PostAddress = PaymentRequestedInfo;\npaymentSavedCredentialsCard#cdc27a1f id:string title:string = PaymentSavedCredentials;\nwebDocument#1c570ed1 url:string access_hash:long size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;\nwebDocumentNoProxy#f9c8bcc6 url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;\ninputWebDocument#9bed434d url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = InputWebDocument;\ninputWebFileLocation#c239d686 url:string access_hash:long = InputWebFileLocation;\ninputWebFileGeoPointLocation#9f2221c9 geo_point:InputGeoPoint access_hash:long w:int h:int zoom:int scale:int = InputWebFileLocation;\ninputWebFileAudioAlbumThumbLocation#f46fe924 flags:# small:flags.2?true document:flags.0?InputDocument title:flags.1?string performer:flags.1?string = InputWebFileLocation;\nupload.webFile#21e753bc size:int mime_type:string file_type:storage.FileType mtime:int bytes:bytes = upload.WebFile;\npayments.paymentForm#a0058751 flags:# can_save_credentials:flags.2?true password_missing:flags.3?true form_id:long bot_id:long title:string description:string photo:flags.5?WebDocument invoice:Invoice provider_id:long url:string native_provider:flags.4?string native_params:flags.4?DataJSON additional_methods:flags.6?Vector<PaymentFormMethod> saved_info:flags.0?PaymentRequestedInfo saved_credentials:flags.1?Vector<PaymentSavedCredentials> users:Vector<User> = payments.PaymentForm;\npayments.paymentFormStars#7bf6b15c flags:# form_id:long bot_id:long title:string description:string photo:flags.5?WebDocument invoice:Invoice users:Vector<User> = payments.PaymentForm;\npayments.paymentFormStarGift#b425cfe1 form_id:long invoice:Invoice = payments.PaymentForm;\npayments.validatedRequestedInfo#d1451883 flags:# id:flags.0?string shipping_options:flags.1?Vector<ShippingOption> = payments.ValidatedRequestedInfo;\npayments.paymentResult#4e5f810d updates:Updates = payments.PaymentResult;\npayments.paymentVerificationNeeded#d8411139 url:string = payments.PaymentResult;\npayments.paymentReceipt#70c4fe03 flags:# date:int bot_id:long provider_id:long title:string description:string photo:flags.2?WebDocument invoice:Invoice info:flags.0?PaymentRequestedInfo shipping:flags.1?ShippingOption tip_amount:flags.3?long currency:string total_amount:long credentials_title:string users:Vector<User> = payments.PaymentReceipt;\npayments.paymentReceiptStars#dabbf83a flags:# date:int bot_id:long title:string description:string photo:flags.2?WebDocument invoice:Invoice currency:string total_amount:long transaction_id:string users:Vector<User> = payments.PaymentReceipt;\npayments.savedInfo#fb8fe43c flags:# has_saved_credentials:flags.1?true saved_info:flags.0?PaymentRequestedInfo = payments.SavedInfo;\ninputPaymentCredentialsSaved#c10eb2cf id:string tmp_password:bytes = InputPaymentCredentials;\ninputPaymentCredentials#3417d728 flags:# save:flags.0?true data:DataJSON = InputPaymentCredentials;\ninputPaymentCredentialsApplePay#aa1c39f payment_data:DataJSON = InputPaymentCredentials;\ninputPaymentCredentialsGooglePay#8ac32801 payment_token:DataJSON = InputPaymentCredentials;\naccount.tmpPassword#db64fd34 tmp_password:bytes valid_until:int = account.TmpPassword;\nshippingOption#b6213cdf id:string title:string prices:Vector<LabeledPrice> = ShippingOption;\ninputStickerSetItem#32da9e9c flags:# document:InputDocument emoji:string mask_coords:flags.0?MaskCoords keywords:flags.1?string = InputStickerSetItem;\ninputPhoneCall#1e36fded id:long access_hash:long = InputPhoneCall;\nphoneCallEmpty#5366c915 id:long = PhoneCall;\nphoneCallWaiting#c5226f17 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long protocol:PhoneCallProtocol receive_date:flags.0?int = PhoneCall;\nphoneCallRequested#14b0ed0c flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_hash:bytes protocol:PhoneCallProtocol = PhoneCall;\nphoneCallAccepted#3660c311 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_b:bytes protocol:PhoneCallProtocol = PhoneCall;\nphoneCall#30535af5 flags:# p2p_allowed:flags.5?true video:flags.6?true conference_supported:flags.8?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long protocol:PhoneCallProtocol connections:Vector<PhoneConnection> start_date:int custom_parameters:flags.7?DataJSON = PhoneCall;\nphoneCallDiscarded#50ca4de1 flags:# need_rating:flags.2?true need_debug:flags.3?true video:flags.6?true id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = PhoneCall;\nphoneConnection#9cc123c7 flags:# tcp:flags.0?true id:long ip:string ipv6:string port:int peer_tag:bytes = PhoneConnection;\nphoneConnectionWebrtc#635fe375 flags:# turn:flags.0?true stun:flags.1?true id:long ip:string ipv6:string port:int username:string password:string = PhoneConnection;\nphoneCallProtocol#fc878fc8 flags:# udp_p2p:flags.0?true udp_reflector:flags.1?true min_layer:int max_layer:int library_versions:Vector<string> = PhoneCallProtocol;\nphone.phoneCall#ec82e140 phone_call:PhoneCall users:Vector<User> = phone.PhoneCall;\nupload.cdnFileReuploadNeeded#eea8e46e request_token:bytes = upload.CdnFile;\nupload.cdnFile#a99fca4f bytes:bytes = upload.CdnFile;\ncdnPublicKey#c982eaba dc_id:int public_key:string = CdnPublicKey;\ncdnConfig#5725e40a public_keys:Vector<CdnPublicKey> = CdnConfig;\nlangPackString#cad181f6 key:string value:string = LangPackString;\nlangPackStringPluralized#6c47ac9f flags:# key:string zero_value:flags.0?string one_value:flags.1?string two_value:flags.2?string few_value:flags.3?string many_value:flags.4?string other_value:string = LangPackString;\nlangPackStringDeleted#2979eeb2 key:string = LangPackString;\nlangPackDifference#f385c1f6 lang_code:string from_version:int version:int strings:Vector<LangPackString> = LangPackDifference;\nlangPackLanguage#eeca5ce3 flags:# official:flags.0?true rtl:flags.2?true beta:flags.3?true name:string native_name:string lang_code:string base_lang_code:flags.1?string plural_code:string strings_count:int translated_count:int translations_url:string = LangPackLanguage;\nchannelAdminLogEventActionChangeTitle#e6dfb825 prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeAbout#55188a2e prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeUsername#6a4afc38 prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangePhoto#434bd2af prev_photo:Photo new_photo:Photo = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleInvites#1b7907ae new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSignatures#26ae0971 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionUpdatePinned#e9e82c18 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionEditMessage#709b2405 prev_message:Message new_message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDeleteMessage#42e047bb message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoin#183040d3 = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantLeave#f89777f2 = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantInvite#e31c34d8 participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantToggleBan#e6d83d7e prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantToggleAdmin#d5676710 prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeStickerSet#b1c3caa7 prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;\nchannelAdminLogEventActionTogglePreHistoryHidden#5f5c95f1 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDefaultBannedRights#2df5fc0a prev_banned_rights:ChatBannedRights new_banned_rights:ChatBannedRights = ChannelAdminLogEventAction;\nchannelAdminLogEventActionStopPoll#8f079643 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeLinkedChat#50c7ac8 prev_value:long new_value:long = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeLocation#e6b76ae prev_value:ChannelLocation new_value:ChannelLocation = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSlowMode#53909779 prev_value:int new_value:int = ChannelAdminLogEventAction;\nchannelAdminLogEventActionStartGroupCall#23209745 call:InputGroupCall = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDiscardGroupCall#db9f9140 call:InputGroupCall = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantMute#f92424d2 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantUnmute#e64429c0 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleGroupCallSetting#56d6a247 join_muted:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoinByInvite#fe9fc158 flags:# via_chatlist:flags.0?true invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteDelete#5a50fca4 invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteRevoke#410a134e invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteEdit#e90ebb59 prev_invite:ExportedChatInvite new_invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantVolume#3e7f6847 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeHistoryTTL#6e941a38 prev_value:int new_value:int = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoinByRequest#afb6144a invite:ExportedChatInvite approved_by:long = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleNoForwards#cb2ac766 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionSendMessage#278f2868 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeAvailableReactions#be4e0ef8 prev_value:ChatReactions new_value:ChatReactions = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeUsernames#f04fb3a9 prev_value:Vector<string> new_value:Vector<string> = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleForum#2cc6383 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionCreateTopic#58707d28 topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionEditTopic#f06fe208 prev_topic:ForumTopic new_topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDeleteTopic#ae168909 topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionPinTopic#5d8d353b flags:# prev_topic:flags.0?ForumTopic new_topic:flags.1?ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleAntiSpam#64f36dfc new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangePeerColor#5796e780 prev_value:PeerColor new_value:PeerColor = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeProfilePeerColor#5e477b25 prev_value:PeerColor new_value:PeerColor = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeWallpaper#31bb5d52 prev_value:WallPaper new_value:WallPaper = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeEmojiStatus#3ea9feb1 prev_value:EmojiStatus new_value:EmojiStatus = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeEmojiStickerSet#46d840ab prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSignatureProfiles#60a79c79 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantSubExtend#64642db3 prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleAutotranslation#c517f77e new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEvent#1fad68cd id:long date:int user_id:long action:ChannelAdminLogEventAction = ChannelAdminLogEvent;\nchannels.adminLogResults#ed8af74d events:Vector<ChannelAdminLogEvent> chats:Vector<Chat> users:Vector<User> = channels.AdminLogResults;\nchannelAdminLogEventsFilter#ea107ae4 flags:# join:flags.0?true leave:flags.1?true invite:flags.2?true ban:flags.3?true unban:flags.4?true kick:flags.5?true unkick:flags.6?true promote:flags.7?true demote:flags.8?true info:flags.9?true settings:flags.10?true pinned:flags.11?true edit:flags.12?true delete:flags.13?true group_call:flags.14?true invites:flags.15?true send:flags.16?true forums:flags.17?true sub_extend:flags.18?true = ChannelAdminLogEventsFilter;\npopularContact#5ce14175 client_id:long importers:int = PopularContact;\nmessages.favedStickersNotModified#9e8fa6d3 = messages.FavedStickers;\nmessages.favedStickers#2cb51097 hash:long packs:Vector<StickerPack> stickers:Vector<Document> = messages.FavedStickers;\nrecentMeUrlUnknown#46e1d13d url:string = RecentMeUrl;\nrecentMeUrlUser#b92c09e2 url:string user_id:long = RecentMeUrl;\nrecentMeUrlChat#b2da71d2 url:string chat_id:long = RecentMeUrl;\nrecentMeUrlChatInvite#eb49081d url:string chat_invite:ChatInvite = RecentMeUrl;\nrecentMeUrlStickerSet#bc0a57dc url:string set:StickerSetCovered = RecentMeUrl;\nhelp.recentMeUrls#e0310d7 urls:Vector<RecentMeUrl> chats:Vector<Chat> users:Vector<User> = help.RecentMeUrls;\ninputSingleMedia#1cc6e91f flags:# media:InputMedia random_id:long message:string entities:flags.0?Vector<MessageEntity> = InputSingleMedia;\nwebAuthorization#a6f8f452 hash:long bot_id:long domain:string browser:string platform:string date_created:int date_active:int ip:string region:string = WebAuthorization;\naccount.webAuthorizations#ed56c9fc authorizations:Vector<WebAuthorization> users:Vector<User> = account.WebAuthorizations;\ninputMessageID#a676a322 id:int = InputMessage;\ninputMessageReplyTo#bad88395 id:int = InputMessage;\ninputMessagePinned#86872538 = InputMessage;\ninputMessageCallbackQuery#acfa1a7e id:int query_id:long = InputMessage;\ninputDialogPeer#fcaafeb7 peer:InputPeer = InputDialogPeer;\ninputDialogPeerFolder#64600527 folder_id:int = InputDialogPeer;\ndialogPeer#e56dbf05 peer:Peer = DialogPeer;\ndialogPeerFolder#514519e2 folder_id:int = DialogPeer;\nmessages.foundStickerSetsNotModified#d54b65d = messages.FoundStickerSets;\nmessages.foundStickerSets#8af09dd2 hash:long sets:Vector<StickerSetCovered> = messages.FoundStickerSets;\nfileHash#f39b035c offset:long limit:int hash:bytes = FileHash;\ninputClientProxy#75588b3f address:string port:int = InputClientProxy;\nhelp.termsOfServiceUpdateEmpty#e3309f7f expires:int = help.TermsOfServiceUpdate;\nhelp.termsOfServiceUpdate#28ecf961 expires:int terms_of_service:help.TermsOfService = help.TermsOfServiceUpdate;\ninputSecureFileUploaded#3334b0f0 id:long parts:int md5_checksum:string file_hash:bytes secret:bytes = InputSecureFile;\ninputSecureFile#5367e5be id:long access_hash:long = InputSecureFile;\nsecureFileEmpty#64199744 = SecureFile;\nsecureFile#7d09c27e id:long access_hash:long size:long dc_id:int date:int file_hash:bytes secret:bytes = SecureFile;\nsecureData#8aeabec3 data:bytes data_hash:bytes secret:bytes = SecureData;\nsecurePlainPhone#7d6099dd phone:string = SecurePlainData;\nsecurePlainEmail#21ec5a5f email:string = SecurePlainData;\nsecureValueTypePersonalDetails#9d2a81e3 = SecureValueType;\nsecureValueTypePassport#3dac6a00 = SecureValueType;\nsecureValueTypeDriverLicense#6e425c4 = SecureValueType;\nsecureValueTypeIdentityCard#a0d0744b = SecureValueType;\nsecureValueTypeInternalPassport#99a48f23 = SecureValueType;\nsecureValueTypeAddress#cbe31e26 = SecureValueType;\nsecureValueTypeUtilityBill#fc36954e = SecureValueType;\nsecureValueTypeBankStatement#89137c0d = SecureValueType;\nsecureValueTypeRentalAgreement#8b883488 = SecureValueType;\nsecureValueTypePassportRegistration#99e3806a = SecureValueType;\nsecureValueTypeTemporaryRegistration#ea02ec33 = SecureValueType;\nsecureValueTypePhone#b320aadb = SecureValueType;\nsecureValueTypeEmail#8e3ca7ee = SecureValueType;\nsecureValue#187fa0ca flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?SecureFile reverse_side:flags.2?SecureFile selfie:flags.3?SecureFile translation:flags.6?Vector<SecureFile> files:flags.4?Vector<SecureFile> plain_data:flags.5?SecurePlainData hash:bytes = SecureValue;\ninputSecureValue#db21d0a7 flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?InputSecureFile reverse_side:flags.2?InputSecureFile selfie:flags.3?InputSecureFile translation:flags.6?Vector<InputSecureFile> files:flags.4?Vector<InputSecureFile> plain_data:flags.5?SecurePlainData = InputSecureValue;\nsecureValueHash#ed1ecdb0 type:SecureValueType hash:bytes = SecureValueHash;\nsecureValueErrorData#e8a40bd9 type:SecureValueType data_hash:bytes field:string text:string = SecureValueError;\nsecureValueErrorFrontSide#be3dfa type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorReverseSide#868a2aa5 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorSelfie#e537ced6 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorFile#7a700873 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorFiles#666220e9 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;\nsecureValueError#869d758f type:SecureValueType hash:bytes text:string = SecureValueError;\nsecureValueErrorTranslationFile#a1144770 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorTranslationFiles#34636dd8 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;\nsecureCredentialsEncrypted#33f0ea47 data:bytes hash:bytes secret:bytes = SecureCredentialsEncrypted;\naccount.authorizationForm#ad2e1cd8 flags:# required_types:Vector<SecureRequiredType> values:Vector<SecureValue> errors:Vector<SecureValueError> users:Vector<User> privacy_policy_url:flags.0?string = account.AuthorizationForm;\naccount.sentEmailCode#811f854f email_pattern:string length:int = account.SentEmailCode;\nhelp.deepLinkInfoEmpty#66afa166 = help.DeepLinkInfo;\nhelp.deepLinkInfo#6a4ee832 flags:# update_app:flags.0?true message:string entities:flags.1?Vector<MessageEntity> = help.DeepLinkInfo;\nsavedPhoneContact#1142bd56 phone:string first_name:string last_name:string date:int = SavedContact;\naccount.takeout#4dba4501 id:long = account.Takeout;\npasswordKdfAlgoUnknown#d45ab096 = PasswordKdfAlgo;\npasswordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow#3a912d4a salt1:bytes salt2:bytes g:int p:bytes = PasswordKdfAlgo;\nsecurePasswordKdfAlgoUnknown#4a8537 = SecurePasswordKdfAlgo;\nsecurePasswordKdfAlgoPBKDF2HMACSHA512iter100000#bbf2dda0 salt:bytes = SecurePasswordKdfAlgo;\nsecurePasswordKdfAlgoSHA512#86471d92 salt:bytes = SecurePasswordKdfAlgo;\nsecureSecretSettings#1527bcac secure_algo:SecurePasswordKdfAlgo secure_secret:bytes secure_secret_id:long = SecureSecretSettings;\ninputCheckPasswordEmpty#9880f658 = InputCheckPasswordSRP;\ninputCheckPasswordSRP#d27ff082 srp_id:long A:bytes M1:bytes = InputCheckPasswordSRP;\nsecureRequiredType#829d99da flags:# native_names:flags.0?true selfie_required:flags.1?true translation_required:flags.2?true type:SecureValueType = SecureRequiredType;\nsecureRequiredTypeOneOf#27477b4 types:Vector<SecureRequiredType> = SecureRequiredType;\nhelp.passportConfigNotModified#bfb9f457 = help.PassportConfig;\nhelp.passportConfig#a098d6af hash:int countries_langs:DataJSON = help.PassportConfig;\ninputAppEvent#1d1b1245 time:double type:string peer:long data:JSONValue = InputAppEvent;\njsonObjectValue#c0de1bd9 key:string value:JSONValue = JSONObjectValue;\njsonNull#3f6d7b68 = JSONValue;\njsonBool#c7345e6a value:Bool = JSONValue;\njsonNumber#2be0dfa4 value:double = JSONValue;\njsonString#b71e767a value:string = JSONValue;\njsonArray#f7444763 value:Vector<JSONValue> = JSONValue;\njsonObject#99c1d49d value:Vector<JSONObjectValue> = JSONValue;\npageTableCell#34566b6a flags:# header:flags.0?true align_center:flags.3?true align_right:flags.4?true valign_middle:flags.5?true valign_bottom:flags.6?true text:flags.7?RichText colspan:flags.1?int rowspan:flags.2?int = PageTableCell;\npageTableRow#e0c0c5e5 cells:Vector<PageTableCell> = PageTableRow;\npageCaption#6f747657 text:RichText credit:RichText = PageCaption;\npageListItemText#b92fb6cd text:RichText = PageListItem;\npageListItemBlocks#25e073fc blocks:Vector<PageBlock> = PageListItem;\npageListOrderedItemText#5e068047 num:string text:RichText = PageListOrderedItem;\npageListOrderedItemBlocks#98dd8936 num:string blocks:Vector<PageBlock> = PageListOrderedItem;\npageRelatedArticle#b390dc08 flags:# url:string webpage_id:long title:flags.0?string description:flags.1?string photo_id:flags.2?long author:flags.3?string published_date:flags.4?int = PageRelatedArticle;\npage#98657f0d flags:# part:flags.0?true rtl:flags.1?true v2:flags.2?true url:string blocks:Vector<PageBlock> photos:Vector<Photo> documents:Vector<Document> views:flags.3?int = Page;\nhelp.supportName#8c05f1c9 name:string = help.SupportName;\nhelp.userInfoEmpty#f3ae2eed = help.UserInfo;\nhelp.userInfo#1eb3758 message:string entities:Vector<MessageEntity> author:string date:int = help.UserInfo;\npollAnswer#ff16e2ca text:TextWithEntities option:bytes = PollAnswer;\npoll#58747131 id:long flags:# closed:flags.0?true public_voters:flags.1?true multiple_choice:flags.2?true quiz:flags.3?true question:TextWithEntities answers:Vector<PollAnswer> close_period:flags.4?int close_date:flags.5?int = Poll;\npollAnswerVoters#3b6ddad2 flags:# chosen:flags.0?true correct:flags.1?true option:bytes voters:int = PollAnswerVoters;\npollResults#7adf2420 flags:# min:flags.0?true results:flags.1?Vector<PollAnswerVoters> total_voters:flags.2?int recent_voters:flags.3?Vector<Peer> solution:flags.4?string solution_entities:flags.4?Vector<MessageEntity> = PollResults;\nchatOnlines#f041e250 onlines:int = ChatOnlines;\nstatsURL#47a971e0 url:string = StatsURL;\nchatAdminRights#5fb224d5 flags:# change_info:flags.0?true post_messages:flags.1?true edit_messages:flags.2?true delete_messages:flags.3?true ban_users:flags.4?true invite_users:flags.5?true pin_messages:flags.7?true add_admins:flags.9?true anonymous:flags.10?true manage_call:flags.11?true other:flags.12?true manage_topics:flags.13?true post_stories:flags.14?true edit_stories:flags.15?true delete_stories:flags.16?true manage_direct_messages:flags.17?true = ChatAdminRights;\nchatBannedRights#9f120418 flags:# view_messages:flags.0?true send_messages:flags.1?true send_media:flags.2?true send_stickers:flags.3?true send_gifs:flags.4?true send_games:flags.5?true send_inline:flags.6?true embed_links:flags.7?true send_polls:flags.8?true change_info:flags.10?true invite_users:flags.15?true pin_messages:flags.17?true manage_topics:flags.18?true send_photos:flags.19?true send_videos:flags.20?true send_roundvideos:flags.21?true send_audios:flags.22?true send_voices:flags.23?true send_docs:flags.24?true send_plain:flags.25?true until_date:int = ChatBannedRights;\ninputWallPaper#e630b979 id:long access_hash:long = InputWallPaper;\ninputWallPaperSlug#72091c80 slug:string = InputWallPaper;\ninputWallPaperNoFile#967a462e id:long = InputWallPaper;\naccount.wallPapersNotModified#1c199183 = account.WallPapers;\naccount.wallPapers#cdc3858c hash:long wallpapers:Vector<WallPaper> = account.WallPapers;\ncodeSettings#ad253d78 flags:# allow_flashcall:flags.0?true current_number:flags.1?true allow_app_hash:flags.4?true allow_missed_call:flags.5?true allow_firebase:flags.7?true unknown_number:flags.9?true logout_tokens:flags.6?Vector<bytes> token:flags.8?string app_sandbox:flags.8?Bool = CodeSettings;\nwallPaperSettings#372efcd0 flags:# blur:flags.1?true motion:flags.2?true background_color:flags.0?int second_background_color:flags.4?int third_background_color:flags.5?int fourth_background_color:flags.6?int intensity:flags.3?int rotation:flags.4?int emoticon:flags.7?string = WallPaperSettings;\nautoDownloadSettings#baa57628 flags:# disabled:flags.0?true video_preload_large:flags.1?true audio_preload_next:flags.2?true phonecalls_less_data:flags.3?true stories_preload:flags.4?true photo_size_max:int video_size_max:long file_size_max:long video_upload_maxbitrate:int small_queue_active_operations_max:int large_queue_active_operations_max:int = AutoDownloadSettings;\naccount.autoDownloadSettings#63cacf26 low:AutoDownloadSettings medium:AutoDownloadSettings high:AutoDownloadSettings = account.AutoDownloadSettings;\nemojiKeyword#d5b3b9f9 keyword:string emoticons:Vector<string> = EmojiKeyword;\nemojiKeywordDeleted#236df622 keyword:string emoticons:Vector<string> = EmojiKeyword;\nemojiKeywordsDifference#5cc761bd lang_code:string from_version:int version:int keywords:Vector<EmojiKeyword> = EmojiKeywordsDifference;\nemojiURL#a575739d url:string = EmojiURL;\nemojiLanguage#b3fb5361 lang_code:string = EmojiLanguage;\nfolder#ff544e65 flags:# autofill_new_broadcasts:flags.0?true autofill_public_groups:flags.1?true autofill_new_correspondents:flags.2?true id:int title:string photo:flags.3?ChatPhoto = Folder;\ninputFolderPeer#fbd2c296 peer:InputPeer folder_id:int = InputFolderPeer;\nfolderPeer#e9baa668 peer:Peer folder_id:int = FolderPeer;\nmessages.searchCounter#e844ebff flags:# inexact:flags.1?true filter:MessagesFilter count:int = messages.SearchCounter;\nurlAuthResultRequest#92d33a0e flags:# request_write_access:flags.0?true bot:User domain:string = UrlAuthResult;\nurlAuthResultAccepted#8f8c0e4e url:string = UrlAuthResult;\nurlAuthResultDefault#a9d6db1f = UrlAuthResult;\nchannelLocationEmpty#bfb5ad8b = ChannelLocation;\nchannelLocation#209b82db geo_point:GeoPoint address:string = ChannelLocation;\npeerLocated#ca461b5d peer:Peer expires:int distance:int = PeerLocated;\npeerSelfLocated#f8ec284b expires:int = PeerLocated;\nrestrictionReason#d072acb4 platform:string reason:string text:string = RestrictionReason;\ninputTheme#3c5693e9 id:long access_hash:long = InputTheme;\ninputThemeSlug#f5890df1 slug:string = InputTheme;\ntheme#a00e67d6 flags:# creator:flags.0?true default:flags.1?true for_chat:flags.5?true id:long access_hash:long slug:string title:string document:flags.2?Document settings:flags.3?Vector<ThemeSettings> emoticon:flags.6?string installs_count:flags.4?int = Theme;\naccount.themesNotModified#f41eb622 = account.Themes;\naccount.themes#9a3d8c6d hash:long themes:Vector<Theme> = account.Themes;\nauth.loginToken#629f1980 expires:int token:bytes = auth.LoginToken;\nauth.loginTokenMigrateTo#68e9916 dc_id:int token:bytes = auth.LoginToken;\nauth.loginTokenSuccess#390d5c5e authorization:auth.Authorization = auth.LoginToken;\naccount.contentSettings#57e28221 flags:# sensitive_enabled:flags.0?true sensitive_can_change:flags.1?true = account.ContentSettings;\nmessages.inactiveChats#a927fec5 dates:Vector<int> chats:Vector<Chat> users:Vector<User> = messages.InactiveChats;\nbaseThemeClassic#c3a12462 = BaseTheme;\nbaseThemeDay#fbd81688 = BaseTheme;\nbaseThemeNight#b7b31ea8 = BaseTheme;\nbaseThemeTinted#6d5f77ee = BaseTheme;\nbaseThemeArctic#5b11125a = BaseTheme;\ninputThemeSettings#8fde504f flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?InputWallPaper wallpaper_settings:flags.1?WallPaperSettings = InputThemeSettings;\nthemeSettings#fa58b6d4 flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?WallPaper = ThemeSettings;\nwebPageAttributeTheme#54b56617 flags:# documents:flags.0?Vector<Document> settings:flags.1?ThemeSettings = WebPageAttribute;\nwebPageAttributeStory#2e94c3e7 flags:# peer:Peer id:int story:flags.0?StoryItem = WebPageAttribute;\nwebPageAttributeStickerSet#50cc03d3 flags:# emojis:flags.0?true text_color:flags.1?true stickers:Vector<Document> = WebPageAttribute;\nwebPageAttributeUniqueStarGift#cf6f6db8 gift:StarGift = WebPageAttribute;\nwebPageAttributeStarGiftCollection#31cad303 icons:Vector<Document> = WebPageAttribute;\nwebPageAttributeStarGiftAuction#1c641c2 gift:StarGift end_date:int = WebPageAttribute;\nmessages.votesList#4899484e flags:# count:int votes:Vector<MessagePeerVote> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.VotesList;\nbankCardOpenUrl#f568028a url:string name:string = BankCardOpenUrl;\npayments.bankCardData#3e24e573 title:string open_urls:Vector<BankCardOpenUrl> = payments.BankCardData;\ndialogFilter#aa472651 flags:# contacts:flags.0?true non_contacts:flags.1?true groups:flags.2?true broadcasts:flags.3?true bots:flags.4?true exclude_muted:flags.11?true exclude_read:flags.12?true exclude_archived:flags.13?true title_noanimate:flags.28?true id:int title:TextWithEntities emoticon:flags.25?string color:flags.27?int pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> exclude_peers:Vector<InputPeer> = DialogFilter;\ndialogFilterDefault#363293ae = DialogFilter;\ndialogFilterChatlist#96537bd7 flags:# has_my_invites:flags.26?true title_noanimate:flags.28?true id:int title:TextWithEntities emoticon:flags.25?string color:flags.27?int pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> = DialogFilter;\ndialogFilterSuggested#77744d4a filter:DialogFilter description:string = DialogFilterSuggested;\nstatsDateRangeDays#b637edaf min_date:int max_date:int = StatsDateRangeDays;\nstatsAbsValueAndPrev#cb43acde current:double previous:double = StatsAbsValueAndPrev;\nstatsPercentValue#cbce2fe0 part:double total:double = StatsPercentValue;\nstatsGraphAsync#4a27eb2d token:string = StatsGraph;\nstatsGraphError#bedc9822 error:string = StatsGraph;\nstatsGraph#8ea464b6 flags:# json:DataJSON zoom_token:flags.0?string = StatsGraph;\nstats.broadcastStats#396ca5fc period:StatsDateRangeDays followers:StatsAbsValueAndPrev views_per_post:StatsAbsValueAndPrev shares_per_post:StatsAbsValueAndPrev reactions_per_post:StatsAbsValueAndPrev views_per_story:StatsAbsValueAndPrev shares_per_story:StatsAbsValueAndPrev reactions_per_story:StatsAbsValueAndPrev enabled_notifications:StatsPercentValue growth_graph:StatsGraph followers_graph:StatsGraph mute_graph:StatsGraph top_hours_graph:StatsGraph interactions_graph:StatsGraph iv_interactions_graph:StatsGraph views_by_source_graph:StatsGraph new_followers_by_source_graph:StatsGraph languages_graph:StatsGraph reactions_by_emotion_graph:StatsGraph story_interactions_graph:StatsGraph story_reactions_by_emotion_graph:StatsGraph recent_posts_interactions:Vector<PostInteractionCounters> = stats.BroadcastStats;\nhelp.promoDataEmpty#98f6ac75 expires:int = help.PromoData;\nhelp.promoData#8a4d87a flags:# proxy:flags.0?true expires:int peer:flags.3?Peer psa_type:flags.1?string psa_message:flags.2?string pending_suggestions:Vector<string> dismissed_suggestions:Vector<string> custom_pending_suggestion:flags.4?PendingSuggestion chats:Vector<Chat> users:Vector<User> = help.PromoData;\nvideoSize#de33b094 flags:# type:string w:int h:int size:int video_start_ts:flags.0?double = VideoSize;\nvideoSizeEmojiMarkup#f85c413c emoji_id:long background_colors:Vector<int> = VideoSize;\nvideoSizeStickerMarkup#da082fe stickerset:InputStickerSet sticker_id:long background_colors:Vector<int> = VideoSize;\nstatsGroupTopPoster#9d04af9b user_id:long messages:int avg_chars:int = StatsGroupTopPoster;\nstatsGroupTopAdmin#d7584c87 user_id:long deleted:int kicked:int banned:int = StatsGroupTopAdmin;\nstatsGroupTopInviter#535f779d user_id:long invitations:int = StatsGroupTopInviter;\nstats.megagroupStats#ef7ff916 period:StatsDateRangeDays members:StatsAbsValueAndPrev messages:StatsAbsValueAndPrev viewers:StatsAbsValueAndPrev posters:StatsAbsValueAndPrev growth_graph:StatsGraph members_graph:StatsGraph new_members_by_source_graph:StatsGraph languages_graph:StatsGraph messages_graph:StatsGraph actions_graph:StatsGraph top_hours_graph:StatsGraph weekdays_graph:StatsGraph top_posters:Vector<StatsGroupTopPoster> top_admins:Vector<StatsGroupTopAdmin> top_inviters:Vector<StatsGroupTopInviter> users:Vector<User> = stats.MegagroupStats;\nglobalPrivacySettings#fe41b34f flags:# archive_and_mute_new_noncontact_peers:flags.0?true keep_archived_unmuted:flags.1?true keep_archived_folders:flags.2?true hide_read_marks:flags.3?true new_noncontact_peers_require_premium:flags.4?true display_gifts_button:flags.7?true noncontact_peers_paid_stars:flags.5?long disallowed_gifts:flags.6?DisallowedGiftsSettings = GlobalPrivacySettings;\nhelp.countryCode#4203c5ef flags:# country_code:string prefixes:flags.0?Vector<string> patterns:flags.1?Vector<string> = help.CountryCode;\nhelp.country#c3878e23 flags:# hidden:flags.0?true iso2:string default_name:string name:flags.1?string country_codes:Vector<help.CountryCode> = help.Country;\nhelp.countriesListNotModified#93cc1f32 = help.CountriesList;\nhelp.countriesList#87d0759e countries:Vector<help.Country> hash:int = help.CountriesList;\nmessageViews#455b853d flags:# views:flags.0?int forwards:flags.1?int replies:flags.2?MessageReplies = MessageViews;\nmessages.messageViews#b6c4f543 views:Vector<MessageViews> chats:Vector<Chat> users:Vector<User> = messages.MessageViews;\nmessages.discussionMessage#a6341782 flags:# messages:Vector<Message> max_id:flags.0?int read_inbox_max_id:flags.1?int read_outbox_max_id:flags.2?int unread_count:int chats:Vector<Chat> users:Vector<User> = messages.DiscussionMessage;\nmessageReplyHeader#6917560b flags:# reply_to_scheduled:flags.2?true forum_topic:flags.3?true quote:flags.9?true reply_to_msg_id:flags.4?int reply_to_peer_id:flags.0?Peer reply_from:flags.5?MessageFwdHeader reply_media:flags.8?MessageMedia reply_to_top_id:flags.1?int quote_text:flags.6?string quote_entities:flags.7?Vector<MessageEntity> quote_offset:flags.10?int todo_item_id:flags.11?int = MessageReplyHeader;\nmessageReplyStoryHeader#e5af939 peer:Peer story_id:int = MessageReplyHeader;\nmessageReplies#83d60fc2 flags:# comments:flags.0?true replies:int replies_pts:int recent_repliers:flags.1?Vector<Peer> channel_id:flags.0?long max_id:flags.2?int read_max_id:flags.3?int = MessageReplies;\npeerBlocked#e8fd8014 peer_id:Peer date:int = PeerBlocked;\nstats.messageStats#7fe91c14 views_graph:StatsGraph reactions_by_emotion_graph:StatsGraph = stats.MessageStats;\ngroupCallDiscarded#7780bcb4 id:long access_hash:long duration:int = GroupCall;\ngroupCall#efb2b617 flags:# join_muted:flags.1?true can_change_join_muted:flags.2?true join_date_asc:flags.6?true schedule_start_subscribed:flags.8?true can_start_video:flags.9?true record_video_active:flags.11?true rtmp_stream:flags.12?true listeners_hidden:flags.13?true conference:flags.14?true creator:flags.15?true messages_enabled:flags.17?true can_change_messages_enabled:flags.18?true min:flags.19?true id:long access_hash:long participants_count:int title:flags.3?string stream_dc_id:flags.4?int record_start_date:flags.5?int schedule_date:flags.7?int unmuted_video_count:flags.10?int unmuted_video_limit:int version:int invite_link:flags.16?string send_paid_messages_stars:flags.20?long default_send_as:flags.21?Peer = GroupCall;\ninputGroupCall#d8aa840f id:long access_hash:long = InputGroupCall;\ninputGroupCallSlug#fe06823f slug:string = InputGroupCall;\ninputGroupCallInviteMessage#8c10603f msg_id:int = InputGroupCall;\ngroupCallParticipant#2a3dc7ac flags:# muted:flags.0?true left:flags.1?true can_self_unmute:flags.2?true just_joined:flags.4?true versioned:flags.5?true min:flags.8?true muted_by_you:flags.9?true volume_by_admin:flags.10?true self:flags.12?true video_joined:flags.15?true peer:Peer date:int active_date:flags.3?int source:int volume:flags.7?int about:flags.11?string raise_hand_rating:flags.13?long video:flags.6?GroupCallParticipantVideo presentation:flags.14?GroupCallParticipantVideo paid_stars_total:flags.16?long = GroupCallParticipant;\nphone.groupCall#9e727aad call:GroupCall participants:Vector<GroupCallParticipant> participants_next_offset:string chats:Vector<Chat> users:Vector<User> = phone.GroupCall;\nphone.groupParticipants#f47751b6 count:int participants:Vector<GroupCallParticipant> next_offset:string chats:Vector<Chat> users:Vector<User> version:int = phone.GroupParticipants;\ninlineQueryPeerTypeSameBotPM#3081ed9d = InlineQueryPeerType;\ninlineQueryPeerTypePM#833c0fac = InlineQueryPeerType;\ninlineQueryPeerTypeChat#d766c50a = InlineQueryPeerType;\ninlineQueryPeerTypeMegagroup#5ec4be43 = InlineQueryPeerType;\ninlineQueryPeerTypeBroadcast#6334ee9a = InlineQueryPeerType;\ninlineQueryPeerTypeBotPM#e3b2d0c = InlineQueryPeerType;\nmessages.historyImport#1662af0b id:long = messages.HistoryImport;\nmessages.historyImportParsed#5e0fb7b9 flags:# pm:flags.0?true group:flags.1?true title:flags.2?string = messages.HistoryImportParsed;\nmessages.affectedFoundMessages#ef8d3e6c pts:int pts_count:int offset:int messages:Vector<int> = messages.AffectedFoundMessages;\nchatInviteImporter#8c5adfd9 flags:# requested:flags.0?true via_chatlist:flags.3?true user_id:long date:int about:flags.2?string approved_by:flags.1?long = ChatInviteImporter;\nmessages.exportedChatInvites#bdc62dcc count:int invites:Vector<ExportedChatInvite> users:Vector<User> = messages.ExportedChatInvites;\nmessages.exportedChatInvite#1871be50 invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;\nmessages.exportedChatInviteReplaced#222600ef invite:ExportedChatInvite new_invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;\nmessages.chatInviteImporters#81b6b00a count:int importers:Vector<ChatInviteImporter> users:Vector<User> = messages.ChatInviteImporters;\nchatAdminWithInvites#f2ecef23 admin_id:long invites_count:int revoked_invites_count:int = ChatAdminWithInvites;\nmessages.chatAdminsWithInvites#b69b72d7 admins:Vector<ChatAdminWithInvites> users:Vector<User> = messages.ChatAdminsWithInvites;\nmessages.checkedHistoryImportPeer#a24de717 confirm_text:string = messages.CheckedHistoryImportPeer;\nphone.joinAsPeers#afe5623f peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = phone.JoinAsPeers;\nphone.exportedGroupCallInvite#204bd158 link:string = phone.ExportedGroupCallInvite;\ngroupCallParticipantVideoSourceGroup#dcb118b7 semantics:string sources:Vector<int> = GroupCallParticipantVideoSourceGroup;\ngroupCallParticipantVideo#67753ac8 flags:# paused:flags.0?true endpoint:string source_groups:Vector<GroupCallParticipantVideoSourceGroup> audio_source:flags.1?int = GroupCallParticipantVideo;\nstickers.suggestedShortName#85fea03f short_name:string = stickers.SuggestedShortName;\nbotCommandScopeDefault#2f6cb2ab = BotCommandScope;\nbotCommandScopeUsers#3c4f04d8 = BotCommandScope;\nbotCommandScopeChats#6fe1a881 = BotCommandScope;\nbotCommandScopeChatAdmins#b9aa606a = BotCommandScope;\nbotCommandScopePeer#db9d897d peer:InputPeer = BotCommandScope;\nbotCommandScopePeerAdmins#3fd863d1 peer:InputPeer = BotCommandScope;\nbotCommandScopePeerUser#a1321f3 peer:InputPeer user_id:InputUser = BotCommandScope;\naccount.resetPasswordFailedWait#e3779861 retry_date:int = account.ResetPasswordResult;\naccount.resetPasswordRequestedWait#e9effc7d until_date:int = account.ResetPasswordResult;\naccount.resetPasswordOk#e926d63e = account.ResetPasswordResult;\nchatTheme#c3dffc04 emoticon:string = ChatTheme;\nchatThemeUniqueGift#3458f9c8 gift:StarGift theme_settings:Vector<ThemeSettings> = ChatTheme;\naccount.chatThemesNotModified#e011e1c4 = account.ChatThemes;\naccount.chatThemes#be098173 flags:# hash:long themes:Vector<ChatTheme> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = account.ChatThemes;\nsponsoredMessage#7dbf8673 flags:# recommended:flags.5?true can_report:flags.12?true random_id:bytes url:string title:string message:string entities:flags.1?Vector<MessageEntity> photo:flags.6?Photo media:flags.14?MessageMedia color:flags.13?PeerColor button_text:string sponsor_info:flags.7?string additional_info:flags.8?string min_display_duration:flags.15?int max_display_duration:flags.15?int = SponsoredMessage;\nmessages.sponsoredMessages#ffda656d flags:# posts_between:flags.0?int start_delay:flags.1?int between_delay:flags.2?int messages:Vector<SponsoredMessage> chats:Vector<Chat> users:Vector<User> = messages.SponsoredMessages;\nmessages.sponsoredMessagesEmpty#1839490f = messages.SponsoredMessages;\nsearchResultsCalendarPeriod#c9b0539f date:int min_msg_id:int max_msg_id:int count:int = SearchResultsCalendarPeriod;\nmessages.searchResultsCalendar#147ee23c flags:# inexact:flags.0?true count:int min_date:int min_msg_id:int offset_id_offset:flags.1?int periods:Vector<SearchResultsCalendarPeriod> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SearchResultsCalendar;\nsearchResultPosition#7f648b67 msg_id:int date:int offset:int = SearchResultsPosition;\nmessages.searchResultsPositions#53b22baf count:int positions:Vector<SearchResultsPosition> = messages.SearchResultsPositions;\nchannels.sendAsPeers#f496b0c6 peers:Vector<SendAsPeer> chats:Vector<Chat> users:Vector<User> = channels.SendAsPeers;\nusers.userFull#3b6d152e full_user:UserFull chats:Vector<Chat> users:Vector<User> = users.UserFull;\nmessages.peerSettings#6880b94d settings:PeerSettings chats:Vector<Chat> users:Vector<User> = messages.PeerSettings;\nauth.loggedOut#c3a2835f flags:# future_auth_token:flags.0?bytes = auth.LoggedOut;\nreactionCount#a3d1cb80 flags:# chosen_order:flags.0?int reaction:Reaction count:int = ReactionCount;\nmessageReactions#a339f0b flags:# min:flags.0?true can_see_list:flags.2?true reactions_as_tags:flags.3?true results:Vector<ReactionCount> recent_reactions:flags.1?Vector<MessagePeerReaction> top_reactors:flags.4?Vector<MessageReactor> = MessageReactions;\nmessages.messageReactionsList#31bd492d flags:# count:int reactions:Vector<MessagePeerReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.MessageReactionsList;\navailableReaction#c077ec01 flags:# inactive:flags.0?true premium:flags.2?true reaction:string title:string static_icon:Document appear_animation:Document select_animation:Document activate_animation:Document effect_animation:Document around_animation:flags.1?Document center_icon:flags.1?Document = AvailableReaction;\nmessages.availableReactionsNotModified#9f071957 = messages.AvailableReactions;\nmessages.availableReactions#768e3aad hash:int reactions:Vector<AvailableReaction> = messages.AvailableReactions;\nmessagePeerReaction#8c79b63c flags:# big:flags.0?true unread:flags.1?true my:flags.2?true peer_id:Peer date:int reaction:Reaction = MessagePeerReaction;\ngroupCallStreamChannel#80eb48af channel:int scale:int last_timestamp_ms:long = GroupCallStreamChannel;\nphone.groupCallStreamChannels#d0e482b2 channels:Vector<GroupCallStreamChannel> = phone.GroupCallStreamChannels;\nphone.groupCallStreamRtmpUrl#2dbf3432 url:string key:string = phone.GroupCallStreamRtmpUrl;\nattachMenuBotIconColor#4576f3f0 name:string color:int = AttachMenuBotIconColor;\nattachMenuBotIcon#b2a7386b flags:# name:string icon:Document colors:flags.0?Vector<AttachMenuBotIconColor> = AttachMenuBotIcon;\nattachMenuBot#d90d8dfe flags:# inactive:flags.0?true has_settings:flags.1?true request_write_access:flags.2?true show_in_attach_menu:flags.3?true show_in_side_menu:flags.4?true side_menu_disclaimer_needed:flags.5?true bot_id:long short_name:string peer_types:flags.3?Vector<AttachMenuPeerType> icons:Vector<AttachMenuBotIcon> = AttachMenuBot;\nattachMenuBotsNotModified#f1d88a5c = AttachMenuBots;\nattachMenuBots#3c4301c0 hash:long bots:Vector<AttachMenuBot> users:Vector<User> = AttachMenuBots;\nattachMenuBotsBot#93bf667f bot:AttachMenuBot users:Vector<User> = AttachMenuBotsBot;\nwebViewResultUrl#4d22ff98 flags:# fullsize:flags.1?true fullscreen:flags.2?true query_id:flags.0?long url:string = WebViewResult;\nwebViewMessageSent#c94511c flags:# msg_id:flags.0?InputBotInlineMessageID = WebViewMessageSent;\nbotMenuButtonDefault#7533a588 = BotMenuButton;\nbotMenuButtonCommands#4258c205 = BotMenuButton;\nbotMenuButton#c7b57ce6 text:string url:string = BotMenuButton;\naccount.savedRingtonesNotModified#fbf6e8b1 = account.SavedRingtones;\naccount.savedRingtones#c1e92cc5 hash:long ringtones:Vector<Document> = account.SavedRingtones;\nnotificationSoundDefault#97e8bebe = NotificationSound;\nnotificationSoundNone#6f0c34df = NotificationSound;\nnotificationSoundLocal#830b9ae4 title:string data:string = NotificationSound;\nnotificationSoundRingtone#ff6c8049 id:long = NotificationSound;\naccount.savedRingtone#b7263f6d = account.SavedRingtone;\naccount.savedRingtoneConverted#1f307eb7 document:Document = account.SavedRingtone;\nattachMenuPeerTypeSameBotPM#7d6be90e = AttachMenuPeerType;\nattachMenuPeerTypeBotPM#c32bfa1a = AttachMenuPeerType;\nattachMenuPeerTypePM#f146d31f = AttachMenuPeerType;\nattachMenuPeerTypeChat#509113f = AttachMenuPeerType;\nattachMenuPeerTypeBroadcast#7bfbdefc = AttachMenuPeerType;\ninputInvoiceMessage#c5b56859 peer:InputPeer msg_id:int = InputInvoice;\ninputInvoiceSlug#c326caef slug:string = InputInvoice;\ninputInvoicePremiumGiftCode#98986c0d purpose:InputStorePaymentPurpose option:PremiumGiftCodeOption = InputInvoice;\ninputInvoiceStars#65f00ce3 purpose:InputStorePaymentPurpose = InputInvoice;\ninputInvoiceChatInviteSubscription#34e793f1 hash:string = InputInvoice;\ninputInvoiceStarGift#e8625e92 flags:# hide_name:flags.0?true include_upgrade:flags.2?true peer:InputPeer gift_id:long message:flags.1?TextWithEntities = InputInvoice;\ninputInvoiceStarGiftUpgrade#4d818d5d flags:# keep_original_details:flags.0?true stargift:InputSavedStarGift = InputInvoice;\ninputInvoiceStarGiftTransfer#4a5f5bd9 stargift:InputSavedStarGift to_id:InputPeer = InputInvoice;\ninputInvoicePremiumGiftStars#dabab2ef flags:# user_id:InputUser months:int message:flags.0?TextWithEntities = InputInvoice;\ninputInvoiceBusinessBotTransferStars#f4997e42 bot:InputUser stars:long = InputInvoice;\ninputInvoiceStarGiftResale#c39f5324 flags:# ton:flags.0?true slug:string to_id:InputPeer = InputInvoice;\ninputInvoiceStarGiftPrepaidUpgrade#9a0b48b8 peer:InputPeer hash:string = InputInvoice;\ninputInvoicePremiumAuthCode#3e77f614 purpose:InputStorePaymentPurpose = InputInvoice;\ninputInvoiceStarGiftDropOriginalDetails#923d8d1 stargift:InputSavedStarGift = InputInvoice;\ninputInvoiceStarGiftAuctionBid#1ecafa10 flags:# hide_name:flags.0?true update_bid:flags.2?true peer:flags.3?InputPeer gift_id:long bid_amount:long message:flags.1?TextWithEntities = InputInvoice;\npayments.exportedInvoice#aed0cbd9 url:string = payments.ExportedInvoice;\nmessages.transcribedAudio#cfb9d957 flags:# pending:flags.0?true transcription_id:long text:string trial_remains_num:flags.1?int trial_remains_until_date:flags.1?int = messages.TranscribedAudio;\nhelp.premiumPromo#5334759c status_text:string status_entities:Vector<MessageEntity> video_sections:Vector<string> videos:Vector<Document> period_options:Vector<PremiumSubscriptionOption> users:Vector<User> = help.PremiumPromo;\ninputStorePaymentPremiumSubscription#a6751e66 flags:# restore:flags.0?true upgrade:flags.1?true = InputStorePaymentPurpose;\ninputStorePaymentGiftPremium#616f7fe8 user_id:InputUser currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentPremiumGiftCode#fb790393 flags:# users:Vector<InputUser> boost_peer:flags.0?InputPeer currency:string amount:long message:flags.1?TextWithEntities = InputStorePaymentPurpose;\ninputStorePaymentPremiumGiveaway#160544ca flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.3?true boost_peer:InputPeer additional_peers:flags.1?Vector<InputPeer> countries_iso2:flags.2?Vector<string> prize_description:flags.4?string random_id:long until_date:int currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentStarsTopup#f9a2a6cb flags:# stars:long currency:string amount:long spend_purpose_peer:flags.0?InputPeer = InputStorePaymentPurpose;\ninputStorePaymentStarsGift#1d741ef7 user_id:InputUser stars:long currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentStarsGiveaway#751f08fa flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.3?true stars:long boost_peer:InputPeer additional_peers:flags.1?Vector<InputPeer> countries_iso2:flags.2?Vector<string> prize_description:flags.4?string random_id:long until_date:int currency:string amount:long users:int = InputStorePaymentPurpose;\ninputStorePaymentAuthCode#9bb2636d flags:# restore:flags.0?true phone_number:string phone_code_hash:string currency:string amount:long = InputStorePaymentPurpose;\npaymentFormMethod#88f8f21b url:string title:string = PaymentFormMethod;\nemojiStatusEmpty#2de11aae = EmojiStatus;\nemojiStatus#e7ff068a flags:# document_id:long until:flags.0?int = EmojiStatus;\nemojiStatusCollectible#7184603b flags:# collectible_id:long document_id:long title:string slug:string pattern_document_id:long center_color:int edge_color:int pattern_color:int text_color:int until:flags.0?int = EmojiStatus;\ninputEmojiStatusCollectible#7141dbf flags:# collectible_id:long until:flags.0?int = EmojiStatus;\naccount.emojiStatusesNotModified#d08ce645 = account.EmojiStatuses;\naccount.emojiStatuses#90c467d1 hash:long statuses:Vector<EmojiStatus> = account.EmojiStatuses;\nreactionEmpty#79f5d419 = Reaction;\nreactionEmoji#1b2286b8 emoticon:string = Reaction;\nreactionCustomEmoji#8935fc73 document_id:long = Reaction;\nreactionPaid#523da4eb = Reaction;\nchatReactionsNone#eafc32bc = ChatReactions;\nchatReactionsAll#52928bca flags:# allow_custom:flags.0?true = ChatReactions;\nchatReactionsSome#661d4037 reactions:Vector<Reaction> = ChatReactions;\nmessages.reactionsNotModified#b06fdbdf = messages.Reactions;\nmessages.reactions#eafdf716 hash:long reactions:Vector<Reaction> = messages.Reactions;\nemailVerifyPurposeLoginSetup#4345be73 phone_number:string phone_code_hash:string = EmailVerifyPurpose;\nemailVerifyPurposeLoginChange#527d22eb = EmailVerifyPurpose;\nemailVerifyPurposePassport#bbf51685 = EmailVerifyPurpose;\nemailVerificationCode#922e55a9 code:string = EmailVerification;\nemailVerificationGoogle#db909ec2 token:string = EmailVerification;\nemailVerificationApple#96d074fd token:string = EmailVerification;\naccount.emailVerified#2b96cd1b email:string = account.EmailVerified;\naccount.emailVerifiedLogin#e1bb0d61 email:string sent_code:auth.SentCode = account.EmailVerified;\npremiumSubscriptionOption#5f2d1df2 flags:# current:flags.1?true can_purchase_upgrade:flags.2?true transaction:flags.3?string months:int currency:string amount:long bot_url:string store_product:flags.0?string = PremiumSubscriptionOption;\nsendAsPeer#b81c7034 flags:# premium_required:flags.0?true peer:Peer = SendAsPeer;\nmessageExtendedMediaPreview#ad628cc8 flags:# w:flags.0?int h:flags.0?int thumb:flags.1?PhotoSize video_duration:flags.2?int = MessageExtendedMedia;\nmessageExtendedMedia#ee479c64 media:MessageMedia = MessageExtendedMedia;\nstickerKeyword#fcfeb29c document_id:long keyword:Vector<string> = StickerKeyword;\nusername#b4073647 flags:# editable:flags.0?true active:flags.1?true username:string = Username;\nforumTopicDeleted#23f109b id:int = ForumTopic;\nforumTopic#cdff0eca flags:# my:flags.1?true closed:flags.2?true pinned:flags.3?true short:flags.5?true hidden:flags.6?true title_missing:flags.7?true id:int date:int peer:Peer title:string icon_color:int icon_emoji_id:flags.0?long top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int from_id:Peer notify_settings:PeerNotifySettings draft:flags.4?DraftMessage = ForumTopic;\nmessages.forumTopics#367617d3 flags:# order_by_create_date:flags.0?true count:int topics:Vector<ForumTopic> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> pts:int = messages.ForumTopics;\ndefaultHistoryTTL#43b46b20 period:int = DefaultHistoryTTL;\nexportedContactToken#41bf109b url:string expires:int = ExportedContactToken;\nrequestPeerTypeUser#5f3b8a00 flags:# bot:flags.0?Bool premium:flags.1?Bool = RequestPeerType;\nrequestPeerTypeChat#c9f06e1b flags:# creator:flags.0?true bot_participant:flags.5?true has_username:flags.3?Bool forum:flags.4?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;\nrequestPeerTypeBroadcast#339bef6c flags:# creator:flags.0?true has_username:flags.3?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;\nemojiListNotModified#481eadfa = EmojiList;\nemojiList#7a1e11d1 hash:long document_id:Vector<long> = EmojiList;\nemojiGroup#7a9abda9 title:string icon_emoji_id:long emoticons:Vector<string> = EmojiGroup;\nemojiGroupGreeting#80d26cc7 title:string icon_emoji_id:long emoticons:Vector<string> = EmojiGroup;\nemojiGroupPremium#93bcf34 title:string icon_emoji_id:long = EmojiGroup;\nmessages.emojiGroupsNotModified#6fb4ad87 = messages.EmojiGroups;\nmessages.emojiGroups#881fb94b hash:int groups:Vector<EmojiGroup> = messages.EmojiGroups;\ntextWithEntities#751f3146 text:string entities:Vector<MessageEntity> = TextWithEntities;\nmessages.translateResult#33db32f8 result:Vector<TextWithEntities> = messages.TranslatedText;\nautoSaveSettings#c84834ce flags:# photos:flags.0?true videos:flags.1?true video_max_size:flags.2?long = AutoSaveSettings;\nautoSaveException#81602d47 peer:Peer settings:AutoSaveSettings = AutoSaveException;\naccount.autoSaveSettings#4c3e069d users_settings:AutoSaveSettings chats_settings:AutoSaveSettings broadcasts_settings:AutoSaveSettings exceptions:Vector<AutoSaveException> chats:Vector<Chat> users:Vector<User> = account.AutoSaveSettings;\nhelp.appConfigNotModified#7cde641d = help.AppConfig;\nhelp.appConfig#dd18782e hash:int config:JSONValue = help.AppConfig;\ninputBotAppID#a920bd7a id:long access_hash:long = InputBotApp;\ninputBotAppShortName#908c0407 bot_id:InputUser short_name:string = InputBotApp;\nbotAppNotModified#5da674b7 = BotApp;\nbotApp#95fcd1d6 flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document hash:long = BotApp;\nmessages.botApp#eb50adf5 flags:# inactive:flags.0?true request_write_access:flags.1?true has_settings:flags.2?true app:BotApp = messages.BotApp;\ninlineBotWebView#b57295d5 text:string url:string = InlineBotWebView;\nreadParticipantDate#4a4ff172 user_id:long date:int = ReadParticipantDate;\ninputChatlistDialogFilter#f3e0da33 filter_id:int = InputChatlist;\nexportedChatlistInvite#c5181ac flags:# title:string url:string peers:Vector<Peer> = ExportedChatlistInvite;\nchatlists.exportedChatlistInvite#10e6e3a6 filter:DialogFilter invite:ExportedChatlistInvite = chatlists.ExportedChatlistInvite;\nchatlists.exportedInvites#10ab6dc7 invites:Vector<ExportedChatlistInvite> chats:Vector<Chat> users:Vector<User> = chatlists.ExportedInvites;\nchatlists.chatlistInviteAlready#fa87f659 filter_id:int missing_peers:Vector<Peer> already_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;\nchatlists.chatlistInvite#f10ece2f flags:# title_noanimate:flags.1?true title:TextWithEntities emoticon:flags.0?string peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;\nchatlists.chatlistUpdates#93bd878d missing_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistUpdates;\nbots.botInfo#e8a775b0 name:string about:string description:string = bots.BotInfo;\nmessagePeerVote#b6cc2d5c peer:Peer option:bytes date:int = MessagePeerVote;\nmessagePeerVoteInputOption#74cda504 peer:Peer date:int = MessagePeerVote;\nmessagePeerVoteMultiple#4628f6e6 peer:Peer options:Vector<bytes> date:int = MessagePeerVote;\nstoryViews#8d595cd6 flags:# has_viewers:flags.1?true views_count:int forwards_count:flags.2?int reactions:flags.3?Vector<ReactionCount> reactions_count:flags.4?int recent_viewers:flags.0?Vector<long> = StoryViews;\nstoryItemDeleted#51e6ee4f id:int = StoryItem;\nstoryItemSkipped#ffadc913 flags:# close_friends:flags.8?true live:flags.9?true id:int date:int expire_date:int = StoryItem;\nstoryItem#edf164f1 flags:# pinned:flags.5?true public:flags.7?true close_friends:flags.8?true min:flags.9?true noforwards:flags.10?true edited:flags.11?true contacts:flags.12?true selected_contacts:flags.13?true out:flags.16?true id:int date:int from_id:flags.18?Peer fwd_from:flags.17?StoryFwdHeader expire_date:int caption:flags.0?string entities:flags.1?Vector<MessageEntity> media:MessageMedia media_areas:flags.14?Vector<MediaArea> privacy:flags.2?Vector<PrivacyRule> views:flags.3?StoryViews sent_reaction:flags.15?Reaction albums:flags.19?Vector<int> = StoryItem;\nstories.allStoriesNotModified#1158fe3e flags:# state:string stealth_mode:StoriesStealthMode = stories.AllStories;\nstories.allStories#6efc5e81 flags:# has_more:flags.0?true count:int state:string peer_stories:Vector<PeerStories> chats:Vector<Chat> users:Vector<User> stealth_mode:StoriesStealthMode = stories.AllStories;\nstories.stories#63c3dd0a flags:# count:int stories:Vector<StoryItem> pinned_to_top:flags.0?Vector<int> chats:Vector<Chat> users:Vector<User> = stories.Stories;\nstoryView#b0bdeac5 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true user_id:long date:int reaction:flags.2?Reaction = StoryView;\nstoryViewPublicForward#9083670b flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true message:Message = StoryView;\nstoryViewPublicRepost#bd74cf49 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true peer_id:Peer story:StoryItem = StoryView;\nstories.storyViewsList#59d78fc5 flags:# count:int views_count:int forwards_count:int reactions_count:int views:Vector<StoryView> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = stories.StoryViewsList;\nstories.storyViews#de9eed1d views:Vector<StoryViews> users:Vector<User> = stories.StoryViews;\ninputReplyToMessage#869fbe10 flags:# reply_to_msg_id:int top_msg_id:flags.0?int reply_to_peer_id:flags.1?InputPeer quote_text:flags.2?string quote_entities:flags.3?Vector<MessageEntity> quote_offset:flags.4?int monoforum_peer_id:flags.5?InputPeer todo_item_id:flags.6?int = InputReplyTo;\ninputReplyToStory#5881323a peer:InputPeer story_id:int = InputReplyTo;\ninputReplyToMonoForum#69d66c45 monoforum_peer_id:InputPeer = InputReplyTo;\nexportedStoryLink#3fc9053b link:string = ExportedStoryLink;\nstoriesStealthMode#712e27fd flags:# active_until_date:flags.0?int cooldown_until_date:flags.1?int = StoriesStealthMode;\nmediaAreaCoordinates#cfc9e002 flags:# x:double y:double w:double h:double rotation:double radius:flags.0?double = MediaAreaCoordinates;\nmediaAreaVenue#be82db9c coordinates:MediaAreaCoordinates geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MediaArea;\ninputMediaAreaVenue#b282217f coordinates:MediaAreaCoordinates query_id:long result_id:string = MediaArea;\nmediaAreaGeoPoint#cad5452d flags:# coordinates:MediaAreaCoordinates geo:GeoPoint address:flags.0?GeoPointAddress = MediaArea;\nmediaAreaSuggestedReaction#14455871 flags:# dark:flags.0?true flipped:flags.1?true coordinates:MediaAreaCoordinates reaction:Reaction = MediaArea;\nmediaAreaChannelPost#770416af coordinates:MediaAreaCoordinates channel_id:long msg_id:int = MediaArea;\ninputMediaAreaChannelPost#2271f2bf coordinates:MediaAreaCoordinates channel:InputChannel msg_id:int = MediaArea;\nmediaAreaUrl#37381085 coordinates:MediaAreaCoordinates url:string = MediaArea;\nmediaAreaWeather#49a6549c coordinates:MediaAreaCoordinates emoji:string temperature_c:double color:int = MediaArea;\nmediaAreaStarGift#5787686d coordinates:MediaAreaCoordinates slug:string = MediaArea;\npeerStories#9a35e999 flags:# peer:Peer max_read_id:flags.0?int stories:Vector<StoryItem> = PeerStories;\nstories.peerStories#cae68768 stories:PeerStories chats:Vector<Chat> users:Vector<User> = stories.PeerStories;\nmessages.webPage#fd5e12bd webpage:WebPage chats:Vector<Chat> users:Vector<User> = messages.WebPage;\npremiumGiftCodeOption#257e962b flags:# users:int months:int store_product:flags.0?string store_quantity:flags.1?int currency:string amount:long = PremiumGiftCodeOption;\npayments.checkedGiftCode#eb983f8f flags:# via_giveaway:flags.2?true from_id:flags.4?Peer giveaway_msg_id:flags.3?int to_id:flags.0?long date:int days:int used_date:flags.1?int chats:Vector<Chat> users:Vector<User> = payments.CheckedGiftCode;\npayments.giveawayInfo#4367daa0 flags:# participating:flags.0?true preparing_results:flags.3?true start_date:int joined_too_early_date:flags.1?int admin_disallowed_chat_id:flags.2?long disallowed_country:flags.4?string = payments.GiveawayInfo;\npayments.giveawayInfoResults#e175e66f flags:# winner:flags.0?true refunded:flags.1?true start_date:int gift_code_slug:flags.3?string stars_prize:flags.4?long finish_date:int winners_count:int activated_count:flags.2?int = payments.GiveawayInfo;\nprepaidGiveaway#b2539d54 id:long months:int quantity:int date:int = PrepaidGiveaway;\nprepaidStarsGiveaway#9a9d77e0 id:long stars:long quantity:int boosts:int date:int = PrepaidGiveaway;\nboost#4b3e14d6 flags:# gift:flags.1?true giveaway:flags.2?true unclaimed:flags.3?true id:string user_id:flags.0?long giveaway_msg_id:flags.2?int date:int expires:int used_gift_slug:flags.4?string multiplier:flags.5?int stars:flags.6?long = Boost;\npremium.boostsList#86f8613c flags:# count:int boosts:Vector<Boost> next_offset:flags.0?string users:Vector<User> = premium.BoostsList;\nmyBoost#c448415c flags:# slot:int peer:flags.0?Peer date:int expires:int cooldown_until_date:flags.1?int = MyBoost;\npremium.myBoosts#9ae228e2 my_boosts:Vector<MyBoost> chats:Vector<Chat> users:Vector<User> = premium.MyBoosts;\npremium.boostsStatus#4959427a flags:# my_boost:flags.2?true level:int current_level_boosts:int boosts:int gift_boosts:flags.4?int next_level_boosts:flags.0?int premium_audience:flags.1?StatsPercentValue boost_url:string prepaid_giveaways:flags.3?Vector<PrepaidGiveaway> my_boost_slots:flags.2?Vector<int> = premium.BoostsStatus;\nstoryFwdHeader#b826e150 flags:# modified:flags.3?true from:flags.0?Peer from_name:flags.1?string story_id:flags.2?int = StoryFwdHeader;\npostInteractionCountersMessage#e7058e7f msg_id:int views:int forwards:int reactions:int = PostInteractionCounters;\npostInteractionCountersStory#8a480e27 story_id:int views:int forwards:int reactions:int = PostInteractionCounters;\nstats.storyStats#50cd067c views_graph:StatsGraph reactions_by_emotion_graph:StatsGraph = stats.StoryStats;\npublicForwardMessage#1f2bf4a message:Message = PublicForward;\npublicForwardStory#edf3add0 peer:Peer story:StoryItem = PublicForward;\nstats.publicForwards#93037e20 flags:# count:int forwards:Vector<PublicForward> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = stats.PublicForwards;\npeerColor#b54b5acf flags:# color:flags.0?int background_emoji_id:flags.1?long = PeerColor;\npeerColorCollectible#b9c0639a flags:# collectible_id:long gift_emoji_id:long background_emoji_id:long accent_color:int colors:Vector<int> dark_accent_color:flags.0?int dark_colors:flags.1?Vector<int> = PeerColor;\ninputPeerColorCollectible#b8ea86a9 collectible_id:long = PeerColor;\nhelp.peerColorSet#26219a58 colors:Vector<int> = help.PeerColorSet;\nhelp.peerColorProfileSet#767d61eb palette_colors:Vector<int> bg_colors:Vector<int> story_colors:Vector<int> = help.PeerColorSet;\nhelp.peerColorOption#adec6ebe flags:# hidden:flags.0?true color_id:int colors:flags.1?help.PeerColorSet dark_colors:flags.2?help.PeerColorSet channel_min_level:flags.3?int group_min_level:flags.4?int = help.PeerColorOption;\nhelp.peerColorsNotModified#2ba1f5ce = help.PeerColors;\nhelp.peerColors#f8ed08 hash:int colors:Vector<help.PeerColorOption> = help.PeerColors;\nstoryReaction#6090d6d5 peer_id:Peer date:int reaction:Reaction = StoryReaction;\nstoryReactionPublicForward#bbab2643 message:Message = StoryReaction;\nstoryReactionPublicRepost#cfcd0f13 peer_id:Peer story:StoryItem = StoryReaction;\nstories.storyReactionsList#aa5f789c flags:# count:int reactions:Vector<StoryReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = stories.StoryReactionsList;\nsavedDialog#bd87cb6c flags:# pinned:flags.2?true peer:Peer top_message:int = SavedDialog;\nmonoForumDialog#64407ea7 flags:# unread_mark:flags.3?true nopaid_messages_exception:flags.4?true peer:Peer top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_reactions_count:int draft:flags.1?DraftMessage = SavedDialog;\nmessages.savedDialogs#f83ae221 dialogs:Vector<SavedDialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SavedDialogs;\nmessages.savedDialogsSlice#44ba9dd9 count:int dialogs:Vector<SavedDialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SavedDialogs;\nmessages.savedDialogsNotModified#c01f6fe8 count:int = messages.SavedDialogs;\nsavedReactionTag#cb6ff828 flags:# reaction:Reaction title:flags.0?string count:int = SavedReactionTag;\nmessages.savedReactionTagsNotModified#889b59ef = messages.SavedReactionTags;\nmessages.savedReactionTags#3259950a tags:Vector<SavedReactionTag> hash:long = messages.SavedReactionTags;\noutboxReadDate#3bb842ac date:int = OutboxReadDate;\nsmsjobs.eligibleToJoin#dc8b44cf terms_url:string monthly_sent_sms:int = smsjobs.EligibilityToJoin;\nsmsjobs.status#2aee9191 flags:# allow_international:flags.0?true recent_sent:int recent_since:int recent_remains:int total_sent:int total_since:int last_gift_slug:flags.1?string terms_url:string = smsjobs.Status;\nsmsJob#e6a1eeb8 job_id:string phone_number:string text:string = SmsJob;\nbusinessWeeklyOpen#120b1ab9 start_minute:int end_minute:int = BusinessWeeklyOpen;\nbusinessWorkHours#8c92b098 flags:# open_now:flags.0?true timezone_id:string weekly_open:Vector<BusinessWeeklyOpen> = BusinessWorkHours;\nbusinessLocation#ac5c1af7 flags:# geo_point:flags.0?GeoPoint address:string = BusinessLocation;\ninputBusinessRecipients#6f8b32aa flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<InputUser> = InputBusinessRecipients;\nbusinessRecipients#21108ff7 flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<long> = BusinessRecipients;\nbusinessAwayMessageScheduleAlways#c9b9e2b9 = BusinessAwayMessageSchedule;\nbusinessAwayMessageScheduleOutsideWorkHours#c3f2f501 = BusinessAwayMessageSchedule;\nbusinessAwayMessageScheduleCustom#cc4d9ecc start_date:int end_date:int = BusinessAwayMessageSchedule;\ninputBusinessGreetingMessage#194cb3b shortcut_id:int recipients:InputBusinessRecipients no_activity_days:int = InputBusinessGreetingMessage;\nbusinessGreetingMessage#e519abab shortcut_id:int recipients:BusinessRecipients no_activity_days:int = BusinessGreetingMessage;\ninputBusinessAwayMessage#832175e0 flags:# offline_only:flags.0?true shortcut_id:int schedule:BusinessAwayMessageSchedule recipients:InputBusinessRecipients = InputBusinessAwayMessage;\nbusinessAwayMessage#ef156a5c flags:# offline_only:flags.0?true shortcut_id:int schedule:BusinessAwayMessageSchedule recipients:BusinessRecipients = BusinessAwayMessage;\ntimezone#ff9289f5 id:string name:string utc_offset:int = Timezone;\nhelp.timezonesListNotModified#970708cc = help.TimezonesList;\nhelp.timezonesList#7b74ed71 timezones:Vector<Timezone> hash:int = help.TimezonesList;\nquickReply#697102b shortcut_id:int shortcut:string top_message:int count:int = QuickReply;\ninputQuickReplyShortcut#24596d41 shortcut:string = InputQuickReplyShortcut;\ninputQuickReplyShortcutId#1190cf1 shortcut_id:int = InputQuickReplyShortcut;\nmessages.quickReplies#c68d6695 quick_replies:Vector<QuickReply> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.QuickReplies;\nmessages.quickRepliesNotModified#5f91eb5b = messages.QuickReplies;\nconnectedBot#cd64636c flags:# bot_id:long recipients:BusinessBotRecipients rights:BusinessBotRights = ConnectedBot;\naccount.connectedBots#17d7f87b connected_bots:Vector<ConnectedBot> users:Vector<User> = account.ConnectedBots;\nmessages.dialogFilters#2ad93719 flags:# tags_enabled:flags.0?true filters:Vector<DialogFilter> = messages.DialogFilters;\nbirthday#6c8e1e06 flags:# day:int month:int year:flags.0?int = Birthday;\nbotBusinessConnection#8f34b2f5 flags:# disabled:flags.1?true connection_id:string user_id:long dc_id:int date:int rights:flags.2?BusinessBotRights = BotBusinessConnection;\ninputBusinessIntro#9c469cd flags:# title:string description:string sticker:flags.0?InputDocument = InputBusinessIntro;\nbusinessIntro#5a0a066d flags:# title:string description:string sticker:flags.0?Document = BusinessIntro;\nmessages.myStickers#faff629d count:int sets:Vector<StickerSetCovered> = messages.MyStickers;\ninputCollectibleUsername#e39460a9 username:string = InputCollectible;\ninputCollectiblePhone#a2e214a4 phone:string = InputCollectible;\nfragment.collectibleInfo#6ebdff91 purchase_date:int currency:string amount:long crypto_currency:string crypto_amount:long url:string = fragment.CollectibleInfo;\ninputBusinessBotRecipients#c4e5921e flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<InputUser> exclude_users:flags.6?Vector<InputUser> = InputBusinessBotRecipients;\nbusinessBotRecipients#b88cf373 flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<long> exclude_users:flags.6?Vector<long> = BusinessBotRecipients;\ncontactBirthday#1d998733 contact_id:long birthday:Birthday = ContactBirthday;\ncontacts.contactBirthdays#114ff30d contacts:Vector<ContactBirthday> users:Vector<User> = contacts.ContactBirthdays;\nmissingInvitee#628c9224 flags:# premium_would_allow_invite:flags.0?true premium_required_for_pm:flags.1?true user_id:long = MissingInvitee;\nmessages.invitedUsers#7f5defa6 updates:Updates missing_invitees:Vector<MissingInvitee> = messages.InvitedUsers;\ninputBusinessChatLink#11679fa7 flags:# message:string entities:flags.0?Vector<MessageEntity> title:flags.1?string = InputBusinessChatLink;\nbusinessChatLink#b4ae666f flags:# link:string message:string entities:flags.0?Vector<MessageEntity> title:flags.1?string views:int = BusinessChatLink;\naccount.businessChatLinks#ec43a2d1 links:Vector<BusinessChatLink> chats:Vector<Chat> users:Vector<User> = account.BusinessChatLinks;\naccount.resolvedBusinessChatLinks#9a23af21 flags:# peer:Peer message:string entities:flags.0?Vector<MessageEntity> chats:Vector<Chat> users:Vector<User> = account.ResolvedBusinessChatLinks;\nrequestedPeerUser#d62ff46a flags:# user_id:long first_name:flags.0?string last_name:flags.0?string username:flags.1?string photo:flags.2?Photo = RequestedPeer;\nrequestedPeerChat#7307544f flags:# chat_id:long title:flags.0?string photo:flags.2?Photo = RequestedPeer;\nrequestedPeerChannel#8ba403e4 flags:# channel_id:long title:flags.0?string username:flags.1?string photo:flags.2?Photo = RequestedPeer;\nsponsoredMessageReportOption#430d3150 text:string option:bytes = SponsoredMessageReportOption;\nchannels.sponsoredMessageReportResultChooseOption#846f9e42 title:string options:Vector<SponsoredMessageReportOption> = channels.SponsoredMessageReportResult;\nchannels.sponsoredMessageReportResultAdsHidden#3e3bcf2f = channels.SponsoredMessageReportResult;\nchannels.sponsoredMessageReportResultReported#ad798849 = channels.SponsoredMessageReportResult;\nreactionNotificationsFromContacts#bac3a61a = ReactionNotificationsFrom;\nreactionNotificationsFromAll#4b9e22a0 = ReactionNotificationsFrom;\nreactionsNotifySettings#56e34970 flags:# messages_notify_from:flags.0?ReactionNotificationsFrom stories_notify_from:flags.1?ReactionNotificationsFrom sound:NotificationSound show_previews:Bool = ReactionsNotifySettings;\navailableEffect#93c3e27e flags:# premium_required:flags.2?true id:long emoticon:string static_icon_id:flags.0?long effect_sticker_id:long effect_animation_id:flags.1?long = AvailableEffect;\nmessages.availableEffectsNotModified#d1ed9a5b = messages.AvailableEffects;\nmessages.availableEffects#bddb616e hash:int effects:Vector<AvailableEffect> documents:Vector<Document> = messages.AvailableEffects;\nfactCheck#b89bfccf flags:# need_check:flags.0?true country:flags.1?string text:flags.1?TextWithEntities hash:long = FactCheck;\nstarsTransactionPeerUnsupported#95f2bfe4 = StarsTransactionPeer;\nstarsTransactionPeerAppStore#b457b375 = StarsTransactionPeer;\nstarsTransactionPeerPlayMarket#7b560a0b = StarsTransactionPeer;\nstarsTransactionPeerPremiumBot#250dbaf8 = StarsTransactionPeer;\nstarsTransactionPeerFragment#e92fd902 = StarsTransactionPeer;\nstarsTransactionPeer#d80da15d peer:Peer = StarsTransactionPeer;\nstarsTransactionPeerAds#60682812 = StarsTransactionPeer;\nstarsTransactionPeerAPI#f9677aad = StarsTransactionPeer;\nstarsTopupOption#bd915c0 flags:# extended:flags.1?true stars:long store_product:flags.0?string currency:string amount:long = StarsTopupOption;\nstarsTransaction#13659eb0 flags:# refund:flags.3?true pending:flags.4?true failed:flags.6?true gift:flags.10?true reaction:flags.11?true stargift_upgrade:flags.18?true business_transfer:flags.21?true stargift_resale:flags.22?true posts_search:flags.24?true stargift_prepaid_upgrade:flags.25?true stargift_drop_original_details:flags.26?true phonegroup_message:flags.27?true stargift_auction_bid:flags.28?true offer:flags.29?true id:string amount:StarsAmount date:int peer:StarsTransactionPeer title:flags.0?string description:flags.1?string photo:flags.2?WebDocument transaction_date:flags.5?int transaction_url:flags.5?string bot_payload:flags.7?bytes msg_id:flags.8?int extended_media:flags.9?Vector<MessageMedia> subscription_period:flags.12?int giveaway_post_id:flags.13?int stargift:flags.14?StarGift floodskip_number:flags.15?int starref_commission_permille:flags.16?int starref_peer:flags.17?Peer starref_amount:flags.17?StarsAmount paid_messages:flags.19?int premium_gift_months:flags.20?int ads_proceeds_from_date:flags.23?int ads_proceeds_to_date:flags.23?int = StarsTransaction;\npayments.starsStatus#6c9ce8ed flags:# balance:StarsAmount subscriptions:flags.1?Vector<StarsSubscription> subscriptions_next_offset:flags.2?string subscriptions_missing_balance:flags.4?long history:flags.3?Vector<StarsTransaction> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = payments.StarsStatus;\nfoundStory#e87acbc0 peer:Peer story:StoryItem = FoundStory;\nstories.foundStories#e2de7737 flags:# count:int stories:Vector<FoundStory> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = stories.FoundStories;\ngeoPointAddress#de4c5d93 flags:# country_iso2:string state:flags.0?string city:flags.1?string street:flags.2?string = GeoPointAddress;\nstarsRevenueStatus#febe5491 flags:# withdrawal_enabled:flags.0?true current_balance:StarsAmount available_balance:StarsAmount overall_revenue:StarsAmount next_withdrawal_at:flags.1?int = StarsRevenueStatus;\npayments.starsRevenueStats#6c207376 flags:# top_hours_graph:flags.0?StatsGraph revenue_graph:StatsGraph status:StarsRevenueStatus usd_rate:double = payments.StarsRevenueStats;\npayments.starsRevenueWithdrawalUrl#1dab80b7 url:string = payments.StarsRevenueWithdrawalUrl;\npayments.starsRevenueAdsAccountUrl#394e7f21 url:string = payments.StarsRevenueAdsAccountUrl;\ninputStarsTransaction#206ae6d1 flags:# refund:flags.0?true id:string = InputStarsTransaction;\nstarsGiftOption#5e0589f1 flags:# extended:flags.1?true stars:long store_product:flags.0?string currency:string amount:long = StarsGiftOption;\nbots.popularAppBots#1991b13b flags:# next_offset:flags.0?string users:Vector<User> = bots.PopularAppBots;\nbotPreviewMedia#23e91ba3 date:int media:MessageMedia = BotPreviewMedia;\nbots.previewInfo#ca71d64 media:Vector<BotPreviewMedia> lang_codes:Vector<string> = bots.PreviewInfo;\nstarsSubscriptionPricing#5416d58 period:int amount:long = StarsSubscriptionPricing;\nstarsSubscription#2e6eab1a flags:# canceled:flags.0?true can_refulfill:flags.1?true missing_balance:flags.2?true bot_canceled:flags.7?true id:string peer:Peer until_date:int pricing:StarsSubscriptionPricing chat_invite_hash:flags.3?string title:flags.4?string photo:flags.5?WebDocument invoice_slug:flags.6?string = StarsSubscription;\nmessageReactor#4ba3a95a flags:# top:flags.0?true my:flags.1?true anonymous:flags.2?true peer_id:flags.3?Peer count:int = MessageReactor;\nstarsGiveawayOption#94ce852a flags:# extended:flags.0?true default:flags.1?true stars:long yearly_boosts:int store_product:flags.2?string currency:string amount:long winners:Vector<StarsGiveawayWinnersOption> = StarsGiveawayOption;\nstarsGiveawayWinnersOption#54236209 flags:# default:flags.0?true users:int per_user_stars:long = StarsGiveawayWinnersOption;\nstarGift#313a9547 flags:# limited:flags.0?true sold_out:flags.1?true birthday:flags.2?true require_premium:flags.7?true limited_per_user:flags.8?true peer_color_available:flags.10?true auction:flags.11?true id:long sticker:Document stars:long availability_remains:flags.0?int availability_total:flags.0?int availability_resale:flags.4?long convert_stars:long first_sale_date:flags.1?int last_sale_date:flags.1?int upgrade_stars:flags.3?long resell_min_stars:flags.4?long title:flags.5?string released_by:flags.6?Peer per_user_total:flags.8?int per_user_remains:flags.8?int locked_until_date:flags.9?int auction_slug:flags.11?string gifts_per_round:flags.11?int auction_start_date:flags.11?int upgrade_variants:flags.12?int background:flags.13?StarGiftBackground = StarGift;\nstarGiftUnique#569d64c9 flags:# require_premium:flags.6?true resale_ton_only:flags.7?true theme_available:flags.9?true id:long gift_id:long title:string slug:string num:int owner_id:flags.0?Peer owner_name:flags.1?string owner_address:flags.2?string attributes:Vector<StarGiftAttribute> availability_issued:int availability_total:int gift_address:flags.3?string resell_amount:flags.4?Vector<StarsAmount> released_by:flags.5?Peer value_amount:flags.8?long value_currency:flags.8?string value_usd_amount:flags.8?long theme_peer:flags.10?Peer peer_color:flags.11?PeerColor host_id:flags.12?Peer offer_min_stars:flags.13?int = StarGift;\npayments.starGiftsNotModified#a388a368 = payments.StarGifts;\npayments.starGifts#2ed82995 hash:int gifts:Vector<StarGift> chats:Vector<Chat> users:Vector<User> = payments.StarGifts;\nmessageReportOption#7903e3d9 text:string option:bytes = MessageReportOption;\nreportResultChooseOption#f0e4e0b6 title:string options:Vector<MessageReportOption> = ReportResult;\nreportResultAddComment#6f09ac31 flags:# optional:flags.0?true option:bytes = ReportResult;\nreportResultReported#8db33c4b = ReportResult;\nmessages.botPreparedInlineMessage#8ecf0511 id:string expire_date:int = messages.BotPreparedInlineMessage;\nmessages.preparedInlineMessage#ff57708d query_id:long result:BotInlineResult peer_types:Vector<InlineQueryPeerType> cache_time:int users:Vector<User> = messages.PreparedInlineMessage;\nbotAppSettings#c99b1950 flags:# placeholder_path:flags.0?bytes background_color:flags.1?int background_dark_color:flags.2?int header_color:flags.3?int header_dark_color:flags.4?int = BotAppSettings;\nstarRefProgram#dd0c66f2 flags:# bot_id:long commission_permille:int duration_months:flags.0?int end_date:flags.1?int daily_revenue_per_user:flags.2?StarsAmount = StarRefProgram;\nconnectedBotStarRef#19a13f71 flags:# revoked:flags.1?true url:string date:int bot_id:long commission_permille:int duration_months:flags.0?int participants:long revenue:long = ConnectedBotStarRef;\npayments.connectedStarRefBots#98d5ea1d count:int connected_bots:Vector<ConnectedBotStarRef> users:Vector<User> = payments.ConnectedStarRefBots;\npayments.suggestedStarRefBots#b4d5d859 flags:# count:int suggested_bots:Vector<StarRefProgram> users:Vector<User> next_offset:flags.0?string = payments.SuggestedStarRefBots;\nstarsAmount#bbb6b4a3 amount:long nanos:int = StarsAmount;\nstarsTonAmount#74aee3e0 amount:long = StarsAmount;\nmessages.foundStickersNotModified#6010c534 flags:# next_offset:flags.0?int = messages.FoundStickers;\nmessages.foundStickers#82c9e290 flags:# next_offset:flags.0?int hash:long stickers:Vector<Document> = messages.FoundStickers;\nbotVerifierSettings#b0cd6617 flags:# can_modify_custom_description:flags.1?true icon:long company:string custom_description:flags.0?string = BotVerifierSettings;\nbotVerification#f93cd45c bot_id:long icon:long description:string = BotVerification;\nstarGiftAttributeModel#39d99013 name:string document:Document rarity_permille:int = StarGiftAttribute;\nstarGiftAttributePattern#13acff19 name:string document:Document rarity_permille:int = StarGiftAttribute;\nstarGiftAttributeBackdrop#d93d859c name:string backdrop_id:int center_color:int edge_color:int pattern_color:int text_color:int rarity_permille:int = StarGiftAttribute;\nstarGiftAttributeOriginalDetails#e0bff26c flags:# sender_id:flags.0?Peer recipient_id:Peer date:int message:flags.1?TextWithEntities = StarGiftAttribute;\npayments.starGiftUpgradePreview#3de1dfed sample_attributes:Vector<StarGiftAttribute> prices:Vector<StarGiftUpgradePrice> next_prices:Vector<StarGiftUpgradePrice> = payments.StarGiftUpgradePreview;\nusers.users#62d706b8 users:Vector<User> = users.Users;\nusers.usersSlice#315a4974 count:int users:Vector<User> = users.Users;\npayments.uniqueStarGift#416c56e8 gift:StarGift chats:Vector<Chat> users:Vector<User> = payments.UniqueStarGift;\nmessages.webPagePreview#8c9a88ac media:MessageMedia chats:Vector<Chat> users:Vector<User> = messages.WebPagePreview;\nsavedStarGift#ead6805e flags:# name_hidden:flags.0?true unsaved:flags.5?true refunded:flags.9?true can_upgrade:flags.10?true pinned_to_top:flags.12?true upgrade_separate:flags.17?true from_id:flags.1?Peer date:int gift:StarGift message:flags.2?TextWithEntities msg_id:flags.3?int saved_id:flags.11?long convert_stars:flags.4?long upgrade_stars:flags.6?long can_export_at:flags.7?int transfer_stars:flags.8?long can_transfer_at:flags.13?int can_resell_at:flags.14?int collection_id:flags.15?Vector<int> prepaid_upgrade_hash:flags.16?string drop_original_details_stars:flags.18?long gift_num:flags.19?int = SavedStarGift;\npayments.savedStarGifts#95f389b1 flags:# count:int chat_notifications_enabled:flags.1?Bool gifts:Vector<SavedStarGift> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = payments.SavedStarGifts;\ninputSavedStarGiftUser#69279795 msg_id:int = InputSavedStarGift;\ninputSavedStarGiftChat#f101aa7f peer:InputPeer saved_id:long = InputSavedStarGift;\ninputSavedStarGiftSlug#2085c238 slug:string = InputSavedStarGift;\npayments.starGiftWithdrawalUrl#84aa3a9c url:string = payments.StarGiftWithdrawalUrl;\npaidReactionPrivacyDefault#206ad49e = PaidReactionPrivacy;\npaidReactionPrivacyAnonymous#1f0c1ad9 = PaidReactionPrivacy;\npaidReactionPrivacyPeer#dc6cfcf0 peer:InputPeer = PaidReactionPrivacy;\naccount.paidMessagesRevenue#1e109708 stars_amount:long = account.PaidMessagesRevenue;\nrequirementToContactEmpty#50a9839 = RequirementToContact;\nrequirementToContactPremium#e581e4e9 = RequirementToContact;\nrequirementToContactPaidMessages#b4f67e93 stars_amount:long = RequirementToContact;\nbusinessBotRights#a0624cf7 flags:# reply:flags.0?true read_messages:flags.1?true delete_sent_messages:flags.2?true delete_received_messages:flags.3?true edit_name:flags.4?true edit_bio:flags.5?true edit_profile_photo:flags.6?true edit_username:flags.7?true view_gifts:flags.8?true sell_gifts:flags.9?true change_gift_settings:flags.10?true transfer_and_upgrade_gifts:flags.11?true transfer_stars:flags.12?true manage_stories:flags.13?true = BusinessBotRights;\ndisallowedGiftsSettings#71f276c4 flags:# disallow_unlimited_stargifts:flags.0?true disallow_limited_stargifts:flags.1?true disallow_unique_stargifts:flags.2?true disallow_premium_gifts:flags.3?true disallow_stargifts_from_channels:flags.4?true = DisallowedGiftsSettings;\nsponsoredPeer#c69708d3 flags:# random_id:bytes peer:Peer sponsor_info:flags.0?string additional_info:flags.1?string = SponsoredPeer;\ncontacts.sponsoredPeersEmpty#ea32b4b1 = contacts.SponsoredPeers;\ncontacts.sponsoredPeers#eb032884 peers:Vector<SponsoredPeer> chats:Vector<Chat> users:Vector<User> = contacts.SponsoredPeers;\nstarGiftAttributeIdModel#48aaae3c document_id:long = StarGiftAttributeId;\nstarGiftAttributeIdPattern#4a162433 document_id:long = StarGiftAttributeId;\nstarGiftAttributeIdBackdrop#1f01c757 backdrop_id:int = StarGiftAttributeId;\nstarGiftAttributeCounter#2eb1b658 attribute:StarGiftAttributeId count:int = StarGiftAttributeCounter;\npayments.resaleStarGifts#947a12df flags:# count:int gifts:Vector<StarGift> next_offset:flags.0?string attributes:flags.1?Vector<StarGiftAttribute> attributes_hash:flags.1?long chats:Vector<Chat> counters:flags.2?Vector<StarGiftAttributeCounter> users:Vector<User> = payments.ResaleStarGifts;\nstories.canSendStoryCount#c387c04e count_remains:int = stories.CanSendStoryCount;\npendingSuggestion#e7e82e12 suggestion:string title:TextWithEntities description:TextWithEntities url:string = PendingSuggestion;\ntodoItem#cba9a52f id:int title:TextWithEntities = TodoItem;\ntodoList#49b92a26 flags:# others_can_append:flags.0?true others_can_complete:flags.1?true title:TextWithEntities list:Vector<TodoItem> = TodoList;\ntodoCompletion#221bb5e4 id:int completed_by:Peer date:int = TodoCompletion;\nsuggestedPost#e8e37e5 flags:# accepted:flags.1?true rejected:flags.2?true price:flags.3?StarsAmount schedule_date:flags.0?int = SuggestedPost;\nstarsRating#1b0e4f07 flags:# level:int current_level_stars:long stars:long next_level_stars:flags.0?long = StarsRating;\nstarGiftCollection#9d6b13b0 flags:# collection_id:int title:string icon:flags.0?Document gifts_count:int hash:long = StarGiftCollection;\npayments.starGiftCollectionsNotModified#a0ba4f17 = payments.StarGiftCollections;\npayments.starGiftCollections#8a2932f3 collections:Vector<StarGiftCollection> = payments.StarGiftCollections;\nstoryAlbum#9325705a flags:# album_id:int title:string icon_photo:flags.0?Photo icon_video:flags.1?Document = StoryAlbum;\nstories.albumsNotModified#564edaeb = stories.Albums;\nstories.albums#c3987a3a hash:long albums:Vector<StoryAlbum> = stories.Albums;\nsearchPostsFlood#3e0b5b6a flags:# query_is_free:flags.0?true total_daily:int remains:int wait_till:flags.1?int stars_amount:long = SearchPostsFlood;\npayments.uniqueStarGiftValueInfo#512fe446 flags:# last_sale_on_fragment:flags.1?true value_is_average:flags.6?true currency:string value:long initial_sale_date:int initial_sale_stars:long initial_sale_price:long last_sale_date:flags.0?int last_sale_price:flags.0?long floor_price:flags.2?long average_price:flags.3?long listed_count:flags.4?int fragment_listed_count:flags.5?int fragment_listed_url:flags.5?string = payments.UniqueStarGiftValueInfo;\nprofileTabPosts#b98cd696 = ProfileTab;\nprofileTabGifts#4d4bd46a = ProfileTab;\nprofileTabMedia#72c64955 = ProfileTab;\nprofileTabFiles#ab339c00 = ProfileTab;\nprofileTabMusic#9f27d26e = ProfileTab;\nprofileTabVoice#e477092e = ProfileTab;\nprofileTabLinks#d3656499 = ProfileTab;\nprofileTabGifs#a2c0f695 = ProfileTab;\nusers.savedMusicNotModified#e3878aa4 count:int = users.SavedMusic;\nusers.savedMusic#34a2f297 count:int documents:Vector<Document> = users.SavedMusic;\naccount.savedMusicIdsNotModified#4fc81d6e = account.SavedMusicIds;\naccount.savedMusicIds#998d6636 ids:Vector<long> = account.SavedMusicIds;\npayments.checkCanSendGiftResultOk#374fa7ad = payments.CheckCanSendGiftResult;\npayments.checkCanSendGiftResultFail#d5e58274 reason:TextWithEntities = payments.CheckCanSendGiftResult;\ninputChatThemeEmpty#83268483 = InputChatTheme;\ninputChatTheme#c93de95c emoticon:string = InputChatTheme;\ninputChatThemeUniqueGift#87e5dfe4 slug:string = InputChatTheme;\nstarGiftUpgradePrice#99ea331d date:int upgrade_stars:long = StarGiftUpgradePrice;\ngroupCallMessage#1a8afc7e flags:# from_admin:flags.1?true id:int from_id:Peer date:int message:TextWithEntities paid_message_stars:flags.0?long = GroupCallMessage;\ngroupCallDonor#ee430c85 flags:# top:flags.0?true my:flags.1?true peer_id:flags.3?Peer stars:long = GroupCallDonor;\nphone.groupCallStars#9d1dbd26 total_stars:long top_donors:Vector<GroupCallDonor> chats:Vector<Chat> users:Vector<User> = phone.GroupCallStars;\nrecentStory#711d692d flags:# live:flags.0?true max_id:flags.1?int = RecentStory;\nauctionBidLevel#310240cc pos:int amount:long date:int = AuctionBidLevel;\nstarGiftAuctionStateNotModified#fe333952 = StarGiftAuctionState;\nstarGiftAuctionState#771a4e66 version:int start_date:int end_date:int min_bid_amount:long bid_levels:Vector<AuctionBidLevel> top_bidders:Vector<long> next_round_at:int last_gift_num:int gifts_left:int current_round:int total_rounds:int rounds:Vector<StarGiftAuctionRound> = StarGiftAuctionState;\nstarGiftAuctionStateFinished#972dabbf flags:# start_date:int end_date:int average_price:long listed_count:flags.0?int fragment_listed_count:flags.1?int fragment_listed_url:flags.1?string = StarGiftAuctionState;\nstarGiftAuctionUserState#2eeed1c4 flags:# returned:flags.1?true bid_amount:flags.0?long bid_date:flags.0?int min_bid_amount:flags.0?long bid_peer:flags.0?Peer acquired_count:int = StarGiftAuctionUserState;\npayments.starGiftAuctionState#6b39f4ec gift:StarGift state:StarGiftAuctionState user_state:StarGiftAuctionUserState timeout:int users:Vector<User> chats:Vector<Chat> = payments.StarGiftAuctionState;\nstarGiftAuctionAcquiredGift#42b00348 flags:# name_hidden:flags.0?true peer:Peer date:int bid_amount:long round:int pos:int message:flags.1?TextWithEntities gift_num:flags.2?int = StarGiftAuctionAcquiredGift;\npayments.starGiftAuctionAcquiredGifts#7d5bd1f0 gifts:Vector<StarGiftAuctionAcquiredGift> users:Vector<User> chats:Vector<Chat> = payments.StarGiftAuctionAcquiredGifts;\nstarGiftActiveAuctionState#d31bc45d gift:StarGift state:StarGiftAuctionState user_state:StarGiftAuctionUserState = StarGiftActiveAuctionState;\npayments.starGiftActiveAuctionsNotModified#db33dad0 = payments.StarGiftActiveAuctions;\npayments.starGiftActiveAuctions#aef6abbc auctions:Vector<StarGiftActiveAuctionState> users:Vector<User> chats:Vector<Chat> = payments.StarGiftActiveAuctions;\ninputStarGiftAuction#2e16c98 gift_id:long = InputStarGiftAuction;\ninputStarGiftAuctionSlug#7ab58308 slug:string = InputStarGiftAuction;\npasskey#98613ebf flags:# id:string name:string date:int software_emoji_id:flags.0?long last_usage_date:flags.1?int = Passkey;\naccount.passkeys#f8e0aa1c passkeys:Vector<Passkey> = account.Passkeys;\naccount.passkeyRegistrationOptions#e16b5ce1 options:DataJSON = account.PasskeyRegistrationOptions;\nauth.passkeyLoginOptions#e2037789 options:DataJSON = auth.PasskeyLoginOptions;\ninputPasskeyResponseRegister#3e63935c client_data:DataJSON attestation_data:bytes = InputPasskeyResponse;\ninputPasskeyResponseLogin#c31fc14a client_data:DataJSON authenticator_data:bytes signature:bytes user_handle:string = InputPasskeyResponse;\ninputPasskeyCredentialPublicKey#3c27b78f id:string raw_id:string response:InputPasskeyResponse = InputPasskeyCredential;\nstarGiftBackground#aff56398 center_color:int edge_color:int text_color:int = StarGiftBackground;\nstarGiftAuctionRound#3aae0528 num:int duration:int = StarGiftAuctionRound;\nstarGiftAuctionRoundExtendable#aa021e5 num:int duration:int extend_top:int extend_window:int = StarGiftAuctionRound;\npayments.starGiftUpgradeAttributes#46c6e36f attributes:Vector<StarGiftAttribute> = payments.StarGiftUpgradeAttributes;\n---functions---\ninvokeAfterMsg#cb9f372d {X:Type} msg_id:long query:!X = X;\ninitConnection#c1cd5ea9 {X:Type} flags:# api_id:int device_model:string system_version:string app_version:string system_lang_code:string lang_pack:string lang_code:string proxy:flags.0?InputClientProxy params:flags.1?JSONValue query:!X = X;\ninvokeWithLayer#da9b0d0d {X:Type} layer:int query:!X = X;\nauth.sendCode#a677244f phone_number:string api_id:int api_hash:string settings:CodeSettings = auth.SentCode;\nauth.signUp#aac7b717 flags:# no_joined_notifications:flags.0?true phone_number:string phone_code_hash:string first_name:string last_name:string = auth.Authorization;\nauth.signIn#8d52a951 flags:# phone_number:string phone_code_hash:string phone_code:flags.0?string email_verification:flags.1?EmailVerification = auth.Authorization;\nauth.logOut#3e72ba19 = auth.LoggedOut;\nauth.resetAuthorizations#9fab0d1a = Bool;\nauth.exportAuthorization#e5bfffcd dc_id:int = auth.ExportedAuthorization;\nauth.importAuthorization#a57a7dad id:long bytes:bytes = auth.Authorization;\nauth.bindTempAuthKey#cdd42a05 perm_auth_key_id:long nonce:long expires_at:int encrypted_message:bytes = Bool;\nauth.checkPassword#d18b4d16 password:InputCheckPasswordSRP = auth.Authorization;\nauth.requestPasswordRecovery#d897bc66 = auth.PasswordRecovery;\nauth.resendCode#cae47523 flags:# phone_number:string phone_code_hash:string reason:flags.0?string = auth.SentCode;\nauth.cancelCode#1f040578 phone_number:string phone_code_hash:string = Bool;\nauth.dropTempAuthKeys#8e48a188 except_auth_keys:Vector<long> = Bool;\nauth.exportLoginToken#b7e085fe api_id:int api_hash:string except_ids:Vector<long> = auth.LoginToken;\nauth.importLoginToken#95ac5ce4 token:bytes = auth.LoginToken;\nauth.importWebTokenAuthorization#2db873a9 api_id:int api_hash:string web_auth_token:string = auth.Authorization;\nauth.initPasskeyLogin#518ad0b7 api_id:int api_hash:string = auth.PasskeyLoginOptions;\nauth.finishPasskeyLogin#9857ad07 flags:# credential:InputPasskeyCredential from_dc_id:flags.0?int from_auth_key_id:flags.0?long = auth.Authorization;\naccount.registerDevice#ec86017a flags:# no_muted:flags.0?true token_type:int token:string app_sandbox:Bool secret:bytes other_uids:Vector<long> = Bool;\naccount.unregisterDevice#6a0d3206 token_type:int token:string other_uids:Vector<long> = Bool;\naccount.updateNotifySettings#84be5b93 peer:InputNotifyPeer settings:InputPeerNotifySettings = Bool;\naccount.getNotifySettings#12b3ad31 peer:InputNotifyPeer = PeerNotifySettings;\naccount.updateProfile#78515775 flags:# first_name:flags.0?string last_name:flags.1?string about:flags.2?string = User;\naccount.updateStatus#6628562c offline:Bool = Bool;\naccount.getWallPapers#7967d36 hash:long = account.WallPapers;\naccount.reportPeer#c5ba3d86 peer:InputPeer reason:ReportReason message:string = Bool;\naccount.checkUsername#2714d86c username:string = Bool;\naccount.updateUsername#3e0bdd7c username:string = User;\naccount.getPrivacy#dadbc950 key:InputPrivacyKey = account.PrivacyRules;\naccount.setPrivacy#c9f81ce8 key:InputPrivacyKey rules:Vector<InputPrivacyRule> = account.PrivacyRules;\naccount.getAccountTTL#8fc711d = AccountDaysTTL;\naccount.setAccountTTL#2442485e ttl:AccountDaysTTL = Bool;\naccount.getAuthorizations#e320c158 = account.Authorizations;\naccount.resetAuthorization#df77f3bc hash:long = Bool;\naccount.getPassword#548a30f5 = account.Password;\naccount.getPasswordSettings#9cd4eaf9 password:InputCheckPasswordSRP = account.PasswordSettings;\naccount.updatePasswordSettings#a59b102f password:InputCheckPasswordSRP new_settings:account.PasswordInputSettings = Bool;\naccount.sendConfirmPhoneCode#1b3faa88 hash:string settings:CodeSettings = auth.SentCode;\naccount.confirmPhone#5f2178c3 phone_code_hash:string phone_code:string = Bool;\naccount.getTmpPassword#449e0b51 password:InputCheckPasswordSRP period:int = account.TmpPassword;\naccount.getWebAuthorizations#182e6d6f = account.WebAuthorizations;\naccount.resetWebAuthorization#2d01b9ef hash:long = Bool;\naccount.resetWebAuthorizations#682d2594 = Bool;\naccount.sendVerifyPhoneCode#a5a356f9 phone_number:string settings:CodeSettings = auth.SentCode;\naccount.confirmPasswordEmail#8fdf1920 code:string = Bool;\naccount.getContactSignUpNotification#9f07c728 = Bool;\naccount.setContactSignUpNotification#cff43f61 silent:Bool = Bool;\naccount.getNotifyExceptions#53577479 flags:# compare_sound:flags.1?true compare_stories:flags.2?true peer:flags.0?InputNotifyPeer = Updates;\naccount.uploadWallPaper#e39a8f03 flags:# for_chat:flags.0?true file:InputFile mime_type:string settings:WallPaperSettings = WallPaper;\naccount.setContentSettings#b574b16b flags:# sensitive_enabled:flags.0?true = Bool;\naccount.getContentSettings#8b9b4dae = account.ContentSettings;\naccount.getGlobalPrivacySettings#eb2b4cf6 = GlobalPrivacySettings;\naccount.setGlobalPrivacySettings#1edaaac2 settings:GlobalPrivacySettings = GlobalPrivacySettings;\naccount.reportProfilePhoto#fa8cc6f5 peer:InputPeer photo_id:InputPhoto reason:ReportReason message:string = Bool;\naccount.setAuthorizationTTL#bf899aa0 authorization_ttl_days:int = Bool;\naccount.changeAuthorizationSettings#40f48462 flags:# confirmed:flags.3?true hash:long encrypted_requests_disabled:flags.0?Bool call_requests_disabled:flags.1?Bool = Bool;\naccount.updateEmojiStatus#fbd3de6b emoji_status:EmojiStatus = Bool;\naccount.getRecentEmojiStatuses#f578105 hash:long = account.EmojiStatuses;\naccount.reorderUsernames#ef500eab order:Vector<string> = Bool;\naccount.toggleUsername#58d6b376 username:string active:Bool = Bool;\naccount.updateBirthday#cc6e0c11 flags:# birthday:flags.0?Birthday = Bool;\naccount.resolveBusinessChatLink#5492e5ee slug:string = account.ResolvedBusinessChatLinks;\naccount.toggleSponsoredMessages#b9d9a38d enabled:Bool = Bool;\naccount.getCollectibleEmojiStatuses#2e7b4543 hash:long = account.EmojiStatuses;\naccount.getPaidMessagesRevenue#19ba4a67 flags:# parent_peer:flags.0?InputPeer user_id:InputUser = account.PaidMessagesRevenue;\naccount.toggleNoPaidMessagesException#fe2eda76 flags:# refund_charged:flags.0?true require_payment:flags.2?true parent_peer:flags.1?InputPeer user_id:InputUser = Bool;\naccount.setMainProfileTab#5dee78b0 tab:ProfileTab = Bool;\naccount.initPasskeyRegistration#429547e8 = account.PasskeyRegistrationOptions;\naccount.registerPasskey#55b41fd6 credential:InputPasskeyCredential = Passkey;\naccount.getPasskeys#ea1f0c52 = account.Passkeys;\naccount.deletePasskey#f5b5563f id:string = Bool;\nusers.getUsers#d91a548 id:Vector<InputUser> = Vector<User>;\nusers.getFullUser#b60f5918 id:InputUser = users.UserFull;\ncontacts.getContacts#5dd69e12 hash:long = contacts.Contacts;\ncontacts.importContacts#2c800be5 contacts:Vector<InputContact> = contacts.ImportedContacts;\ncontacts.deleteContacts#96a0e00 id:Vector<InputUser> = Updates;\ncontacts.block#2e2e8734 flags:# my_stories_from:flags.0?true id:InputPeer = Bool;\ncontacts.unblock#b550d328 flags:# my_stories_from:flags.0?true id:InputPeer = Bool;\ncontacts.getBlocked#9a868f80 flags:# my_stories_from:flags.0?true offset:int limit:int = contacts.Blocked;\ncontacts.search#11f812d8 q:string limit:int = contacts.Found;\ncontacts.resolveUsername#725afbbc flags:# username:string referer:flags.0?string = contacts.ResolvedPeer;\ncontacts.getTopPeers#973478b6 flags:# correspondents:flags.0?true bots_pm:flags.1?true bots_inline:flags.2?true phone_calls:flags.3?true forward_users:flags.4?true forward_chats:flags.5?true groups:flags.10?true channels:flags.15?true bots_app:flags.16?true offset:int limit:int hash:long = contacts.TopPeers;\ncontacts.addContact#d9ba2e54 flags:# add_phone_privacy_exception:flags.0?true id:InputUser first_name:string last_name:string phone:string note:flags.1?TextWithEntities = Updates;\ncontacts.resolvePhone#8af94344 phone:string = contacts.ResolvedPeer;\ncontacts.editCloseFriends#ba6705f0 id:Vector<long> = Bool;\ncontacts.getSponsoredPeers#b6c8c393 q:string = contacts.SponsoredPeers;\ncontacts.updateContactNote#139f63fb id:InputUser note:TextWithEntities = Bool;\nmessages.getMessages#63c66506 id:Vector<InputMessage> = messages.Messages;\nmessages.getDialogs#a0f4cb4f flags:# exclude_pinned:flags.0?true folder_id:flags.1?int offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.Dialogs;\nmessages.getHistory#4423e6c5 peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.search#29ee847a flags:# peer:InputPeer q:string from_id:flags.0?InputPeer saved_peer_id:flags.2?InputPeer saved_reaction:flags.3?Vector<Reaction> top_msg_id:flags.1?int filter:MessagesFilter min_date:int max_date:int offset_id:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.readHistory#e306d3a peer:InputPeer max_id:int = messages.AffectedMessages;\nmessages.deleteHistory#b08f922a flags:# just_clear:flags.0?true revoke:flags.1?true peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;\nmessages.deleteMessages#e58e95d2 flags:# revoke:flags.0?true id:Vector<int> = messages.AffectedMessages;\nmessages.receivedMessages#5a954c0 max_id:int = Vector<ReceivedNotifyMessage>;\nmessages.setTyping#58943ee2 flags:# peer:InputPeer top_msg_id:flags.0?int action:SendMessageAction = Bool;\nmessages.sendMessage#545cd15a flags:# no_webpage:flags.1?true silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true allow_paid_floodskip:flags.19?true peer:InputPeer reply_to:flags.0?InputReplyTo message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int schedule_repeat_period:flags.24?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long allow_paid_stars:flags.21?long suggested_post:flags.22?SuggestedPost = Updates;\nmessages.sendMedia#330e77f flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true allow_paid_floodskip:flags.19?true peer:InputPeer reply_to:flags.0?InputReplyTo media:InputMedia message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int schedule_repeat_period:flags.24?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long allow_paid_stars:flags.21?long suggested_post:flags.22?SuggestedPost = Updates;\nmessages.forwardMessages#13704a7c flags:# silent:flags.5?true background:flags.6?true with_my_score:flags.8?true drop_author:flags.11?true drop_media_captions:flags.12?true noforwards:flags.14?true allow_paid_floodskip:flags.19?true from_peer:InputPeer id:Vector<int> random_id:Vector<long> to_peer:InputPeer top_msg_id:flags.9?int reply_to:flags.22?InputReplyTo schedule_date:flags.10?int schedule_repeat_period:flags.24?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long video_timestamp:flags.20?int allow_paid_stars:flags.21?long suggested_post:flags.23?SuggestedPost = Updates;\nmessages.reportSpam#cf1592db peer:InputPeer = Bool;\nmessages.getPeerSettings#efd9a6a2 peer:InputPeer = messages.PeerSettings;\nmessages.report#fc78af9b peer:InputPeer id:Vector<int> option:bytes message:string = ReportResult;\nmessages.getChats#49e9528f id:Vector<long> = messages.Chats;\nmessages.getFullChat#aeb00b34 chat_id:long = messages.ChatFull;\nmessages.editChatTitle#73783ffd chat_id:long title:string = Updates;\nmessages.editChatPhoto#35ddd674 chat_id:long photo:InputChatPhoto = Updates;\nmessages.addChatUser#cbc6d107 chat_id:long user_id:InputUser fwd_limit:int = messages.InvitedUsers;\nmessages.deleteChatUser#a2185cab flags:# revoke_history:flags.0?true chat_id:long user_id:InputUser = Updates;\nmessages.createChat#92ceddd4 flags:# users:Vector<InputUser> title:string ttl_period:flags.0?int = messages.InvitedUsers;\nmessages.getDhConfig#26cf8950 version:int random_length:int = messages.DhConfig;\nmessages.readMessageContents#36a73f77 id:Vector<int> = messages.AffectedMessages;\nmessages.getStickers#d5a5d3a1 emoticon:string hash:long = messages.Stickers;\nmessages.getAllStickers#b8a0a1a8 hash:long = messages.AllStickers;\nmessages.getWebPagePreview#570d6f6f flags:# message:string entities:flags.3?Vector<MessageEntity> = messages.WebPagePreview;\nmessages.exportChatInvite#a455de90 flags:# legacy_revoke_permanent:flags.2?true request_needed:flags.3?true peer:InputPeer expire_date:flags.0?int usage_limit:flags.1?int title:flags.4?string subscription_pricing:flags.5?StarsSubscriptionPricing = ExportedChatInvite;\nmessages.checkChatInvite#3eadb1bb hash:string = ChatInvite;\nmessages.importChatInvite#6c50051c hash:string = Updates;\nmessages.getStickerSet#c8a0ec74 stickerset:InputStickerSet hash:int = messages.StickerSet;\nmessages.installStickerSet#c78fe460 stickerset:InputStickerSet archived:Bool = messages.StickerSetInstallResult;\nmessages.uninstallStickerSet#f96e55de stickerset:InputStickerSet = Bool;\nmessages.startBot#e6df7378 bot:InputUser peer:InputPeer random_id:long start_param:string = Updates;\nmessages.getMessagesViews#5784d3e1 peer:InputPeer id:Vector<int> increment:Bool = messages.MessageViews;\nmessages.migrateChat#a2875319 chat_id:long = Updates;\nmessages.searchGlobal#4bc6589a flags:# broadcasts_only:flags.1?true groups_only:flags.2?true users_only:flags.3?true folder_id:flags.0?int q:string filter:MessagesFilter min_date:int max_date:int offset_rate:int offset_peer:InputPeer offset_id:int limit:int = messages.Messages;\nmessages.getDocumentByHash#b1f2061f sha256:bytes size:long mime_type:string = Document;\nmessages.getSavedGifs#5cf09635 hash:long = messages.SavedGifs;\nmessages.saveGif#327a30cb id:InputDocument unsave:Bool = Bool;\nmessages.getInlineBotResults#514e999d flags:# bot:InputUser peer:InputPeer geo_point:flags.0?InputGeoPoint query:string offset:string = messages.BotResults;\nmessages.sendInlineBotResult#c0cf7646 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true hide_via:flags.11?true peer:InputPeer reply_to:flags.0?InputReplyTo random_id:long query_id:long id:string schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut allow_paid_stars:flags.21?long = Updates;\nmessages.editMessage#51e842e1 flags:# no_webpage:flags.1?true invert_media:flags.16?true peer:InputPeer id:int message:flags.11?string media:flags.14?InputMedia reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.15?int schedule_repeat_period:flags.18?int quick_reply_shortcut_id:flags.17?int = Updates;\nmessages.getBotCallbackAnswer#9342ca07 flags:# game:flags.1?true peer:InputPeer msg_id:int data:flags.0?bytes password:flags.2?InputCheckPasswordSRP = messages.BotCallbackAnswer;\nmessages.getPeerDialogs#e470bcfd peers:Vector<InputDialogPeer> = messages.PeerDialogs;\nmessages.saveDraft#54ae308e flags:# no_webpage:flags.1?true invert_media:flags.6?true reply_to:flags.4?InputReplyTo peer:InputPeer message:string entities:flags.3?Vector<MessageEntity> media:flags.5?InputMedia effect:flags.7?long suggested_post:flags.8?SuggestedPost = Bool;\nmessages.getFeaturedStickers#64780b14 hash:long = messages.FeaturedStickers;\nmessages.readFeaturedStickers#5b118126 id:Vector<long> = Bool;\nmessages.getRecentStickers#9da9403b flags:# attached:flags.0?true hash:long = messages.RecentStickers;\nmessages.saveRecentSticker#392718f8 flags:# attached:flags.0?true id:InputDocument unsave:Bool = Bool;\nmessages.clearRecentStickers#8999602d flags:# attached:flags.0?true = Bool;\nmessages.getCommonChats#e40ca104 user_id:InputUser max_id:long limit:int = messages.Chats;\nmessages.getWebPage#8d9692a3 url:string hash:int = messages.WebPage;\nmessages.toggleDialogPin#a731e257 flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;\nmessages.getPinnedDialogs#d6b94df2 folder_id:int = messages.PeerDialogs;\nmessages.uploadMedia#14967978 flags:# business_connection_id:flags.0?string peer:InputPeer media:InputMedia = MessageMedia;\nmessages.getFavedStickers#4f1aaa9 hash:long = messages.FavedStickers;\nmessages.faveSticker#b9ffc55b id:InputDocument unfave:Bool = Bool;\nmessages.getUnreadMentions#f107e790 flags:# peer:InputPeer top_msg_id:flags.0?int offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;\nmessages.readMentions#36e5bf4d flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;\nmessages.sendMultiMedia#1bf89d74 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true allow_paid_floodskip:flags.19?true peer:InputPeer reply_to:flags.0?InputReplyTo multi_media:Vector<InputSingleMedia> schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long allow_paid_stars:flags.21?long = Updates;\nmessages.searchStickerSets#35705b8a flags:# exclude_featured:flags.0?true q:string hash:long = messages.FoundStickerSets;\nmessages.markDialogUnread#8c5006f8 flags:# unread:flags.0?true parent_peer:flags.1?InputPeer peer:InputDialogPeer = Bool;\nmessages.updatePinnedMessage#d2aaf7ec flags:# silent:flags.0?true unpin:flags.1?true pm_oneside:flags.2?true peer:InputPeer id:int = Updates;\nmessages.sendVote#10ea6184 peer:InputPeer msg_id:int options:Vector<bytes> = Updates;\nmessages.getOnlines#6e2be050 peer:InputPeer = ChatOnlines;\nmessages.editChatAbout#def60797 peer:InputPeer about:string = Bool;\nmessages.editChatDefaultBannedRights#a5866b41 peer:InputPeer banned_rights:ChatBannedRights = Updates;\nmessages.getEmojiKeywordsDifference#1508b6af lang_code:string from_version:int = EmojiKeywordsDifference;\nmessages.requestUrlAuth#198fb446 flags:# peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;\nmessages.acceptUrlAuth#b12c7125 flags:# write_allowed:flags.0?true peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;\nmessages.hidePeerSettingsBar#4facb138 peer:InputPeer = Bool;\nmessages.getScheduledHistory#f516760b peer:InputPeer hash:long = messages.Messages;\nmessages.sendScheduledMessages#bd38850a peer:InputPeer id:Vector<int> = Updates;\nmessages.deleteScheduledMessages#59ae2b16 peer:InputPeer id:Vector<int> = Updates;\nmessages.getPollVotes#b86e380e flags:# peer:InputPeer id:int option:flags.0?bytes offset:flags.1?string limit:int = messages.VotesList;\nmessages.getDialogFilters#efd48c89 = messages.DialogFilters;\nmessages.getSuggestedDialogFilters#a29cd42c = Vector<DialogFilterSuggested>;\nmessages.updateDialogFilter#1ad4a04a flags:# id:int filter:flags.0?DialogFilter = Bool;\nmessages.updateDialogFiltersOrder#c563c1e4 order:Vector<int> = Bool;\nmessages.getReplies#22ddd30c peer:InputPeer msg_id:int offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.getDiscussionMessage#446972fd peer:InputPeer msg_id:int = messages.DiscussionMessage;\nmessages.readDiscussion#f731a9f4 peer:InputPeer msg_id:int read_max_id:int = Bool;\nmessages.unpinAllMessages#62dd747 flags:# peer:InputPeer top_msg_id:flags.0?int saved_peer_id:flags.1?InputPeer = messages.AffectedHistory;\nmessages.deleteChat#5bd0ee50 chat_id:long = Bool;\nmessages.getExportedChatInvites#a2b5a3f6 flags:# revoked:flags.3?true peer:InputPeer admin_id:InputUser offset_date:flags.2?int offset_link:flags.2?string limit:int = messages.ExportedChatInvites;\nmessages.editExportedChatInvite#bdca2f75 flags:# revoked:flags.2?true peer:InputPeer link:string expire_date:flags.0?int usage_limit:flags.1?int request_needed:flags.3?Bool title:flags.4?string = messages.ExportedChatInvite;\nmessages.deleteRevokedExportedChatInvites#56987bd5 peer:InputPeer admin_id:InputUser = Bool;\nmessages.deleteExportedChatInvite#d464a42b peer:InputPeer link:string = Bool;\nmessages.getChatInviteImporters#df04dd4e flags:# requested:flags.0?true subscription_expired:flags.3?true peer:InputPeer link:flags.1?string q:flags.2?string offset_date:int offset_user:InputUser limit:int = messages.ChatInviteImporters;\nmessages.getMessageReadParticipants#31c1c44f peer:InputPeer msg_id:int = Vector<ReadParticipantDate>;\nmessages.hideChatJoinRequest#7fe7e815 flags:# approved:flags.0?true peer:InputPeer user_id:InputUser = Updates;\nmessages.hideAllChatJoinRequests#e085f4ea flags:# approved:flags.0?true peer:InputPeer link:flags.1?string = Updates;\nmessages.toggleNoForwards#b11eafa2 peer:InputPeer enabled:Bool = Updates;\nmessages.saveDefaultSendAs#ccfddf96 peer:InputPeer send_as:InputPeer = Bool;\nmessages.sendReaction#d30d78d4 flags:# big:flags.1?true add_to_recent:flags.2?true peer:InputPeer msg_id:int reaction:flags.0?Vector<Reaction> = Updates;\nmessages.getMessagesReactions#8bba90e6 peer:InputPeer id:Vector<int> = Updates;\nmessages.getMessageReactionsList#461b3f48 flags:# peer:InputPeer id:int reaction:flags.0?Reaction offset:flags.1?string limit:int = messages.MessageReactionsList;\nmessages.setChatAvailableReactions#864b2581 flags:# peer:InputPeer available_reactions:ChatReactions reactions_limit:flags.0?int paid_enabled:flags.1?Bool = Updates;\nmessages.getAvailableReactions#18dea0ac hash:int = messages.AvailableReactions;\nmessages.setDefaultReaction#4f47a016 reaction:Reaction = Bool;\nmessages.translateText#63183030 flags:# peer:flags.0?InputPeer id:flags.0?Vector<int> text:flags.1?Vector<TextWithEntities> to_lang:string = messages.TranslatedText;\nmessages.getUnreadReactions#bd7f90ac flags:# peer:InputPeer top_msg_id:flags.0?int saved_peer_id:flags.1?InputPeer offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;\nmessages.readReactions#9ec44f93 flags:# peer:InputPeer top_msg_id:flags.0?int saved_peer_id:flags.1?InputPeer = messages.AffectedHistory;\nmessages.getAttachMenuBots#16fcc2cb hash:long = AttachMenuBots;\nmessages.getAttachMenuBot#77216192 bot:InputUser = AttachMenuBotsBot;\nmessages.toggleBotInAttachMenu#69f59d69 flags:# write_allowed:flags.0?true bot:InputUser enabled:Bool = Bool;\nmessages.requestWebView#269dc2c1 flags:# from_bot_menu:flags.4?true silent:flags.5?true compact:flags.7?true fullscreen:flags.8?true peer:InputPeer bot:InputUser url:flags.1?string start_param:flags.3?string theme_params:flags.2?DataJSON platform:string reply_to:flags.0?InputReplyTo send_as:flags.13?InputPeer = WebViewResult;\nmessages.prolongWebView#b0d81a83 flags:# silent:flags.5?true peer:InputPeer bot:InputUser query_id:long reply_to:flags.0?InputReplyTo send_as:flags.13?InputPeer = Bool;\nmessages.requestSimpleWebView#413a3e73 flags:# from_switch_webview:flags.1?true from_side_menu:flags.2?true compact:flags.7?true fullscreen:flags.8?true bot:InputUser url:flags.3?string start_param:flags.4?string theme_params:flags.0?DataJSON platform:string = WebViewResult;\nmessages.sendWebViewResultMessage#a4314f5 bot_query_id:string result:InputBotInlineResult = WebViewMessageSent;\nmessages.sendWebViewData#dc0242c8 bot:InputUser random_id:long button_text:string data:string = Updates;\nmessages.transcribeAudio#269e9a49 peer:InputPeer msg_id:int = messages.TranscribedAudio;\nmessages.getCustomEmojiDocuments#d9ab0f54 document_id:Vector<long> = Vector<Document>;\nmessages.getEmojiStickers#fbfca18f hash:long = messages.AllStickers;\nmessages.getFeaturedEmojiStickers#ecf6736 hash:long = messages.FeaturedStickers;\nmessages.getTopReactions#bb8125ba limit:int hash:long = messages.Reactions;\nmessages.getRecentReactions#39461db2 limit:int hash:long = messages.Reactions;\nmessages.clearRecentReactions#9dfeefb4 = Bool;\nmessages.getExtendedMedia#84f80814 peer:InputPeer id:Vector<int> = Updates;\nmessages.togglePeerTranslations#e47cb579 flags:# disabled:flags.0?true peer:InputPeer = Bool;\nmessages.getBotApp#34fdc5c3 app:InputBotApp hash:long = messages.BotApp;\nmessages.requestAppWebView#53618bce flags:# write_allowed:flags.0?true compact:flags.7?true fullscreen:flags.8?true peer:InputPeer app:InputBotApp start_param:flags.1?string theme_params:flags.2?DataJSON platform:string = WebViewResult;\nmessages.getSavedDialogs#1e91fc99 flags:# exclude_pinned:flags.0?true parent_peer:flags.1?InputPeer offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.SavedDialogs;\nmessages.getSavedHistory#998ab009 flags:# parent_peer:flags.0?InputPeer peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.deleteSavedHistory#4dc5085f flags:# parent_peer:flags.0?InputPeer peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;\nmessages.getPinnedSavedDialogs#d63d94e0 = messages.SavedDialogs;\nmessages.toggleSavedDialogPin#ac81bbde flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;\nmessages.getSavedReactionTags#3637e05b flags:# peer:flags.0?InputPeer hash:long = messages.SavedReactionTags;\nmessages.updateSavedReactionTag#60297dec flags:# reaction:Reaction title:flags.0?string = Bool;\nmessages.getDefaultTagReactions#bdf93428 hash:long = messages.Reactions;\nmessages.getOutboxReadDate#8c4bfe5d peer:InputPeer msg_id:int = OutboxReadDate;\nmessages.getQuickReplies#d483f2a8 hash:long = messages.QuickReplies;\nmessages.getQuickReplyMessages#94a495c3 flags:# shortcut_id:int id:flags.0?Vector<int> hash:long = messages.Messages;\nmessages.sendQuickReplyMessages#6c750de1 peer:InputPeer shortcut_id:int id:Vector<int> random_id:Vector<long> = Updates;\nmessages.toggleDialogFilterTags#fd2dda49 enabled:Bool = Bool;\nmessages.getAvailableEffects#dea20a39 hash:int = messages.AvailableEffects;\nmessages.getFactCheck#b9cdc5ee peer:InputPeer msg_id:Vector<int> = Vector<FactCheck>;\nmessages.requestMainWebView#c9e01e7b flags:# compact:flags.7?true fullscreen:flags.8?true peer:InputPeer bot:InputUser start_param:flags.1?string theme_params:flags.0?DataJSON platform:string = WebViewResult;\nmessages.sendPaidReaction#58bbcb50 flags:# peer:InputPeer msg_id:int count:int random_id:long private:flags.0?PaidReactionPrivacy = Updates;\nmessages.getPaidReactionPrivacy#472455aa = Updates;\nmessages.viewSponsoredMessage#269e3643 random_id:bytes = Bool;\nmessages.clickSponsoredMessage#8235057e flags:# media:flags.0?true fullscreen:flags.1?true random_id:bytes = Bool;\nmessages.reportSponsoredMessage#12cbf0c4 random_id:bytes option:bytes = channels.SponsoredMessageReportResult;\nmessages.getSponsoredMessages#3d6ce850 flags:# peer:InputPeer msg_id:flags.0?int = messages.SponsoredMessages;\nmessages.getPreparedInlineMessage#857ebdb8 bot:InputUser id:string = messages.PreparedInlineMessage;\nmessages.reportMessagesDelivery#5a6d7395 flags:# push:flags.0?true peer:InputPeer id:Vector<int> = Bool;\nmessages.toggleTodoCompleted#d3e03124 peer:InputPeer msg_id:int completed:Vector<int> incompleted:Vector<int> = Updates;\nmessages.appendTodoList#21a61057 peer:InputPeer msg_id:int list:Vector<TodoItem> = Updates;\nmessages.toggleSuggestedPostApproval#8107455c flags:# reject:flags.1?true peer:InputPeer msg_id:int schedule_date:flags.0?int reject_comment:flags.2?string = Updates;\nmessages.getForumTopics#3ba47bff flags:# peer:InputPeer q:flags.0?string offset_date:int offset_id:int offset_topic:int limit:int = messages.ForumTopics;\nmessages.getForumTopicsByID#af0a4a08 peer:InputPeer topics:Vector<int> = messages.ForumTopics;\nmessages.editForumTopic#cecc1134 flags:# peer:InputPeer topic_id:int title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = Updates;\nmessages.updatePinnedForumTopic#175df251 peer:InputPeer topic_id:int pinned:Bool = Updates;\nmessages.createForumTopic#2f98c3d5 flags:# title_missing:flags.4?true peer:InputPeer title:string icon_color:flags.0?int icon_emoji_id:flags.3?long random_id:long send_as:flags.2?InputPeer = Updates;\nmessages.deleteTopicHistory#d2816f10 peer:InputPeer top_msg_id:int = messages.AffectedHistory;\nupdates.getState#edd4882a = updates.State;\nupdates.getDifference#19c2f763 flags:# pts:int pts_limit:flags.1?int pts_total_limit:flags.0?int date:int qts:int qts_limit:flags.2?int = updates.Difference;\nupdates.getChannelDifference#3173d78 flags:# force:flags.0?true channel:InputChannel filter:ChannelMessagesFilter pts:int limit:int = updates.ChannelDifference;\nphotos.updateProfilePhoto#9e82039 flags:# fallback:flags.0?true bot:flags.1?InputUser id:InputPhoto = photos.Photo;\nphotos.uploadProfilePhoto#388a3b5 flags:# fallback:flags.3?true bot:flags.5?InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.4?VideoSize = photos.Photo;\nphotos.deletePhotos#87cf7f2f id:Vector<InputPhoto> = Vector<long>;\nphotos.getUserPhotos#91cd32a8 user_id:InputUser offset:int max_id:long limit:int = photos.Photos;\nphotos.uploadContactProfilePhoto#e14c4a71 flags:# suggest:flags.3?true save:flags.4?true user_id:InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.5?VideoSize = photos.Photo;\nupload.saveFilePart#b304a621 file_id:long file_part:int bytes:bytes = Bool;\nupload.getFile#be5335be flags:# precise:flags.0?true cdn_supported:flags.1?true location:InputFileLocation offset:long limit:int = upload.File;\nupload.saveBigFilePart#de7b673d file_id:long file_part:int file_total_parts:int bytes:bytes = Bool;\nupload.getWebFile#24e6818d location:InputWebFileLocation offset:int limit:int = upload.WebFile;\nhelp.getConfig#c4f9186b = Config;\nhelp.getNearestDc#1fb33026 = NearestDc;\nhelp.getSupport#9cdf08cd = help.Support;\nhelp.acceptTermsOfService#ee72f79a id:DataJSON = Bool;\nhelp.getAppConfig#61e3f854 hash:int = help.AppConfig;\nhelp.getPromoData#c0977421 = help.PromoData;\nhelp.dismissSuggestion#f50dbaa1 peer:InputPeer suggestion:string = Bool;\nhelp.getCountriesList#735787a8 lang_code:string hash:int = help.CountriesList;\nhelp.getPremiumPromo#b81b93d4 = help.PremiumPromo;\nhelp.getPeerColors#da80f42f hash:int = help.PeerColors;\nhelp.getPeerProfileColors#abcfa9fd hash:int = help.PeerColors;\nhelp.getTimezonesList#49b30240 hash:int = help.TimezonesList;\nchannels.readHistory#cc104937 channel:InputChannel max_id:int = Bool;\nchannels.deleteMessages#84c1fd4e channel:InputChannel id:Vector<int> = messages.AffectedMessages;\nchannels.reportSpam#f44a8315 channel:InputChannel participant:InputPeer id:Vector<int> = Bool;\nchannels.getMessages#ad8c9a23 channel:InputChannel id:Vector<InputMessage> = messages.Messages;\nchannels.getParticipants#77ced9d0 channel:InputChannel filter:ChannelParticipantsFilter offset:int limit:int hash:long = channels.ChannelParticipants;\nchannels.getParticipant#a0ab6cc6 channel:InputChannel participant:InputPeer = channels.ChannelParticipant;\nchannels.getChannels#a7f6bbb id:Vector<InputChannel> = messages.Chats;\nchannels.getFullChannel#8736a09 channel:InputChannel = messages.ChatFull;\nchannels.createChannel#91006707 flags:# broadcast:flags.0?true megagroup:flags.1?true for_import:flags.3?true forum:flags.5?true title:string about:string geo_point:flags.2?InputGeoPoint address:flags.2?string ttl_period:flags.4?int = Updates;\nchannels.editAdmin#d33c8902 channel:InputChannel user_id:InputUser admin_rights:ChatAdminRights rank:string = Updates;\nchannels.editTitle#566decd0 channel:InputChannel title:string = Updates;\nchannels.editPhoto#f12e57c9 channel:InputChannel photo:InputChatPhoto = Updates;\nchannels.checkUsername#10e6bd2c channel:InputChannel username:string = Bool;\nchannels.updateUsername#3514b3de channel:InputChannel username:string = Bool;\nchannels.joinChannel#24b524c5 channel:InputChannel = Updates;\nchannels.leaveChannel#f836aa95 channel:InputChannel = Updates;\nchannels.inviteToChannel#c9e33d54 channel:InputChannel users:Vector<InputUser> = messages.InvitedUsers;\nchannels.deleteChannel#c0111fe3 channel:InputChannel = Updates;\nchannels.exportMessageLink#e63fadeb flags:# grouped:flags.0?true thread:flags.1?true channel:InputChannel id:int = ExportedMessageLink;\nchannels.toggleSignatures#418d549c flags:# signatures_enabled:flags.0?true profiles_enabled:flags.1?true channel:InputChannel = Updates;\nchannels.editBanned#96e6cd81 channel:InputChannel participant:InputPeer banned_rights:ChatBannedRights = Updates;\nchannels.readMessageContents#eab5dc38 channel:InputChannel id:Vector<int> = Bool;\nchannels.togglePreHistoryHidden#eabbb94c channel:InputChannel enabled:Bool = Updates;\nchannels.getGroupsForDiscussion#f5dad378 = messages.Chats;\nchannels.setDiscussionGroup#40582bb2 broadcast:InputChannel group:InputChannel = Bool;\nchannels.getSendAs#e785a43f flags:# for_paid_reactions:flags.0?true for_live_stories:flags.1?true peer:InputPeer = channels.SendAsPeers;\nchannels.deleteParticipantHistory#367544db channel:InputChannel participant:InputPeer = messages.AffectedHistory;\nchannels.toggleJoinToSend#e4cb9580 channel:InputChannel enabled:Bool = Updates;\nchannels.toggleJoinRequest#4c2985b6 channel:InputChannel enabled:Bool = Updates;\nchannels.reorderUsernames#b45ced1d channel:InputChannel order:Vector<string> = Bool;\nchannels.toggleUsername#50f24105 channel:InputChannel username:string active:Bool = Bool;\nchannels.deactivateAllUsernames#a245dd3 channel:InputChannel = Bool;\nchannels.toggleForum#3ff75734 channel:InputChannel enabled:Bool tabs:Bool = Updates;\nchannels.toggleParticipantsHidden#6a6e7854 channel:InputChannel enabled:Bool = Updates;\nchannels.toggleViewForumAsMessages#9738bb15 channel:InputChannel enabled:Bool = Updates;\nchannels.getChannelRecommendations#25a71742 flags:# channel:flags.0?InputChannel = messages.Chats;\nchannels.searchPosts#f2c4f24d flags:# hashtag:flags.0?string query:flags.1?string offset_rate:int offset_peer:InputPeer offset_id:int limit:int allow_paid_stars:flags.2?long = messages.Messages;\nchannels.updatePaidMessagesPrice#4b12327b flags:# broadcast_messages_allowed:flags.0?true channel:InputChannel send_paid_messages_stars:long = Updates;\nchannels.toggleAutotranslation#167fc0a1 channel:InputChannel enabled:Bool = Updates;\nchannels.checkSearchPostsFlood#22567115 flags:# query:flags.0?string = SearchPostsFlood;\nchannels.setMainProfileTab#3583fcb1 channel:InputChannel tab:ProfileTab = Bool;\nbots.setBotInfo#10cf3123 flags:# bot:flags.2?InputUser lang_code:string name:flags.3?string about:flags.0?string description:flags.1?string = Bool;\nbots.canSendMessage#1359f4e6 bot:InputUser = Bool;\nbots.allowSendMessage#f132e3ef bot:InputUser = Updates;\nbots.invokeWebViewCustomMethod#87fc5e7 bot:InputUser custom_method:string params:DataJSON = DataJSON;\nbots.getPopularAppBots#c2510192 offset:string limit:int = bots.PopularAppBots;\nbots.getPreviewMedias#a2a5594d bot:InputUser = Vector<BotPreviewMedia>;\nbots.toggleUserEmojiStatusPermission#6de6392 bot:InputUser enabled:Bool = Bool;\nbots.checkDownloadFileParams#50077589 bot:InputUser file_name:string url:string = Bool;\nbots.getBotRecommendations#a1b70815 bot:InputUser = users.Users;\npayments.getPaymentForm#37148dbb flags:# invoice:InputInvoice theme_params:flags.0?DataJSON = payments.PaymentForm;\npayments.getPaymentReceipt#2478d1cc peer:InputPeer msg_id:int = payments.PaymentReceipt;\npayments.validateRequestedInfo#b6c8f12b flags:# save:flags.0?true invoice:InputInvoice info:PaymentRequestedInfo = payments.ValidatedRequestedInfo;\npayments.sendPaymentForm#2d03522f flags:# form_id:long invoice:InputInvoice requested_info_id:flags.0?string shipping_option_id:flags.1?string credentials:InputPaymentCredentials tip_amount:flags.2?long = payments.PaymentResult;\npayments.getSavedInfo#227d824b = payments.SavedInfo;\npayments.getPremiumGiftCodeOptions#2757ba54 flags:# boost_peer:flags.0?InputPeer = Vector<PremiumGiftCodeOption>;\npayments.checkGiftCode#8e51b4c1 slug:string = payments.CheckedGiftCode;\npayments.applyGiftCode#f6e26854 slug:string = Updates;\npayments.getGiveawayInfo#f4239425 peer:InputPeer msg_id:int = payments.GiveawayInfo;\npayments.launchPrepaidGiveaway#5ff58f20 peer:InputPeer giveaway_id:long purpose:InputStorePaymentPurpose = Updates;\npayments.getStarsTopupOptions#c00ec7d3 = Vector<StarsTopupOption>;\npayments.getStarsStatus#4ea9b3bf flags:# ton:flags.0?true peer:InputPeer = payments.StarsStatus;\npayments.getStarsTransactions#69da4557 flags:# inbound:flags.0?true outbound:flags.1?true ascending:flags.2?true ton:flags.4?true subscription_id:flags.3?string peer:InputPeer offset:string limit:int = payments.StarsStatus;\npayments.sendStarsForm#7998c914 form_id:long invoice:InputInvoice = payments.PaymentResult;\npayments.refundStarsCharge#25ae8f4a user_id:InputUser charge_id:string = Updates;\npayments.getStarsTransactionsByID#2dca16b8 flags:# ton:flags.0?true peer:InputPeer id:Vector<InputStarsTransaction> = payments.StarsStatus;\npayments.getStarsGiftOptions#d3c96bc8 flags:# user_id:flags.0?InputUser = Vector<StarsGiftOption>;\npayments.getStarsSubscriptions#32512c5 flags:# missing_balance:flags.0?true peer:InputPeer offset:string = payments.StarsStatus;\npayments.changeStarsSubscription#c7770878 flags:# peer:InputPeer subscription_id:string canceled:flags.0?Bool = Bool;\npayments.fulfillStarsSubscription#cc5bebb3 peer:InputPeer subscription_id:string = Bool;\npayments.getStarsGiveawayOptions#bd1efd3e = Vector<StarsGiveawayOption>;\npayments.getStarGifts#c4563590 hash:int = payments.StarGifts;\npayments.saveStarGift#2a2a697c flags:# unsave:flags.0?true stargift:InputSavedStarGift = Bool;\npayments.convertStarGift#74bf076b stargift:InputSavedStarGift = Bool;\npayments.getStarGiftUpgradePreview#9c9abcb1 gift_id:long = payments.StarGiftUpgradePreview;\npayments.upgradeStarGift#aed6e4f5 flags:# keep_original_details:flags.0?true stargift:InputSavedStarGift = Updates;\npayments.transferStarGift#7f18176a stargift:InputSavedStarGift to_id:InputPeer = Updates;\npayments.getUniqueStarGift#a1974d72 slug:string = payments.UniqueStarGift;\npayments.getSavedStarGifts#a319e569 flags:# exclude_unsaved:flags.0?true exclude_saved:flags.1?true exclude_unlimited:flags.2?true exclude_unique:flags.4?true sort_by_value:flags.5?true exclude_upgradable:flags.7?true exclude_unupgradable:flags.8?true peer_color_available:flags.9?true exclude_hosted:flags.10?true peer:InputPeer collection_id:flags.6?int offset:string limit:int = payments.SavedStarGifts;\npayments.getStarGiftWithdrawalUrl#d06e93a8 stargift:InputSavedStarGift password:InputCheckPasswordSRP = payments.StarGiftWithdrawalUrl;\npayments.toggleStarGiftsPinnedToTop#1513e7b0 peer:InputPeer stargift:Vector<InputSavedStarGift> = Bool;\npayments.getResaleStarGifts#7a5fa236 flags:# sort_by_price:flags.1?true sort_by_num:flags.2?true attributes_hash:flags.0?long gift_id:long attributes:flags.3?Vector<StarGiftAttributeId> offset:string limit:int = payments.ResaleStarGifts;\npayments.updateStarGiftPrice#edbe6ccb stargift:InputSavedStarGift resell_amount:StarsAmount = Updates;\npayments.getStarGiftCollections#981b91dd peer:InputPeer hash:long = payments.StarGiftCollections;\npayments.getUniqueStarGiftValueInfo#4365af6b slug:string = payments.UniqueStarGiftValueInfo;\npayments.checkCanSendGift#c0c4edc9 gift_id:long = payments.CheckCanSendGiftResult;\npayments.getStarGiftAuctionState#5c9ff4d6 auction:InputStarGiftAuction version:int = payments.StarGiftAuctionState;\npayments.getStarGiftAuctionAcquiredGifts#6ba2cbec gift_id:long = payments.StarGiftAuctionAcquiredGifts;\nphone.requestCall#42ff96ed flags:# video:flags.0?true user_id:InputUser random_id:int g_a_hash:bytes protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.acceptCall#3bd2b4a0 peer:InputPhoneCall g_b:bytes protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.confirmCall#2efe1722 peer:InputPhoneCall g_a:bytes key_fingerprint:long protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.receivedCall#17d54f61 peer:InputPhoneCall = Bool;\nphone.discardCall#b2cbc1c0 flags:# video:flags.0?true peer:InputPhoneCall duration:int reason:PhoneCallDiscardReason connection_id:long = Updates;\nphone.setCallRating#59ead627 flags:# user_initiative:flags.0?true peer:InputPhoneCall rating:int comment:string = Updates;\nphone.saveCallDebug#277add7e peer:InputPhoneCall debug:DataJSON = Bool;\nphone.sendSignalingData#ff7a9383 peer:InputPhoneCall data:bytes = Bool;\nphone.createGroupCall#48cdc6d8 flags:# rtmp_stream:flags.2?true peer:InputPeer random_id:int title:flags.0?string schedule_date:flags.1?int = Updates;\nphone.joinGroupCall#8fb53057 flags:# muted:flags.0?true video_stopped:flags.2?true call:InputGroupCall join_as:InputPeer invite_hash:flags.1?string public_key:flags.3?int256 block:flags.3?bytes params:DataJSON = Updates;\nphone.leaveGroupCall#500377f9 call:InputGroupCall source:int = Updates;\nphone.discardGroupCall#7a777135 call:InputGroupCall = Updates;\nphone.getGroupCall#41845db call:InputGroupCall limit:int = phone.GroupCall;\nphone.getGroupParticipants#c558d8ab call:InputGroupCall ids:Vector<InputPeer> sources:Vector<int> offset:string limit:int = phone.GroupParticipants;\nphone.editGroupCallParticipant#a5273abf flags:# call:InputGroupCall participant:InputPeer muted:flags.0?Bool volume:flags.1?int raise_hand:flags.2?Bool video_stopped:flags.3?Bool video_paused:flags.4?Bool presentation_paused:flags.5?Bool = Updates;\nphone.exportGroupCallInvite#e6aa647f flags:# can_self_unmute:flags.0?true call:InputGroupCall = phone.ExportedGroupCallInvite;\nphone.toggleGroupCallStartSubscription#219c34e6 call:InputGroupCall subscribed:Bool = Updates;\nphone.joinGroupCallPresentation#cbea6bc4 call:InputGroupCall params:DataJSON = Updates;\nphone.leaveGroupCallPresentation#1c50d144 call:InputGroupCall = Updates;\nlangpack.getLangPack#f2f2330a lang_pack:string lang_code:string = LangPackDifference;\nlangpack.getStrings#efea3803 lang_pack:string lang_code:string keys:Vector<string> = Vector<LangPackString>;\nlangpack.getDifference#cd984aa5 lang_pack:string lang_code:string from_version:int = LangPackDifference;\nlangpack.getLanguages#42c6978f lang_pack:string = Vector<LangPackLanguage>;\nlangpack.getLanguage#6a596502 lang_pack:string lang_code:string = LangPackLanguage;\nfolders.editPeerFolders#6847d0ab folder_peers:Vector<InputFolderPeer> = Updates;\nstats.getBroadcastStats#ab42441a flags:# dark:flags.0?true channel:InputChannel = stats.BroadcastStats;\nstats.loadAsyncGraph#621d5fa0 flags:# token:string x:flags.0?long = StatsGraph;\nstats.getMegagroupStats#dcdf8607 flags:# dark:flags.0?true channel:InputChannel = stats.MegagroupStats;\nstats.getMessagePublicForwards#5f150144 channel:InputChannel msg_id:int offset:string limit:int = stats.PublicForwards;\nstats.getMessageStats#b6e0a3f5 flags:# dark:flags.0?true channel:InputChannel msg_id:int = stats.MessageStats;\nstats.getStoryStats#374fef40 flags:# dark:flags.0?true peer:InputPeer id:int = stats.StoryStats;\nstats.getStoryPublicForwards#a6437ef6 peer:InputPeer id:int offset:string limit:int = stats.PublicForwards;\nchatlists.exportChatlistInvite#8472478e chatlist:InputChatlist title:string peers:Vector<InputPeer> = chatlists.ExportedChatlistInvite;\nchatlists.deleteExportedInvite#719c5c5e chatlist:InputChatlist slug:string = Bool;\nchatlists.editExportedInvite#653db63d flags:# chatlist:InputChatlist slug:string title:flags.1?string peers:flags.2?Vector<InputPeer> = ExportedChatlistInvite;\nchatlists.getExportedInvites#ce03da83 chatlist:InputChatlist = chatlists.ExportedInvites;\nchatlists.checkChatlistInvite#41c10fff slug:string = chatlists.ChatlistInvite;\nchatlists.joinChatlistInvite#a6b1e39a slug:string peers:Vector<InputPeer> = Updates;\nchatlists.getLeaveChatlistSuggestions#fdbcd714 chatlist:InputChatlist = Vector<Peer>;\nchatlists.leaveChatlist#74fae13a chatlist:InputChatlist peers:Vector<InputPeer> = Updates;\nstories.editStory#b583ba46 flags:# peer:InputPeer id:int media:flags.0?InputMedia media_areas:flags.3?Vector<MediaArea> caption:flags.1?string entities:flags.1?Vector<MessageEntity> privacy_rules:flags.2?Vector<InputPrivacyRule> = Updates;\nstories.deleteStories#ae59db5f peer:InputPeer id:Vector<int> = Vector<int>;\nstories.togglePinned#9a75a1ef peer:InputPeer id:Vector<int> pinned:Bool = Vector<int>;\nstories.getAllStories#eeb0d625 flags:# next:flags.1?true hidden:flags.2?true state:flags.0?string = stories.AllStories;\nstories.getPinnedStories#5821a5dc peer:InputPeer offset_id:int limit:int = stories.Stories;\nstories.getStoriesArchive#b4352016 peer:InputPeer offset_id:int limit:int = stories.Stories;\nstories.getStoriesByID#5774ca74 peer:InputPeer id:Vector<int> = stories.Stories;\nstories.readStories#a556dac8 peer:InputPeer max_id:int = Vector<int>;\nstories.incrementStoryViews#b2028afb peer:InputPeer id:Vector<int> = Bool;\nstories.getStoryViewsList#7ed23c57 flags:# just_contacts:flags.0?true reactions_first:flags.2?true forwards_first:flags.3?true peer:InputPeer q:flags.1?string id:int offset:string limit:int = stories.StoryViewsList;\nstories.getStoriesViews#28e16cc8 peer:InputPeer id:Vector<int> = stories.StoryViews;\nstories.exportStoryLink#7b8def20 peer:InputPeer id:int = ExportedStoryLink;\nstories.report#19d8eb45 peer:InputPeer id:Vector<int> option:bytes message:string = ReportResult;\nstories.activateStealthMode#57bbd166 flags:# past:flags.0?true future:flags.1?true = Updates;\nstories.sendReaction#7fd736b2 flags:# add_to_recent:flags.0?true peer:InputPeer story_id:int reaction:Reaction = Updates;\nstories.getPeerStories#2c4ada50 peer:InputPeer = stories.PeerStories;\nstories.getPeerMaxIDs#78499170 id:Vector<InputPeer> = Vector<RecentStory>;\nstories.togglePeerStoriesHidden#bd0415c4 peer:InputPeer hidden:Bool = Bool;\nstories.togglePinnedToTop#b297e9b peer:InputPeer id:Vector<int> = Bool;\nstories.getAlbums#25b3eac7 peer:InputPeer hash:long = stories.Albums;\nstories.getAlbumStories#ac806d61 peer:InputPeer album_id:int offset:int limit:int = stories.Stories;\npremium.getBoostsList#60f67660 flags:# gifts:flags.0?true peer:InputPeer offset:string limit:int = premium.BoostsList;\npremium.getMyBoosts#be77b4a = premium.MyBoosts;\npremium.applyBoost#6b7da746 flags:# slots:flags.0?Vector<int> peer:InputPeer = premium.MyBoosts;\npremium.getBoostsStatus#42f1f61 peer:InputPeer = premium.BoostsStatus;\nfragment.getCollectibleInfo#be1e85ba collectible:InputCollectible = fragment.CollectibleInfo;"),[n,s]=Vs("resPQ#05162463 nonce:int128 server_nonce:int128 pq:string server_public_key_fingerprints:Vector<long> = ResPQ;\np_q_inner_data#83c95aec pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 = P_Q_inner_data;\np_q_inner_data_dc#a9f55f95 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int = P_Q_inner_data;\np_q_inner_data_temp#3c6a84d4 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 expires_in:int = P_Q_inner_data;\np_q_inner_data_temp_dc#56fddf88 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int expires_in:int = P_Q_inner_data;\nserver_DH_params_fail#79cb045d nonce:int128 server_nonce:int128 new_nonce_hash:int128 = Server_DH_Params;\nserver_DH_params_ok#d0e8075c nonce:int128 server_nonce:int128 encrypted_answer:string = Server_DH_Params;\nserver_DH_inner_data#b5890dba nonce:int128 server_nonce:int128 g:int dh_prime:string g_a:string server_time:int = Server_DH_inner_data;\nclient_DH_inner_data#6643b654 nonce:int128 server_nonce:int128 retry_id:long g_b:string = Client_DH_Inner_Data;\ndh_gen_ok#3bcbf734 nonce:int128 server_nonce:int128 new_nonce_hash1:int128 = Set_client_DH_params_answer;\ndh_gen_retry#46dc1fb9 nonce:int128 server_nonce:int128 new_nonce_hash2:int128 = Set_client_DH_params_answer;\ndh_gen_fail#a69dae02 nonce:int128 server_nonce:int128 new_nonce_hash3:int128 = Set_client_DH_params_answer;\ndestroy_auth_key_ok#f660e1d4 = DestroyAuthKeyRes;\ndestroy_auth_key_none#0a9f2259 = DestroyAuthKeyRes;\ndestroy_auth_key_fail#ea109b13 = DestroyAuthKeyRes;\n---functions---\nreq_pq#60469778 nonce:int128 = ResPQ;\nreq_pq_multi#be7e8ef1 nonce:int128 = ResPQ;\nreq_pq_multi_new#51b410fd nonce:int128 = ResPQ;\nreq_DH_params#d712e4be nonce:int128 server_nonce:int128 p:string q:string public_key_fingerprint:long encrypted_data:string = Server_DH_Params;\nset_client_DH_params#f5045f1f nonce:int128 server_nonce:int128 encrypted_data:string = Set_client_DH_params_answer;\ndestroy_auth_key#d1435160 = DestroyAuthKeyRes;\n---types---\nmsgs_ack#62d6b459 msg_ids:Vector<long> = MsgsAck;\nbad_msg_notification#a7eff811 bad_msg_id:long bad_msg_seqno:int error_code:int = BadMsgNotification;\nbad_server_salt#edab447b bad_msg_id:long bad_msg_seqno:int error_code:int new_server_salt:long = BadMsgNotification;\nmsgs_state_req#da69fb52 msg_ids:Vector<long> = MsgsStateReq;\nmsgs_state_info#04deb57d req_msg_id:long info:string = MsgsStateInfo;\nmsgs_all_info#8cc0d131 msg_ids:Vector<long> info:string = MsgsAllInfo;\nmsg_detailed_info#276d3ec6 msg_id:long answer_msg_id:long bytes:int status:int = MsgDetailedInfo;\nmsg_new_detailed_info#809db6df answer_msg_id:long bytes:int status:int = MsgDetailedInfo;\nmsg_resend_req#7d861a08 msg_ids:Vector<long> = MsgResendReq;\nrpc_error#2144ca19 error_code:int error_message:string = RpcError;\nrpc_answer_unknown#5e2ad36e = RpcDropAnswer;\nrpc_answer_dropped_running#cd78e586 = RpcDropAnswer;\nrpc_answer_dropped#a43ad8b7 msg_id:long seq_no:int bytes:int = RpcDropAnswer;\nfuture_salt#0949d9dc valid_since:int valid_until:int salt:long = FutureSalt;\nfuture_salts#ae500895 req_msg_id:long now:int salts:vector<FutureSalt> = FutureSalts;\npong#347773c5 msg_id:long ping_id:long = Pong;\ndestroy_session_ok#e22045fc session_id:long = DestroySessionRes;\ndestroy_session_none#62d350c9 session_id:long = DestroySessionRes;\nnew_session_created#9ec20908 first_msg_id:long unique_id:long server_salt:long = NewSession;\nhttp_wait#9299359f max_delay:int wait_after:int max_wait:int = HttpWait;\nipPort#d433ad73 ipv4:int port:int = IpPort;\nipPortSecret#37982646 ipv4:int port:int secret:bytes = IpPort;\naccessPointRule#4679b65f phone_prefix_rules:string dc_id:int ips:vector<IpPort> = AccessPointRule;\nhelp.configSimple#5a592a6c date:int expires:int rules:vector<AccessPointRule> = help.ConfigSimple;\ntlsClientHello blocks:vector<TlsBlock> = TlsClientHello;\ntlsBlockString data:string = TlsBlock;\ntlsBlockRandom length:int = TlsBlock;\ntlsBlockZero length:int = TlsBlock;\ntlsBlockDomain = TlsBlock;\ntlsBlockGrease seed:int = TlsBlock;\ntlsBlockScope entries:Vector<TlsBlock> = TlsBlock;\n---functions---\nping#7abe77ec ping_id:long = Pong;\nping_delay_disconnect#f3427b8c ping_id:long disconnect_delay:int = Pong;");return{constructors:[].concat(e,n),requests:[].concat(t,s)}}(),Fs&&localStorage.setItem(Os,JSON.stringify(e))),function(e,t){const n={...e};return Object.keys(t).forEach(e=>{"function"!=typeof t[e]&&n[e]?Object.assign(n[e],t[e]):n[e]=t[e]}),n}(js("constructor",e.constructors),js("request",e.requests))}();class zs extends Error{constructor(e,t,n){super("RPCError {0}: {1}{2}".replace("{0}",n?.toString()||"").replace("{1}",e).replace("{2}",zs._fmtRequest(t))),this.code=n,this.errorMessage=e}static _fmtRequest(e){return e?` (caused by ${e.className})`:""}}class Ws extends zs{constructor(e,t,n){super(e,t,n),this.code=n||303,this.errorMessage=e||"ERROR_SEE_OTHER"}}class Hs extends zs{code=400;errorMessage="BAD_REQUEST"}class Ks extends zs{code=420;errorMessage="FLOOD"}class Ys extends Ks{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required${zs._fmtRequest(e.request)}`,e.request),this.message=`A wait of ${t} seconds is required${zs._fmtRequest(e.request)}`,this.seconds=t}}Error,Error;new Map([[/FILE_MIGRATE_(\d+)/,class extends Ws{constructor(e){const t=Number(e.capture||0);super(`The file to be accessed is currently stored in DC ${t}${zs._fmtRequest(e.request)}`,e.request),this.message=`The file to be accessed is currently stored in DC ${t}${zs._fmtRequest(e.request)}`,this.newDc=t}}],[/FLOOD_TEST_PHONE_WAIT_(\d+)/,class extends Ks{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required in the test servers${zs._fmtRequest(e.request)}`,e.request),this.message=`A wait of ${t} seconds is required in the test servers${zs._fmtRequest(e.request)}`,this.seconds=t}}],[/FLOOD_WAIT_(\d+)/,Ys],[/FLOOD_PREMIUM_WAIT_(\d+)/,class extends Ys{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required${zs._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required${zs._fmtRequest(e.request)}`,this.seconds=t}}],[/MSG_WAIT_(.*)/,class extends Ks{constructor(e){super(`Message failed to be sent.${zs._fmtRequest(e.request)}`,e.request),this.message=`Message failed to be sent.${zs._fmtRequest(e.request)}`}}],[/PHONE_MIGRATE_(\d+)/,class extends Ws{constructor(e){const t=Number(e.capture||0);super(`The phone number a user is trying to use for authorization is associated with DC ${t}${zs._fmtRequest(e.request)}`,e.request),this.message=`The phone number a user is trying to use for authorization is associated with DC ${t}${zs._fmtRequest(e.request)}`,this.newDc=t}}],[/SLOWMODE_WAIT_(\d+)/,class extends Ks{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required before sending another message in this chat ${zs._fmtRequest(e.request)}`,e.request),this.message=`A wait of ${t} seconds is required before sending another message in this chat${zs._fmtRequest(e.request)}`,this.seconds=t}}],[/USER_MIGRATE_(\d+)/,class extends Ws{constructor(e){const t=Number(e.capture||0);super(`The user whose identity is being used to execute queries is associated with DC ${t}${zs._fmtRequest(e.request)}`,e.request),this.message=`The user whose identity is being used to execute queries is associated with DC ${t}${zs._fmtRequest(e.request)}`,this.newDc=t}}],[/NETWORK_MIGRATE_(\d+)/,class extends Ws{constructor(e){const t=Number(e.capture||0);super(`The source IP address is associated with DC ${t}${zs._fmtRequest(e.request)}`,e.request),this.message=`The source IP address is associated with DC ${t}${zs._fmtRequest(e.request)}`,this.newDc=t}}],[/EMAIL_UNCONFIRMED_(\d+)/,class extends Hs{constructor(e){const t=Number(e.capture||0);super(`Email unconfirmed, the length of the code must be ${t}${zs._fmtRequest(e.request)}`,e.request,400),this.message=`Email unconfirmed, the length of the code must be ${t}${zs._fmtRequest(e.request)}`,this.codeLength=t}}],[/PASSWORD_TOO_FRESH_(\d+)/,class extends Hs{constructor(e){const t=Number(e.capture||0);super(`The password was modified less than 24 hours ago, try again in ${t} seconds.`,e.request),this.message=`The password was modified less than 24 hours ago, try again in ${t} seconds.`,this.seconds=t}}],[/^Timeout$/,class extends zs{code=503;errorMessage="Timeout"}],[/PASSKEY_CREDENTIAL_NOT_FOUND/,class extends zs{constructor(e){super("PASSKEY_CREDENTIAL_NOT_FOUND",e.request)}}]]),Error,Error,Error,Error,Error,Error;var Js=n(87784),Xs=n(48287).hp;class Qs{static CONSTRUCTOR_ID=812830625;static classType="constructor";constructor(e){this.data=e,this.CONSTRUCTOR_ID=812830625,this.classType="constructor"}static async gzipIfSmaller(e,t){if(e&&t.length>512){const e=await new Qs(t).toBytes();if(e.length<t.length)return e}return t}static gzip(e){return Xs.from(e)}static ungzip(e){return Xs.from((0,Js.inflate)(e))}async toBytes(){const e=Xs.alloc(4);return e.writeUInt32LE(Qs.CONSTRUCTOR_ID,0),Xs.concat([e,Ds(await Qs.gzip(this.data))])}static read(e){if(e.readInt(!1)!==Qs.CONSTRUCTOR_ID)throw new Error("not equal");return Qs.gzip(e.tgReadBytes())}static async fromReader(e){const t=e.tgReadBytes();return new Qs(await Qs.ungzip(t))}}class Zs{static SIZE_OVERHEAD=12;static classType="constructor";constructor(e,t,n){this.msgId=e,this.seqNo=t,this.obj=n}}class er{static CONSTRUCTOR_ID=1945237724;static classType="constructor";static MAXIMUM_SIZE=1044448;static MAXIMUM_LENGTH=100;constructor(e){this.CONSTRUCTOR_ID=1945237724,this.messages=e,this.classType="constructor"}static fromReader(e){const t=[],n=e.readInt();for(let s=0;s<n;s++){const n=e.readLong(),s=e.readInt(),r=e.readInt(),a=e.tellPosition(),o=e.tgReadObject();e.setPosition(a+r);const i=new Zs(n,s,o);t.push(i)}return new er(t)}}class tr{static CONSTRUCTOR_ID=4082920705;static classType="constructor";constructor(e,t,n){this.CONSTRUCTOR_ID=4082920705,this.reqMsgId=e,this.body=t,this.error=n,this.classType="constructor"}static async fromReader(e){const t=e.readLong(),n=e.readInt(!1);return n===qs.RpcError.CONSTRUCTOR_ID?new tr(t,void 0,qs.RpcError.fromReader(e)):n===Qs.CONSTRUCTOR_ID?new tr(t,(await Qs.fromReader(e)).data):(e.seek(-4),new tr(t,e.read(),void 0))}}new Map([[tr.CONSTRUCTOR_ID,tr],[Qs.CONSTRUCTOR_ID,Qs],[er.CONSTRUCTOR_ID,er]]);const nr={};for(const e of Object.values(qs))if("CONSTRUCTOR_ID"in e)nr[e.CONSTRUCTOR_ID]=e;else for(const t of Object.values(e))nr[t.CONSTRUCTOR_ID]=t;n(48287).hp,n(48287).hp,new Error("HttpStream was closed"),AbortSignal.timeout??=function(e){const t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal},new Map([["error",new Set(["error"])],["warn",new Set(["error","warn"])],["info",new Set(["error","warn","info"])],["debug",new Set(["error","warn","info","debug"])]]),n(48287).hp,new Set(["messages.SendMessage","messages.SendMedia","messages.SendMultiMedia","messages.ForwardMessages","messages.SendInlineBotResult"]),new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const sr=new Error("request for lock canceled");class rr{constructor(e,t=sr){this._value=e,this._cancelError=t,this._queue=[],this._weightedWaiters=[]}acquire(e=1,t=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((n,s)=>{const r={resolve:n,reject:s,weight:e,priority:t},a=ar(this._queue,e=>t<=e.priority);-1===a&&e<=this._value?this._dispatchItem(r):this._queue.splice(a+1,0,r)})}runExclusive(e){return t=this,n=arguments,r=function*(e,t=1,n=0){const[s,r]=yield this.acquire(t,n);try{return yield e(s)}finally{r()}},new((s=void 0)||(s=Promise))(function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof s?e:new s(function(t){t(e)})}(t.value).then(o,i)}c((r=r.apply(t,n||[])).next())});var t,n,s,r}waitForUnlock(e=1,t=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,t)?Promise.resolve():new Promise(n=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),function(e,t){const n=ar(e,e=>t.priority<=e.priority);e.splice(n+1,0,t)}(this._weightedWaiters[e-1],{resolve:n,priority:t})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){const t=this._value;this._value-=e.weight,e.resolve([t,this._newReleaser(e.weight)])}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let e=this._value;e>0;e--){const t=this._weightedWaiters[e-1];t&&(t.forEach(e=>e.resolve()),this._weightedWaiters[e-1]=[])}else{const e=this._queue[0].priority;for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];if(!n)continue;const s=n.findIndex(t=>t.priority<=e);(-1===s?n:n.splice(0,s)).forEach(e=>e.resolve())}}}_couldLockImmediately(e,t){return(0===this._queue.length||this._queue[0].priority<t)&&e<=this._value}}function ar(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}n(48287).hp,new class{constructor(e){this._semaphore=new rr(1,e)}acquire(){return e=this,t=arguments,s=function*(e=0){const[,t]=yield this._semaphore.acquire(1,e);return t},new((n=void 0)||(n=Promise))(function(r,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function i(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}c((s=s.apply(e,t||[])).next())});var e,t,n,s}runExclusive(e,t=0){return this._semaphore.runExclusive(()=>e(),1,t)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}},new Error("WebSocket was closed");var or=n(48287).hp;or.from("ef","hex"),or.from("efefefef","hex"),n(48287).hp,n(48287).hp,n(48287).hp,n(48287).hp,n(48287).hp,n(48287).hp,n(48287).hp,[{fingerprint:BigInt("-3414540481677951611"),n:BigInt("29379598170669337022986177149456128565388431120058863768162556424047512191330847455146576344487764408661701890505066208632169112269581063774293102577308490531282748465986139880977280302242772832972539403531316010870401287642763009136156734339538042419388722777357134487746169093539093850251243897188928735903389451772730245253062963384108812842079887538976360465290946139638691491496062099570836476454855996319192747663615955633778034897140982517446405334423701359108810182097749467210509584293428076654573384828809574217079944388301239431309115013843331317877374435868468779972014486325557807783825502498215169806323"),e:65537},{fingerprint:BigInt("-5595554452916591101"),n:BigInt("25342889448840415564971689590713473206898847759084779052582026594546022463853940585885215951168491965708222649399180603818074200620463776135424884632162512403163793083921641631564740959529419359595852941166848940585952337613333022396096584117954892216031229237302943701877588456738335398602461675225081791820393153757504952636234951323237820036543581047826906120927972487366805292115792231423684261262330394324750785450942589751755390156647751460719351439969059949569615302809050721500330239005077889855323917509948255722081644689442127297605422579707142646660768825302832201908302295573257427896031830742328565032949"),e:65537}].reduce((e,{fingerprint:t,...n})=>(e.set(t,n),e),new Map),n(48287).hp,n(9705),n(48287).hp;var ir=n(48287).hp;ir.from("ffd8ffe000104a46494600010100000100010000ffdb004300281c1e231e19282321232d2b28303c64413c37373c7b585d4964918099968f808c8aa0b4e6c3a0aadaad8a8cc8ffcbdaeef5ffffff9bc1fffffffaffe6fdfff8ffdb0043012b2d2d3c353c76414176f8a58ca5f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8ffc00011080000000003012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00","hex"),ir.from("ffd9","hex"),n(48287).hp,n(51072),n(8366),n(48287).hp,n(48287).hp,n(48287).hp,n(80140),n(21309),n(48894),n(48287).hp;var cr=n(4350),dr=n(37836),ur=n(48287).hp;const lr=new BroadcastChannel(cr.rL);let fr=[];const gr=(0,dr.nF)(()=>{lr.postMessage({type:"localDbUpdate",batchedUpdates:fr}),fr=[]},100);function pr(e){if(e instanceof Uint8Array)return ur.from(e);if("object"==typeof e&&1===Object.keys(e).length&&"value"===Object.keys(e)[0])return BigInt(e.value);if(Array.isArray(e))return e.map(pr);if("object"!=typeof e||!("CONSTRUCTOR_ID"in e))return e;const t=e.className.split(".").reduce((e,t)=>e[t],qs),n=function(e){const{flags:t,CONSTRUCTOR_ID:n,SUBCLASS_OF_ID:s,className:r,classType:a,getBytes:o,...i}=e;return i}(e);return new t(Object.keys(n).reduce((e,t)=>(e[t]=pr(n[t]),e),{}))}const hr=["localMessages","chats","users","messages","documents","stickerSets","photos","webDocuments","stories","commonBoxState","channelPtsById"].reduce((e,t)=>{const n=mr?.[t]??{},s=Object.keys(n).reduce((e,s)=>{if("commonBoxState"===t||"channelPtsById"===t){const t=n;return e[s]=t[s],e}return e[s]=pr(n[s]),e},{});var r;return e[t]=(r=t,new Proxy(s,{get:(e,t,n)=>Reflect.get(e,t,n),set:(e,t,n)=>(fr.push({name:r,prop:t,value:n}),gr(),Reflect.set(e,t,n))})),e},{});var mr;function yr(e,t){const n=BigInt(e);return"user"===t?n:"channel"===t?-n-Ee.OkV:-1n*n}Ee.Oig&&(globalThis.getLocalDb=()=>hr),n(48287).hp;const br={};Ee.Oig&&(globalThis.getDcManagers=()=>br),n(48287).hp,n(48287).hp,n(48287).hp;const _r={name:"get_recent_actions",description:"Get recent admin actions (admin log) in a group or channel",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"}},required:["chat_id"]}};async function vr(e,t){try{const t=Be(e.chat_id,"chat_id"),r=Fe(t);if(!r)return{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0};if(!r.accessHash)return{content:[{type:"text",text:"This chat does not support admin log"}],isError:!0};const a=(n=r.id,(s=r.accessHash)?new qs.InputChannel({channelId:yr(n,"channel"),accessHash:BigInt(s)}):new qs.InputChannelEmpty),o=await(0,Le.px)("invokeRequest",new qs.channels.GetAdminLog({channel:a,q:"",eventsFilter:void 0,admins:[],maxId:BigInt(0),minId:BigInt(0),limit:20}));if(!o||!("events"in o)||!o.events||0===o.events.length)return{content:[{type:"text",text:"No recent admin actions found."}]};const i=o.events.map(e=>({id:String(e.id),date:e.date,userId:String(e.userId),action:e.action.className}));return{content:[{type:"text",text:JSON.stringify({events:i,count:i.length},void 0,2)}]}}catch(e){return Ne("get_recent_actions",e instanceof Error?e:new Error(String(e)),Ue.ADMIN)}var n,s}const wr={name:"create_poll",description:"Create a poll in a chat using Telegram's native poll feature",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The ID of the chat to send the poll to"},question:{type:"string",description:"The poll question"},options:{type:"array",items:{type:"string"},description:"List of answer options (2-10 options)"},multiple_choice:{type:"boolean",description:"Whether users can select multiple answers",default:!1},quiz_mode:{type:"boolean",description:"Whether this is a quiz (has correct answer)",default:!1},public_votes:{type:"boolean",description:"Whether votes are public",default:!0},close_date:{type:"string",description:"Optional close date in ISO format (YYYY-MM-DD HH:MM:SS)"}},required:["chat_id","question","options"]}};async function Ir(e,t){try{const t=Be(e.chat_id,"chat_id"),{question:n,options:s,multiple_choice:r=!1,quiz_mode:a=!1,public_votes:o=!0,close_date:i}=e;if(s.length<2)return{content:[{type:"text",text:"Error: Poll must have at least 2 options."}],isError:!0};if(s.length>10)return{content:[{type:"text",text:"Error: Poll can have at most 10 options."}],isError:!0};const c=Fe(t);if(!c)return{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0};let d;if(i)try{const e=new Date(i);if(isNaN(e.getTime()))return{content:[{type:"text",text:"Invalid close_date format. Use YYYY-MM-DD HH:MM:SS format."}],isError:!0};d=Math.floor(e.getTime()/1e3)}catch{return{content:[{type:"text",text:"Invalid close_date format. Use YYYY-MM-DD HH:MM:SS format."}],isError:!0}}const u={summary:{question:{text:n,entities:[]},answers:s.map((e,t)=>({text:{text:e,entities:[]},option:String(t)})),...r&&{multipleChoice:!0},...a&&{quiz:!0},...o&&{isPublic:!0},...d&&{closeDate:d}}};return await(0,Le.px)("sendMessage",{chat:c,poll:u}),{content:[{type:"text",text:`Poll created successfully in chat ${t}.`}]}}catch(e){return Ne("create_poll",e instanceof Error?e:new Error(String(e)),Ue.MSG)}}const Sr={name:"get_bot_info",description:"Get information about a bot by username",inputSchema:{type:"object",properties:{bot_username:{type:"string",description:"The username of the bot (without @)"}},required:["bot_username"]}};async function Cr(e,t){try{const{bot_username:t}=e,n=t.startsWith("@")?t.slice(1):t,s=await(0,Le.px)("getChatByUsername",n);if(!s||!s.user)return{content:[{type:"text",text:`Bot with username ${t} not found.`}],isError:!0};const r=s.user;if("userTypeBot"!==r.type)return{content:[{type:"text",text:`User ${t} is not a bot.`}],isError:!0};const a=await(0,Le.px)("fetchFullUser",{id:r.id,accessHash:r.accessHash}),o={id:r.id,username:r.usernames?.[0]?.username,firstName:r.firstName,lastName:r.lastName,isBot:!0,isVerified:r.isVerified};return a?.fullInfo&&(a.fullInfo.botInfo&&(o.description=a.fullInfo.botInfo.description,o.commands=a.fullInfo.botInfo.commands),a.fullInfo.bio&&(o.bio=a.fullInfo.bio)),{content:[{type:"text",text:JSON.stringify({bot_info:o},void 0,2)}]}}catch(e){return Ne("get_bot_info",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const Ar={name:"set_bot_commands",description:"Set bot commands for a bot you own. Note: This function can only be used if the Telegram client is a bot account.",inputSchema:{type:"object",properties:{bot_username:{type:"string",description:"The username of the bot to set commands for"},commands:{type:"array",items:{type:"object",properties:{command:{type:"string"},description:{type:"string"}},required:["command","description"]},description:"List of command dictionaries with 'command' and 'description' keys"}},required:["bot_username","commands"]}};async function Pr(e,t){try{const{bot_username:t,commands:n}=e,s=Ge();if(!s||!s.isBot)return{content:[{type:"text",text:"Error: This function can only be used by bot accounts. Your current Telegram account is a regular user account, not a bot."}],isError:!0};const r=t.startsWith("@")?t.slice(1):t,a=await(0,Le.px)("getChatByUsername",{username:r});if(!a||!a.user)return{content:[{type:"text",text:`Bot with username ${t} not found.`}],isError:!0};const o=a.user;return o.isBot?(await(0,Le.px)("setBotInfo",{bot:o,langCode:"en",name:void 0,about:void 0,description:void 0}),{content:[{type:"text",text:`Bot commands set for ${t}. Note: Command setting may require additional API support.`}]}):{content:[{type:"text",text:`User ${t} is not a bot.`}],isError:!0}}catch(e){return Ne("set_bot_commands",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const kr={name:"get_privacy_settings",description:"Get your privacy settings for last seen status and other privacy options",inputSchema:{type:"object",properties:{}}};async function Tr(e,t){try{const e=await(0,Le.px)("fetchPrivacySettings",{privacyKey:"lastSeen"});return e?{content:[{type:"text",text:JSON.stringify({lastSeen:e.rules},void 0,2)}]}:{content:[{type:"text",text:"Could not fetch privacy settings."}],isError:!0}}catch(e){return Ne("get_privacy_settings",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const Er={name:"set_privacy_settings",description:"Set privacy settings (e.g., last seen, phone, etc.)",inputSchema:{type:"object",properties:{key:{type:"string",description:"The privacy setting to modify ('lastSeen' for last seen, 'phoneNumber' for phone, 'profilePhoto' for profile photo, etc.)"},allow_users:{type:"array",items:{type:["string","number"]},description:"List of user IDs or usernames to allow"},disallow_users:{type:"array",items:{type:["string","number"]},description:"List of user IDs or usernames to disallow"}},required:["key"]}};async function Mr(e,t){try{const{key:t,allow_users:n,disallow_users:s}=e,r={status:"lastSeen",phone:"phoneNumber",profile_photo:"profilePhoto"}[t]||t;if(!["lastSeen","phoneNumber","profilePhoto","forwards","chatInvite"].includes(r))return{content:[{type:"text",text:`Unsupported privacy key '${t}'. Supported keys: status, phone, profile_photo, forwards, chatInvite`}],isError:!0};const a=[],o=[],i=[],c=[];if(n&&n.length>0)for(const e of n){const t=Oe(e);if(t)a.push(t.id);else{const t=Fe(e);t&&o.push(t.id)}}if(s&&s.length>0)for(const e of s){const t=Oe(e);if(t)i.push(t.id);else{const t=Fe(e);t&&c.push(t.id)}}let d="everybody";(n&&n.length>0||s&&s.length>0)&&(d="contacts");const u={visibility:d,allowUserIds:a,allowChatIds:o,blockUserIds:i,blockChatIds:c};return await(0,Le.px)("setPrivacySettings",{privacyKey:r,rules:u}),{content:[{type:"text",text:`Privacy settings for ${t} updated successfully.`}]}}catch(e){return Ne("set_privacy_settings",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const xr={name:"set_profile_photo",description:"Set a new profile photo. Note: This requires a File object which may not be available in MCP context.",inputSchema:{type:"object",properties:{file_path:{type:"string",description:"Path to the photo file (Note: In browser context, this may need to be a blob URL or data URL)"}},required:["file_path"]}};async function Rr(e,t){try{const{file_path:t}=e;let n;try{const e=await fetch(t),s=await e.blob(),r=t.split("/").pop()||"photo.jpg";n=new File([s],r,{type:s.type||"image/jpeg"})}catch(e){return{content:[{type:"text",text:`Failed to load file from ${t}. Error: ${e instanceof Error?e.message:String(e)}`}],isError:!0}}const s=await(0,Le.px)("uploadProfilePhoto",{file:n,isFallback:!1,isVideo:!1});return s&&s.photo?{content:[{type:"text",text:"Profile photo updated."}]}:{content:[{type:"text",text:"Failed to upload profile photo."}],isError:!0}}catch(e){return Ne("set_profile_photo",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const Br={name:"delete_profile_photo",description:"Delete your current profile photo",inputSchema:{type:"object",properties:{}}};async function Ur(e,t){try{const e=Ge();if(!e)return{content:[{type:"text",text:"User information not available"}],isError:!0};const t=await(0,Le.px)("fetchProfilePhotos",{peer:e,offset:0,limit:1});return t&&t.photos&&0!==t.photos.length?await(0,Le.px)("deleteProfilePhotos",[t.photos[0]])?{content:[{type:"text",text:"Profile photo deleted."}]}:{content:[{type:"text",text:"Failed to delete profile photo."}],isError:!0}:{content:[{type:"text",text:"No profile photo to delete."}]}}catch(e){return Ne("delete_profile_photo",e instanceof Error?e:new Error(String(e)),Ue.PROFILE)}}const Nr={name:"edit_chat_photo",description:"Edit the photo of a chat, group, or channel. Requires a file path to an image.",inputSchema:{type:"object",properties:{chat_id:{type:["string","number"],description:"The chat ID or username"},file_path:{type:"string",description:"Path to the photo file (Note: In browser context, this may need to be a blob URL or data URL)"}},required:["chat_id","file_path"]}};async function Dr(e,t){try{const t=Be(e.chat_id,"chat_id"),{file_path:n}=e,s=Fe(t);if(!s)return{content:[{type:"text",text:`Chat ${t} not found`}],isError:!0};let r;try{const e=await fetch(n),t=await e.blob(),s=n.split("/").pop()||"photo.jpg";r=new File([t],s,{type:t.type||"image/jpeg"})}catch(e){return{content:[{type:"text",text:`Failed to load file from ${n}. Error: ${e instanceof Error?e.message:String(e)}`}],isError:!0}}return await(0,Le.px)("editChatPhoto",{chatId:s.id,accessHash:s.accessHash,photo:r})?{content:[{type:"text",text:`Chat ${t} photo updated.`}]}:{content:[{type:"text",text:"Failed to update chat photo."}],isError:!0}}catch(e){return Ne("edit_chat_photo",e instanceof Error?e:new Error(String(e)),Ue.CHAT)}}const Lr={name:"get_sticker_sets",description:"Get all sticker sets",inputSchema:{type:"object",properties:{}}};async function Fr(e,t){try{const e=await(0,Le.px)("fetchStickerSets",{});if(!e||!e.sets)return{content:[{type:"text",text:"No sticker sets found."}]};const t=e.sets.map(e=>({id:e.id,title:e.title,shortName:e.shortName,count:e.count}));return{content:[{type:"text",text:JSON.stringify(t,void 0,2)}]}}catch(e){return Ne("get_sticker_sets",e instanceof Error?e:new Error(String(e)),Ue.MEDIA)}}const Or={name:"get_gif_search",description:"Search for GIFs by query. Returns a list of Telegram document IDs (not file paths).",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search term for GIFs"},limit:{type:"number",description:"Max number of GIFs to return",default:10}},required:["query"]}};async function Vr(e,t){try{const{query:t,limit:n=10}=e,s=await(0,Le.px)("searchGifs",{query:t,offset:"",username:"gif"});if(!s||!s.gifs)return{content:[{type:"text",text:"[]"}]};const r=s.gifs.slice(0,n).map(e=>e.id);return{content:[{type:"text",text:JSON.stringify(r,void 0,2)}]}}catch(e){return Ne("get_gif_search",e instanceof Error?e:new Error(String(e)),Ue.MEDIA)}}const $r={name:"get_contact_ids",description:"List all contact IDs",inputSchema:{type:"object",properties:{}}};async function Gr(e,t){try{const e=await(0,Le.px)("fetchContactList");if(!e||!e.users)return{content:[{type:"text",text:"[]"}]};const t=e.users.map(e=>e.id);return{content:[{type:"text",text:JSON.stringify(t,void 0,2)}]}}catch(e){return Ne("get_contact_ids",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const jr={name:"import_contacts",description:"Import a list of contacts. Each contact should be a dict with phone, first_name, last_name.",inputSchema:{type:"object",properties:{contacts:{type:"array",items:{type:"object",properties:{phone:{type:"string"},first_name:{type:"string"},last_name:{type:"string"}},required:["phone","first_name"]},description:"List of contacts to import"}},required:["contacts"]}};async function qr(e,t){try{const{contacts:t}=e;let n=0;for(const e of t)await(0,Le.px)("importContact",{phone:e.phone,firstName:e.first_name,lastName:e.last_name||""})&&n++;return{content:[{type:"text",text:`Imported ${n} contacts.`}]}}catch(e){return Ne("import_contacts",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const zr={name:"export_contacts",description:"Export all contacts as a JSON string",inputSchema:{type:"object",properties:{}}};async function Wr(e,t){try{const e=await(0,Le.px)("fetchContactList");if(!e||!e.users)return{content:[{type:"text",text:"[]"}]};const t=e.users.map(je);return{content:[{type:"text",text:JSON.stringify(t,void 0,2)}]}}catch(e){return Ne("export_contacts",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Hr={name:"get_direct_chat_by_contact",description:"Find a direct chat with a specific contact by name, username, or phone.",inputSchema:{type:"object",properties:{contact_query:{type:"string",description:"Name, username, or phone number to search for"}},required:["contact_query"]}};async function Kr(e,t){try{const{contact_query:t}=e,n=await(0,Le.px)("fetchContactList");if(!n||!n.users)return{content:[{type:"text",text:`No contacts found matching '${t}'.`}]};const s=(0,Te.mS)(),r=t.toLowerCase(),a=n.users.filter(e=>{const n=`${e.firstName||""} ${e.lastName||""}`.trim().toLowerCase(),s=e.usernames?.[0]?.username?.toLowerCase()||"",a="string"==typeof e.phoneNumber?e.phoneNumber:"";return n.includes(r)||s&&s.includes(r)||a&&a.includes(t)});if(0===a.length)return{content:[{type:"text",text:`No contacts found matching '${t}'.`}]};const o=[];for(const e of a){const t=`${e.firstName||""} ${e.lastName||""}`.trim();if((0,De.hds)(s,e.id)){let n=`Chat ID: ${e.id}, Contact: ${t}`;e.usernames?.[0]?.username&&(n+=`, Username: @${e.usernames[0].username}`);const r=s.chats.byId[e.id]?.unreadCount;r&&(n+=`, Unread: ${r}`),o.push(n)}}return 0===o.length?{content:[{type:"text",text:`Found contacts: ${a.map(e=>`${e.firstName||""} ${e.lastName||""}`.trim()).join(", ")}, but no direct chats were found with them.`}]}:{content:[{type:"text",text:o.join("\n")}]}}catch(e){return Ne("get_direct_chat_by_contact",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Yr={name:"get_contact_chats",description:"List all chats involving a specific contact.",inputSchema:{type:"object",properties:{contact_id:{type:["string","number"],description:"The ID or username of the contact"}},required:["contact_id"]}};async function Jr(e,t){try{const t=Be(e.contact_id,"contact_id"),n=Oe(t);if(!n)return{content:[{type:"text",text:`ID ${t} is not a user/contact.`}],isError:!0};const s=`${n.firstName||""} ${n.lastName||""}`.trim();let r=(0,Te.mS)();const a=[];if((0,De.hds)(r,t.toString())){let e=`Direct Chat ID: ${t}, Type: Private`;const n=r.chats.byId[t.toString()]?.unreadCount;n&&(e+=`, Unread: ${n}`),a.push(e)}try{const e=await(0,Le.px)("fetchCommonChats",{user:n,maxId:void 0});if(r=(0,Te.mS)(),e&&e.chatIds)for(const t of e.chatIds){const e=r.chats.byId[t]?.type,n=`Chat ID: ${t}, Title: ${r.chats.byId[t]?.title||"Unknown"}, Type: ${e}`;a.push(n)}}catch{a.push("Could not retrieve common groups.")}return 0===a.length?{content:[{type:"text",text:`No chats found with ${s} (ID: ${t}).`}]}:{content:[{type:"text",text:`Chats with ${s} (ID: ${t}):\n${a.join("\n")}`}]}}catch(e){return Ne("get_contact_chats",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}const Xr={name:"get_last_interaction",description:"Get the most recent message with a contact.",inputSchema:{type:"object",properties:{contact_id:{type:["string","number"],description:"The ID or username of the contact"}},required:["contact_id"]}};async function Qr(e,t){try{const n=Be(e.contact_id,"contact_id"),s=Oe(n);if(!s)return{content:[{type:"text",text:`ID ${n} is not a user/contact.`}],isError:!0};const r=`${s.firstName||""} ${s.lastName||""}`.trim();let a=(0,De.hds)(t.global,s.id);if(!a){const e=await(0,Le.px)("fetchChat",{type:"user",user:s});e?.chatId&&(a=(0,De.hds)(t.global,e.chatId))}if(!a)return{content:[{type:"text",text:`Could not find chat for ${r} (ID: ${n}).`}],isError:!0};const o=await(0,Le.px)("fetchMessages",{chat:a,threadId:0,offsetId:void 0,isSavedDialog:!1,addOffset:void 0,limit:5});if(!o||!o.messages||0===o.messages.length)return{content:[{type:"text",text:`No messages found with ${r} (ID: ${n}).`}]};const i=[`Last interactions with ${r} (ID: ${n}):`];for(const e of o.messages){const t=e.isOutgoing?"You":r,n=e.content.text?.text||"[Media/No text]",s=new Date(1e3*e.date).toISOString();i.push(`Date: ${s}, From: ${t}, Message: ${n}`)}return{content:[{type:"text",text:i.join("\n")}]}}catch(e){return Ne("get_last_interaction",e instanceof Error?e:new Error(String(e)),Ue.CONTACT)}}class Zr{requestHandlers=new Map;eventPrefix="mcp:";constructor(e){this.socket=e??void 0,this.setupEventHandlers()}get connected(){return this.socket?.connected??!1}setupEventHandlers(){this.socket&&this.socket.on(`${this.eventPrefix}response`,e=>{const t=this.requestHandlers.get(e.id);t&&(t(e),this.requestHandlers.delete(e.id))})}emit(e,t){this.socket?.connected?(console.log(`[MCP] Emitting ${e}`,t),this.socket.emit(`${this.eventPrefix}${e}`,t)):(0,xe.R)("WARN","Cannot emit MCP event: socket not connected",{event:e})}on(e,t){if(!this.socket)return;const n=`${this.eventPrefix}${e}`;console.log(`[MCP] Listening to ${n}`),this.socket.on(n,t)}off(e,t){if(!this.socket)return;const n=`${this.eventPrefix}${e}`;this.socket.off(n,t)}async request(e,t=3e4){if(!this.socket?.connected)throw new Error("Socket not connected");return new Promise((n,s)=>{const r=setTimeout(()=>{this.requestHandlers.delete(e.id),s(new Error(`MCP request timeout after ${t}ms`))},t);this.requestHandlers.set(e.id,e=>{clearTimeout(r),e.error?s(new Error(e.error.message)):n(e)}),this.emit("request",e)})}updateSocket(e){this.socket&&this.socket.off(`${this.eventPrefix}response`,this.handleResponse),this.socket=e??void 0,this.setupEventHandlers()}handleResponse=e=>{const t=this.requestHandlers.get(e.id);t&&(t(e),this.requestHandlers.delete(e.id))}}class ea{constructor(e,t){this.transport=new Zr(e??void 0),this.config={name:"telegram-mcp",version:"1.0.0"},this.global=t,this.setupHandlers()}updateSocket(e){this.transport.updateSocket(e??void 0)}updateGlobal(e){this.global=e}setupHandlers(){this.transport.on("toolCall",e=>{this.handleToolCallRequest(e)}),this.transport.on("listTools",e=>{const{requestId:t}=e;try{const e=this.listTools();this.transport.emit("listToolsResponse",{requestId:t,tools:e})}catch(e){console.error("[MCP] Failed to list tools",e),this.transport.emit("listToolsResponse",{requestId:t,tools:[]})}})}async handleToolCallRequest(e){const{requestId:t,toolCall:n}=e;try{const e=await this.handleToolCall(n);this.transport.emit("toolResult",{requestId:t,result:e})}catch(e){const n=Ne("handleToolCall",e instanceof Error?e:new Error(String(e)));this.transport.emit("toolResult",{requestId:t,result:n})}}listTools(){return Object.values(r).filter(e=>void 0!==e&&"object"==typeof e&&"name"in e&&"description"in e&&"inputSchema"in e&&"string"==typeof e.name&&"string"==typeof e.description)}async handleToolCall(e){const{name:t,arguments:n}=e;console.log(`[MCP] Executing tool: ${t}`,n);const s=this.findToolHandler(t);if(!s)return{content:[{type:"text",text:`Tool '${t}' not found`}],isError:!0};try{return await s(n,{global:this.global,transport:this.transport})}catch(e){return e instanceof Re?Ne(t,e,Ue.VALIDATION):Ne(t,e instanceof Error?e:new Error(String(e)))}}findToolHandler(e){return{get_chats:We,list_chats:Ye,get_chat:Xe,create_group:Ze,invite_to_group:tt,create_channel:st,edit_chat_title:at,delete_chat_photo:it,leave_chat:dt,get_participants:lt,get_admins:gt,get_banned_users:ht,promote_admin:yt,demote_admin:_t,ban_user:wt,unban_user:St,get_invite_link:At,export_chat_invite:kt,import_chat_invite:Et,join_chat_by_link:xt,subscribe_public_channel:Bt,get_messages:jt,list_messages:zt,list_topics:Ht,send_message:Yt,reply_to_message:Xt,edit_message:Zt,delete_message:tn,forward_message:sn,pin_message:an,unpin_message:cn,mark_as_read:un,get_message_context:fn,get_history:hn,get_pinned_messages:yn,send_reaction:_n,remove_reaction:wn,get_message_reactions:Sn,list_contacts:Nn,search_contacts:Ln,add_contact:On,delete_contact:$n,block_user:jn,unblock_user:zn,get_blocked_users:Hn,get_me:Yn,update_profile:Xn,get_user_photos:Zn,get_user_status:ts,mute_chat:Nt,unmute_chat:Lt,archive_chat:Ot,unarchive_chat:$t,get_privacy_settings:Tr,set_privacy_settings:Mr,list_inline_buttons:An,press_inline_button:kn,save_draft:En,get_drafts:xn,clear_draft:Bn,search_public_chats:ss,search_messages:as,resolve_username:is,get_media_info:us,get_recent_actions:vr,create_poll:Ir,get_bot_info:Cr,set_bot_commands:Pr,set_profile_photo:Rr,delete_profile_photo:Ur,edit_chat_photo:Dr,get_sticker_sets:Fr,get_gif_search:Vr,get_contact_ids:Gr,import_contacts:qr,export_contacts:Wr,get_direct_chat_by_contact:Kr,get_contact_chats:Jr,get_last_interaction:Qr}[e]||void 0}}let ta,na;class sa{socket=void 0;backendUrl=(()=>Ee.SbH||"")();reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=3e3;state="disconnected";getState(){return this.state}setState(e){if(this.state===e)return;const t=this.state;this.state=e,(0,xe.R)("STATE",`State changed: ${t} -> ${e}`),(0,Te.ko)().updateAlphaHumanSocketState({state:e})}login(){(0,xe.R)("CONNECTING","Login to backend");try{const e=this.getJwtToken();if(!e)return(0,xe.R)("AUTH ERROR","No JWT token found"),void this.setState("jwt_missing");this.connect(e)}catch(e){throw(0,xe.R)("AUTH ERROR","Login failed:",e),this.setState("jwt_invalid"),e}}updateJwtAndLogin(e){(0,xe.R)("REQUEST","Updating JWT token and logging in"),this.saveJwtTokenToSession(e),this.login()}connect(e){if(this.socket?.connected)return void(0,xe.R)("CONNECTED","Socket already connected");if(!e)return(0,xe.R)("AUTH ERROR","Cannot connect: JWT token is missing"),void this.setState("jwt_missing");if(!this.validateJwtToken(e))return;const t=e.substring(0,20)+"...";(0,xe.R)("CONNECTING",`Connecting to backend at ${this.backendUrl} with token: ${t}`);const n=this.backendUrl.replace("http://","ws://").replace("https://","wss://");this.socket=ke(n,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:this.maxReconnectAttempts,reconnectionDelay:this.reconnectDelay,autoConnect:!0,forceNew:!0,path:"/socket.io/"}),this.setupEventHandlers(),this.socket.connect()}validateJwtToken(e){try{const t=e.split(".");if(3!==t.length)return(0,xe.R)("AUTH ERROR","Invalid JWT token format: expected 3 parts, got",t.length),this.setState("jwt_invalid"),!1;const n=JSON.parse(atob(t[1]));return(0,xe.R)("REQUEST","JWT token decoded:",{tgUserId:n.tgUserId,exp:n.exp?new Date(1e3*n.exp).toISOString():"missing",iat:n.iat?new Date(1e3*n.iat).toISOString():"missing"}),n.tgUserId?!(n.exp&&Date.now()>=1e3*n.exp&&((0,xe.R)("AUTH ERROR","JWT token is expired"),this.setState("jwt_invalid"),1)):((0,xe.R)("AUTH ERROR","JWT token missing tgUserId in payload:",n),this.setState("jwt_invalid"),!1)}catch(e){return(0,xe.R)("AUTH ERROR","Failed to decode JWT token:",e),this.setState("jwt_invalid"),!1}}setupEventHandlers(){this.socket&&(this.socket.on("connect",()=>{var e;this.reconnectAttempts=0,(0,xe.R)("CONNECTED","Connected to backend"),e=this.socket,ta&&(ta.updateSocket(e),console.log("[MCP] MCP server socket updated"))}),this.socket.on("disconnect",e=>{(0,xe.R)("DISCONNECTED","Disconnected from backend:",e),"io server disconnect"===e||"transport close"===e?((0,xe.R)("AUTH ERROR","Socket was disconnected by server - likely JWT validation failed"),this.setState("jwt_invalid")):this.setState("disconnected")}),this.socket.on("connect_error",e=>{this.reconnectAttempts++,(0,xe.R)("CONNECTION ERROR","Connection error:",e.message),(0,xe.R)("CONNECTION ERROR","Backend URL:",this.backendUrl),(e.message.includes("xhr poll error")||e.message.includes("websocket error")||e.message.includes("timeout")||e.message.includes("ECONNREFUSED"))&&(0,xe.R)("CONNECTION ERROR",`Cannot reach backend at ${this.backendUrl}. Is the server running?`),this.reconnectAttempts>=this.maxReconnectAttempts&&((0,xe.R)("CONNECTION ERROR","Max reconnection attempts reached"),this.setState("jwt_invalid"))}),this.socket.on("error",e=>{const t=e.requestId?`RequestId: ${e.requestId}`:"";(0,xe.R)("BACKEND ERROR",e.message,`Status: ${e.status}`,t),(0,Te.ko)().onAlphaHumanBackendError({error:e}),401!==e.status&&403!==e.status||this.setState("jwt_invalid")}),this.socket.on("agentUpdates",e=>{(0,xe.R)("UPDATE","Received agent updates:",e),(0,Te.ko)().onAlphaHumanAgentStreamingUpdate({update:e})}),function(e){const t=(0,Te.mS)();ta=new ea(e,t),console.log("[MCP] MCP server initialized")}(this.socket))}async streamMessageForUser(e){if(!this.socket?.connected)throw new Error("Socket not connected");const t=crypto.randomUUID();return(0,xe.R)("REQUEST","Streaming message:",{requestId:t,threadId:e.threadId}),new Promise((n,s)=>{let r=!1;const a=e=>{"complete"===e.eventType?r||(r=!0,clearTimeout(o),this.socket?.off("agentUpdates",a),n("")):"error"===e.eventType&&(r||(r=!0,clearTimeout(o),this.socket?.off("agentUpdates",a),s(new Error(e.message?.content??"Stream error"))))},o=setTimeout(()=>{r||(r=!0,this.socket?.off("agentUpdates",a),s(new Error("Stream timeout")))},6e4);this.socket&&(this.socket.on("agentUpdates",a),this.socket.emit("streamMessageForUser",{requestId:t,data:{threadId:e.threadId,content:e.content}}))})}disconnect(){this.socket&&((0,xe.R)("DISCONNECTED","Disconnecting socket"),this.socket.disconnect(),this.socket=void 0)}clear(){this.disconnect(),this.saveJwtTokenToSession(void 0)}getJwtToken(){return this.loadJwtTokenLocally()}isAuthenticated(){const e=this.getJwtToken();return Boolean(e)}loadJwtTokenLocally(){try{const e=(0,Te.mS)().alphahuman?.jwtToken;return e&&"string"==typeof e?e:void 0}catch(e){return void(0,xe.R)("AUTH ERROR","Error loading JWT token:",e)}}saveJwtTokenToSession(e){try{let t=(0,Te.mS)();t=(0,Me.hc)(t,{jwtToken:e}),(0,Te.UF)(t),(0,xe.R)("REQUEST","JWT token saved to global state")}catch(e){throw(0,xe.R)("AUTH ERROR","Error saving JWT token to global state:",e),e}}}const ra=function(){return na||(na=new sa),na}},42385(e,t,n){"use strict";n.d(t,{Bo:()=>O,Jr:()=>T,Lj:()=>B,Mm:()=>$,ZJ:()=>U,bN:()=>M,e:()=>D,r2:()=>R,s1:()=>E,uw:()=>F,z0:()=>N});var s=n(84051),r=n(37932),a=n(23174),o=n(31481),i=n(70758),c=n(9716),d=n(49763),u=n(87894),l=n(4350),f=n(70934),g=n(37836),p=n(57751),h=n(13439),m=n(20714),y=n(68873),b=n(91048),_=n(43874);const v=(0,g.nF)(()=>(0,s.qF)(()=>L()),5e3,!1),w=()=>L(!0);let I,S=!1,C=!1,A=0;function P(e){return i.q.set(l.pg,e)}function k(e){return i.q.set(o.DUo,e)}function T(){return i.q.get(o.DUo)}function E(){return i.q.del(l.pg)}function M(){return i.q.del(o.DUo)}function x(e){e?.passcode?.isScreenLocked&&localStorage.setItem(o.ozB,"true")}function R(){o.UuV||((0,h.aJ)("saveSession",()=>{S||(U(),w())}),(0,h.aJ)("reset",()=>{C=!0,E().finally(()=>{localStorage.removeItem(o.ozB),C=!1,S&&N()})}))}async function B(e){if(o.UuV)return;const t=await async function(e){o.Oig&&console.time("global-state-cache-read");const t=localStorage.getItem(l.pg),n=t?JSON.parse(t):void 0;n&&localStorage.removeItem(l.pg);let s=n||await i.q.get(l.pg);const r=await T()||e.sharedState;s&&(s={...s,sharedState:r}),o.Oig&&console.timeEnd("global-state-cache-read"),s&&D(s,e);return{...e,...s,sharedState:{...r,...s?.sharedState}}}(e);return t.passcode.hasPasscode||(0,p.wr)()?(U(),t):void N()}function U(){S=!0,I=(0,g.yu)(w,!0),window.addEventListener("blur",w),(0,r.DW)(v)}function N(){S=!1,(0,r.Cn)(v),window.removeEventListener("blur",w),I&&I()}function D(e,t){try{!function(e,t){const n=e;e.settings.byKey={...t.settings.byKey,...e.settings.byKey},e.chatFolders={...t.chatFolders,...e.chatFolders},e.chats.similarChannelsById||(e.chats.similarChannelsById=t.chats.similarChannelsById),e.chats.similarBotsById||(e.chats.similarBotsById=t.chats.similarBotsById),e.chats.lastMessageIds||(e.chats.lastMessageIds=t.chats.lastMessageIds),n?.appConfig.peerColors&&(n.appConfig.peerColors=void 0,n.appConfig.darkPeerColors=void 0),e.fileUploads.byMessageKey||(e.fileUploads.byMessageKey={}),e.reactions||(e.reactions=t.reactions),e.quickReplies||(e.quickReplies=t.quickReplies),e.users.previewMediaByBotId||(e.users.previewMediaByBotId=t.users.previewMediaByBotId),e.chats.loadingParameters||(e.chats.loadingParameters=t.chats.loadingParameters),e.topBotApps||(e.topBotApps=t.topBotApps),e.reactions.defaultTags?.[0]?.type||(e.reactions=t.reactions),e.users.commonChatsById||(e.users.commonChatsById=t.users.commonChatsById),e.users.botAppPermissionsById||(e.users.botAppPermissionsById=t.users.botAppPermissionsById),e.chats.topicsInfoById||(e.chats.topicsInfoById=t.chats.topicsInfoById),e.messages.pollById||(e.messages.pollById=t.messages.pollById),e.settings.botVerificationShownPeerIds||(e.settings.botVerificationShownPeerIds=t.settings.botVerificationShownPeerIds),e.peers||(e.peers=t.peers),e.settings.accountDaysTtl||(e.settings.accountDaysTtl=t.settings.accountDaysTtl),e.cacheVersion||(e.cacheVersion=t.cacheVersion,e.messages=t.messages,e.chats.listIds=t.chats.listIds),e.messages.playbackByChatId||(e.messages.playbackByChatId=t.messages.playbackByChatId),e.cacheVersion<2&&(n.settings.themes.dark&&(n.settings.themes.dark.patternColor=t.settings.themes.dark.patternColor),n.settings.themes.light&&(n.settings.themes.light.patternColor=t.settings.themes.light.patternColor),e.cacheVersion=2),e.chats.notifyExceptionById||(e.chats.notifyExceptionById=t.chats.notifyExceptionById),e.sharedState||(e.sharedState=t.sharedState,e.sharedState.settings={canDisplayChatInTitle:n.settings.byKey.canDisplayChatInTitle,animationLevel:n.settings.byKey.animationLevel,foldersPosition:o.I6d,messageSendKeyCombo:n.settings.byKey.messageSendKeyCombo,messageTextSize:n.settings.byKey.messageTextSize,performance:n.settings.performance,theme:n.settings.byKey.theme,timeFormat:n.settings.byKey.timeFormat,wasTimeFormatSetManually:n.settings.byKey.wasTimeFormatSetManually,shouldUseSystemTheme:n.settings.byKey.shouldUseSystemTheme,isConnectionStatusMinimized:n.settings.byKey.isConnectionStatusMinimized,shouldForceHttpTransport:n.settings.byKey.shouldForceHttpTransport,language:n.settings.byKey.language,languages:n.settings.languages,shouldSkipWebAppCloseConfirmation:n.settings.byKey.shouldSkipWebAppCloseConfirmation,miniAppsCachedPosition:n.settings.miniAppsCachedPosition,miniAppsCachedSize:n.settings.miniAppsCachedSize,shouldAllowHttpTransport:n.settings.byKey.shouldAllowHttpTransport,shouldCollectDebugLogs:n.settings.byKey.shouldCollectDebugLogs,shouldDebugExportedSenders:n.settings.byKey.shouldDebugExportedSenders,shouldWarnAboutFiles:n.settings.byKey.shouldWarnAboutFiles}),e.settings.themes||(e.settings.themes=t.settings.themes),e.messages.webPageById||(e.messages.webPageById=t.messages.webPageById);const s=e.sharedState.settings;s.wasAnimationLevelSetManually||(s.animationLevel=o.i11,s.performance=m.tS),s.foldersPosition||(s.foldersPosition=o.I6d),e.appConfig||(e.appConfig=t.appConfig),n.sharedState?.settings?.shouldWarnAboutSvg&&(e.sharedState.settings.shouldWarnAboutFiles=!0,n.sharedState.settings.shouldWarnAboutSvg=void 0),e.auth||(e.auth=t.auth,e.auth.rememberMe=n.rememberMe),void 0===e.audioPlayer.volume&&(e.audioPlayer.volume=t.audioPlayer.volume)}(e,t)}catch(e){console.error(e)}}function L(e){const t=(0,h.mS)();C||!S||t.auth.isLoggingOut||!e&&(0,s.OV)()||O()}function F(){A=Date.now()+5e3}function O(e=!1){if(Date.now()<A)return;const t=(0,h.mS)(),{hasPasscode:n,isScreenLocked:s}=t.passcode;if(n){if(!s&&!e){const e=$(t);(0,f.yp)(void 0,e)}return x(t),P((0,y.nYM)(t,!1)),void k((0,y.i_d)(t.sharedState))}var r;x(t),P(V(t)),k((r=t.sharedState,{...r,settings:{...r.settings,languages:void 0},isInitial:void 0}))}function V(e){var t;return{...m.HB,...(0,u.Up)(e,["appConfig","config","auth","attachMenu","currentUserId","contactList","topPeers","topInlineBots","topBotApps","recentEmojis","recentCustomEmojis","push","serviceNotifications","attachmentSettings","leftColumnWidth","archiveSettings","mediaViewer","audioPlayer","shouldShowContextMenuHint","trustedBotIds","recentlyFoundChatIds","peerColors","savedReactionTags","timezones","availableEffectById"]),lastIsChatInfoShown:(0,_.Ny)()?void 0:e.lastIsChatInfoShown,customEmojis:G(e),users:j(e),chats:q(e),messages:z(e),settings:W(e),chatFolders:H(e),groupCalls:K(e),reactions:{...(0,u.Up)(e.reactions,["defaultTags","recentReactions","topReactions","effectReactions","hash"]),availableReactions:(t=e.reactions.availableReactions,t?.map(e=>(0,u.Up)(e,["reaction","staticIcon","title","isInactive"])))},passcode:(0,u.Up)(e.passcode,["isScreenLocked","hasPasscode","invalidAttemptsCount","timeoutUntil"]),alphahuman:Y(e)}}function $(e){return JSON.stringify(V(e))}function G(e){const{lastRendered:t,byId:n}=e.customEmojis,s=Object.values(e.chatFolders.byId).flatMap(e=>e.title.entities?.filter(e=>e.type===a.C7.CustomEmoji)?.map(e=>e.documentId)||[]),r=(0,u.Am)([...s,...t]).slice(0,o.GW0);return{byId:(0,u.Up)(n,r),lastRendered:r,forEmoji:{},added:{},statusRecent:{}}}function j(e){const{users:{byId:t,statusesById:n,fullInfoById:s,botAppPermissionsById:r},currentUserId:a}=e,i=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e).filter(e=>Boolean(e)&&(0,c.L8)(e)),l=(0,u.Am)((0,u.oE)(Object.values(e.byTabId).flatMap(({id:t})=>(0,b.NHc)(e,t)?.map(e=>e.id)||[]))),f=i.flatMap(t=>Object.values((0,b.zeq)(e,t)||{})).map(t=>{const n=(0,b.k9R)(e,t);return t.content.storyData?.peerId||n?.story?.peerId}).filter(e=>Boolean(e)&&(0,c.L8)(e)),g=Object.keys(e.attachMenu?.bots||{}),p=(0,u.Am)([...a?[a]:[],...i,...f,...l||[],...g,...e.topPeers.userIds||[],...e.recentlyFoundChatIds?.filter(c.L8)||[],...(0,d.YA)(o._E9)?.slice(0,o.Q$7).filter(c.L8)||[],...(0,d.YA)(o.DSF)?.filter(c.L8)||[],...e.contactList?.userIds||[],...Object.keys(t)]).slice(0,o.CVv);return{...m.HB.users,byId:(0,u._E)(t,p),statusesById:(0,u._E)(n,p),fullInfoById:(0,u._E)(s,p),botAppPermissionsById:r}}function q(e){const{chats:{byId:t},currentUserId:n}=e,s=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e),r=(0,u.oE)(Object.values(e.byTabId).flatMap(({id:t})=>{const n=(0,b.Xf0)(e,t);if(!n)return;const s=(0,b.zeq)(e,n.chatId),r=(0,b.rA3)(e,n.chatId,n.threadId,t);return r?.map(t=>{const n=s[t];if(!n)return;const r=n.content,a=(0,b.k9R)(e,n),o="message"===n.replyInfo?.type&&n.replyInfo.replyToPeerId;return r.storyData?.peerId||a?.story?.peerId||o})})),a=[...n?[n]:[],...s,...r,...e.recentlyFoundChatIds||[],...(0,d.YA)(o._E9)?.slice(0,o.Q$7)||[],...(0,d.YA)(o.DSF)||[],...(0,d.YA)(o.pX9)||[],...Object.keys(t)];let i=[];for(const e of a){const n=t[e];n&&(i.push(e),n.linkedMonoforumId&&i.push(n.linkedMonoforumId))}return i=(0,u.Am)(i).slice(0,o.ViI),{...e.chats,similarChannelsById:{},similarBotsById:{},isFullyLoaded:{},notifyExceptionById:(0,u._E)(e.chats.notifyExceptionById,a),loadingParameters:m.HB.chats.loadingParameters,byId:(0,u._E)(e.chats.byId,a),fullInfoById:(0,u._E)(e.chats.fullInfoById,a),lastMessageIds:{all:(0,u._E)(e.chats.lastMessageIds.all||{},a),saved:e.chats.lastMessageIds.saved},topicsInfoById:(0,u._E)(e.chats.topicsInfoById,s)}}function z(e){const{currentUserId:t}=e,n={},s=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e),r=(0,u.oE)(Object.values(e.byTabId).map(({forumPanelChatId:e})=>e)),i=(0,u.Am)([...s,...t?[t]:[],...r,...(0,d.YA)(o.DSF)||[],...(0,d.YA)(o._E9)?.slice(0,o.Q$7)||[]]),c=Object.values(e.byTabId).reduce((t,{id:n})=>{const{chatId:s,threadId:r}=(0,b.Xf0)(e,n)||{};if(!s||!r||r===a.l3)return t;const o=t[s]||new Set;return o.add(r),t[s]=o,t},{}),l=[],f=[];return i.forEach(s=>{const o=e.messages.byChatId[s];if(!o)return;const i=(0,b.ZZX)(e,s),d=Array.from(c[s]||[]),g=Object.values(e.messages.byChatId[s].threadsById||{}).map(({threadInfo:e})=>e?.isCommentsInfo?e?.originMessageId:void 0).filter(Boolean),p=(0,u.Am)(d.concat(g)),h=(0,u._E)(o.threadsById,[a.l3,...p]),m=(0,u.Am)(Object.values(h).flatMap(e=>e.lastViewportIds||[])),y=(0,b.pSx)(e,s),_=y&&r.includes(s)?Object.values(y).map(({lastMessageId:e})=>e):[],v=s===t&&e.chats.lastMessageIds.saved?Object.values(e.chats.lastMessageIds.saved):[],w=[i].concat(_).concat(v).filter(Boolean),I=(0,u.Up)(o.byId,m.concat(w)),S=Object.keys(h).reduce((e,t)=>{const n=h[Number(t)];return e[Number(t)]={...n,listedIds:n.lastViewportIds,pinnedIds:void 0,typingStatus:void 0},e},{}),C=Object.values(I).reduce((e,t)=>{if(!t||t.isTypingDraft)return e;let n=function(e){const{photo:t,video:n,document:s,sticker:r}=e.content;return{...e,content:{...e.content,photo:t&&{...t,blobUrl:void 0},video:n&&{...n,blobUrl:void 0,previewBlobUrl:void 0},document:s&&{...s,previewBlobUrl:void 0},sticker:r&&{...r,isPreloadedGlobally:void 0}},previousLocalId:void 0}}(t);return n=function(e){return e.reactions?.results.length?{...e,reactions:{...e.reactions,results:e.reactions.results.map(e=>e.localAmount?{...e,localAmount:void 0}:e)}}:e}(n),e[t.id]=n,t.content.pollId&&l.push(t.content.pollId),t.content.webPage&&f.push(t.content.webPage.id),e},{});n[s]={byId:C,threadsById:S}}),{byChatId:n,pollById:(0,u._E)(e.messages.pollById,l),webPageById:(0,u._E)(e.messages.webPageById,f),sponsoredByChatId:{},playbackByChatId:{}}}function W(e){const{byKey:t,botVerificationShownPeerIds:n,notifyDefaults:s,lastPremiumBandwithNotificationDate:r,themes:a,accountDaysTtl:o}=e.settings;return{byKey:t,privacy:{},botVerificationShownPeerIds:n,lastPremiumBandwithNotificationDate:r,notifyDefaults:s,themes:a,accountDaysTtl:o}}function H(e){return{...e.chatFolders}}function K(e){return{...e.groupCalls,byId:{},activeGroupCallId:void 0}}function Y(e){const t=e.alphahuman;return t?{...m.HB.alphahuman,jwtToken:t.jwtToken}:m.HB.alphahuman}},42452(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(37836),a=n(17712),o=n(20021);const i=(0,s.ph)(()=>{const[e,t]=(0,s.J0)([]),n=(0,s.Kr)(()=>(0,r.sg)(()=>{t([])},700,!1),[]),i=(0,a.A)(s=>{if(0!==s.button)return;const r=s.currentTarget,a=r.getBoundingClientRect(),o=r.offsetWidth/2;t([...e,{x:s.clientX-a.x-o/2,y:s.clientY-a.y-o/2,size:o}]),n()});return(0,o.Y)("div",{className:"ripple-container",onMouseDown:i,children:e.map(({x:e,y:t,size:n})=>(0,o.Y)("div",{className:"ripple-wave",style:`left: ${e}px; top: ${t}px; width: ${n}px; height: ${n}px;`}))})})},43044(e,t,n){"use strict";n.d(t,{iV:()=>T,DV:()=>O,Yw:()=>Y,S7:()=>j,qY:()=>z,CO:()=>Z,K1:()=>q,eg:()=>W});var s=n(83649),r=n(31481),a=n(24021),o=n(4961),i=n(63495),c=n(70758),d=n(59607),u=n(46536);function l(e){let t,n=!1,s=!1;for(let r=0;r<e.length;r++){const a=e[r];if("\\"!==a)if('"'!==a||n){if("="===a&&!s){t=r;break}n=!1}else s=!s;else n=!n}if(void 0!==t&&t!==e.length-1)try{return[JSON.parse(e.slice(0,t)),JSON.parse(e.slice(t+1))]}catch(t){r.Oig&&console.error("Error parsing line:",e,t)}}const f="en";var g=n(14487),p=n(87894),h=n(98607),m=n(37836),y=n(9705),b=n(84947);const _={WrongNumber:"Wrong number?",SentAppCode:"We've sent the code to the **Telegram** app on your other device.",LoginJustSentSms:"We've sent you a code via SMS. Please enter it above.",LoginHeaderPassword:"Enter Password",LoginEnterPasswordDescription:"You have Two-Step Verification enabled, so your account is protected with an additional password.",StartText:"Please confirm your country code\nand enter your phone number.",LoginPhonePlaceholder:"Your phone number",LoginNext:"Next",LoginQRLogin:"Log in by QR Code",LoginQRTitle:"Log in to Telegram by QR Code",LoginQRHelp1:"Open Telegram on your phone",LoginQRHelp2:"Go to **Settings** > **Devices** > **Link Desktop Device**",LoginQRHelp3:"Point your phone at this screen to confirm login",LoginQRCancel:"Log in by phone number",LoginPasskey:"Log in with Passkey",YourName:"Your Name",LoginRegisterDesc:"Enter your name and add a profile photo.",LoginRegisterFirstNamePlaceholder:"First Name",LoginRegisterLastNamePlaceholder:"Last Name",LoginSelectCountryTitle:"Country",CountryNone:"Country not found",PleaseEnterPassword:"Enter your new password",ErrorPhoneNumberInvalid:"Invalid phone number, please try again",ErrorCodeInvalid:"Invalid code, please try again",ErrorIncorrectPassword:"Invalid password, please try again",ErrorPasswordFlood:"Too many attempts, please try again later",ErrorPhoneBanned:"This phone number is banned",ErrorFloodTime:"Too many attempts, please try again in {time}",ErrorUnexpected:"Unexpected error",ErrorUnexpectedMessage:"Unexpected error: {error}"},v="langpack-",w="en",I=new b.A(400);let S,C,A,P,k=K();const{addCallback:T,removeCallback:E,runCallbacks:M}=(0,u.h)();let x=!1;function R(){x||(x=!0,(0,m.IJ)(()=>{M(),x=!1}))}const B=new y.A;function U(e){return c.q.get(`${v}${e}`)}function N(e){return(0,d.yK)(e.language.langCode),c.q.set(`${v}${e.language.langCode}`,e)}let D;async function L(){if(P||D)return;D=async function(e){let t;t=e?(await n.e(5269).then(n.t.bind(n,25269,23))).readFileSync("./src/assets/localization/fallback.strings","utf8"):(await n.e(695).then(n.t.bind(n,50695,17))).default;const s=function(e){const t=e.split(/;\r?\n?/),n={};for(const e of t){if(!e.startsWith('"'))continue;const[t,s]=l(e)||[];t&&s?(n[t]&&console.warn("Duplicate key:",t),n[t]=s):console.warn("Bad formatting in line:",e)}return n}(t),r={};Object.entries(s).forEach(([e,t])=>{const[n,s]=e.split("_");if(!s)return void(r[n]=t);const a=r[n]||{};a[s]=t,r[n]=a});const a={langCode:f,version:0,strings:r},o=Object.keys(r).length;return{langPack:a,language:{langCode:f,name:"English",nativeName:"English",pluralCode:f,stringsCount:o,translatedCount:o,translationsUrl:"https://translations.telegram.org/en/weba"}}}();const e=await D;P=e.langPack,I.clear(),S?(k=K(),R()):V(e.language)}async function F(){if(!A||!S)return void(r.Oig&&console.warn("[Localization] Trying to fetch difference without loaded data"));if(await g.T_,!(0,g.ve)())return;const e=await(0,a.px)("fetchLangDifference",{langPack:r.rgX,langCode:A.langCode,fromVersion:A.version});e&&O(e.version,e.strings,e.keysToRemove)}function O(e,t,n){if(!A||!S||e===A.version)return;const s={...A,version:e,strings:{...(0,p.cJ)(A.strings,n),...t}};G(s),N({langPack:s,language:S}),R()}function V(e){S=e,$(),k=K(),R()}function $(){if(!S)return;const e=S.pluralCode,t={format:e=>e.join(", "),formatToParts:e=>{const t=[];return e.forEach((e,n)=>{n>0&&t.push({type:"literal",value:", "}),t.push({type:"element",value:e})}),t}};function n(e,n){return i.Ld?new Intl.ListFormat(e,{type:n}):t}try{C={pluralRules:new Intl.PluralRules(e),region:new Intl.DisplayNames(e,{type:"region"}),conjunction:n(e,"conjunction"),disjunction:n(e,"disjunction"),number:new Intl.NumberFormat(e),preciseNumber:new Intl.NumberFormat(e,{minimumFractionDigits:0,maximumFractionDigits:10})}}catch(e){console.warn("Failed to create formatters:",e),C={pluralRules:new Intl.PluralRules(w),region:new Intl.DisplayNames(w,{type:"region"}),conjunction:n(w,"conjunction"),disjunction:n(w,"disjunction"),number:new Intl.NumberFormat(w),preciseNumber:new Intl.NumberFormat(w,{minimumFractionDigits:0,maximumFractionDigits:10})}}}function G(e){A=e,I.clear(),R()}async function j(e,t){if(S)return;const n=await U(e);n?(A=n.langPack,S=n.language,$(),F()):t&&await z(e),L(),k=K(),R(),B.resolve()}async function q(e){if((0,g.ve)())return;const t=await U(e);t&&(G(t.langPack),V(t.language))}async function z(e,t){if(t){const t=await U(e);if(t)return H(t.language)}if(await g.T_,!(0,g.ve)())return;const n=await(0,a.px)("fetchLanguage",{langPack:r.rgX,langCode:e});if(n)return H(n);r.Oig&&console.warn("Failed to fetch language",e)}function W(e){S?.langCode===e&&F()}async function H(e){if(A&&S?.langCode===e.langCode)return;const t=await U(e.langCode);if(t)G(t.langPack),V(t.language),F();else{if(await g.T_,!(0,g.ve)())return;const t=await(0,a.px)("fetchLangPack",{langPack:r.rgX,langCode:e.langCode});if(!t)return void console.warn("Failed to fetch lang pack");G({langCode:e.langCode,version:t.version,strings:t.strings}),V(e),N({langPack:A,language:e})}document.documentElement.lang=e.baseLangCode||e.langCode,R()}function K(){const e=(e,t,n)=>n&&(0,s.Zh)(n)?Q(e,t,n):X(e,t,n);return e.rawCode=S?.langCode||w,e.isRtl=S?.isRtl,e.code=S?.pluralCode||w,e.with=({key:e,variables:t,options:n})=>n&&(0,s.Zh)(n)?Q(e,t,n):X(e,t,n),e.withRegular=({key:e,variables:t,options:n})=>X(e,t,n),e.withAdvanced=({key:e,variables:t,options:n})=>Q(e,t,n),e.region=e=>C?.region.of(e),e.conjunction=e=>C?.conjunction.format(e)||e.join(", "),e.disjunction=e=>C?.disjunction.format(e)||e.join(", "),e.number=e=>C?.number.format(e)||String(e),e.preciseNumber=e=>C?.preciseNumber.format(e)||String(e),e.internalFormatters=C,e.languageInfo=S,e}function Y(){return k}function J(e,t){let n=r.A$T?void 0:A?.strings[e];if(n||P||L(),n||=P?.strings[e],n||=_[e],!n||(0,s.JR)(n))return;const a=C?.pluralRules.select(t)||"other";return(0,s.Qw)(n)?n[a]||n.other:n}function X(e,t,n){const s=n?.withNodes?void 0:`${e}-${JSON.stringify(t)}-${JSON.stringify(n)}`;if(s&&I.has(s))return I.get(s);const r=J(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!r)return e;const a=(t?Object.entries(t):[]).reduce((e,[t,n])=>{if(void 0===n)return e;"object"==typeof n&&(n=X(n.key,n.variables,n.options));const s=Number.isFinite(n)?C.number.format(n):String(n);return e.replaceAll(`{${t}}`,s)},r);return s&&I.set(s,a),a}function Q(e,t,n){const s=J(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!s)return e;const r=t?Object.entries(t):[];let a=s;n?.specialReplacement&&(a=Object.entries(n.specialReplacement).reduce((e,[t,n])=>(0,h.t)(e,t,n),a));const i=n?.withNodes;if(i){const e=n.withMarkdown?["simple_markdown","emoji"]:["emoji"],t=(0,p.Am)([...e,...n.renderTextFilters||[]]);return(Array.isArray(a)?a:[a]).flatMap(e=>"string"!=typeof e?e:(0,o.A)(e,t,{markdownPostProcessor:e=>r.reduce((e,[t,n])=>{if(void 0===n)return e;const s=Number.isFinite(n)?C.number.format(n):n;return(0,h.t)(e,`{${t}}`,(0,o.A)(s))},e)}))}return r.reduce((e,[t,n])=>{if(void 0===n)return e;const s=Number.isFinite(n)?C.number.format(n):n;return(0,h.t)(e,`{${t}}`,(0,o.A)(s))},a)}const Z=B.promise},43336(e,t,n){"use strict";n.d(t,{Bt:()=>r,Cc:()=>i,Ki:()=>c,LI:()=>a,RI:()=>o,qE:()=>s});const s=(e,t,n)=>Math.min(n,Math.max(t,e)),r=(e,t,n)=>e>=t&&e<=n,a=(e,t=0)=>Math.round(e*10**t)/10**t,o=(e,t=0)=>Math.floor(e*10**t)/10**t,i=(e,t,n)=>(1-n)*e+n*t;function c(e){return 2*Math.round(e/2)}},43503(e,t,n){"use strict";n.d(t,{A:()=>l,u:()=>u});var s=n(66644),r=n(96454),a=n(37836);let o=window.innerHeight,i=u();const c=(0,a.nF)(()=>{i=u()},250,!0),d=(0,a.nF)(()=>{o=window.innerHeight,c()},100,!1);function u(){let e;return e=r.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight,(0,s.RK)(()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)}),{width:window.innerWidth,height:window.innerHeight}}window.addEventListener("orientationchange",d),r.pz?window.visualViewport.addEventListener("resize",c):window.addEventListener("resize",c);const l={get:()=>i,getIsKeyboardVisible:()=>o>i.height}},43663(e,t,n){"use strict";n.d(t,{Ar:()=>R,Hn:()=>B,PH:()=>U,Ru:()=>A,eZ:()=>E,eu:()=>T,fj:()=>P,iB:()=>k,om:()=>x,px:()=>M});var s=n(31481),r=n(63495),a=n(61182),o=n(9705),i=n(14487),c=n(14235),d=n(4350),u=n(37836);const l=new Set(["destroy"]);let f;const g=new Map,p=new Map;let h=[];const m={chats:{},users:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let y=!0;(0,i.wr)(e=>{y=e});const b=new BroadcastChannel(d.rL),_=(0,u.Fe)(()=>{const e=h;h=[],f?.postMessage({payloads:e})});function v(e){h.push(e),_()}let w,I=[],S=[],C=!1;function A(e,t){if(w=e,!y)return function(e){b.postMessage({type:"initApi",token:(0,i.g0)(),initialArgs:e})}(t),Promise.resolve();if(!f){s.Oig&&console.log(">>> START LOAD WORKER");const o=new URLSearchParams;d.Xz&&o.set("account",String(d.Xz)),f=new Worker(new URL(n.p+n.u(6854),n.b),{name:o.toString()}),function(e){f?.addEventListener("message",({data:t})=>{t?.payloads.forEach(t=>{if("updates"===t.type){let n;if(s.Oig&&(n=performance.now()),t.updates.forEach(e),s.Oig){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)B(t);else if("methodCallback"===t.type)U(t);else{if("unhandledError"===t.type){const e=t.error?.message;if(e&&s.LWg.has(e))return;throw new Error(e)}"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,a.bO)(t.level,...t.args)}})})}(e),("iOS"===t.platform||"macOS"===t.platform&&r.Vq)&&window.addEventListener("focus",()=>{L(),setTimeout(()=>L(),1e3)})}return N({type:"initApi",args:[t,m]}).then(()=>{C=!0,S.forEach(e=>{M(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)}),S=[],I.forEach(e=>{E(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)}),I=[]})}function P(e,t,n){m[e][t]=n}function k(e){Object.assign(m,e)}function T(e){return N({type:"toggleDebugMode",isEnabled:e})}function E(e,...t){if(!C){if(l.has(e))return Promise.resolve(void 0);const n=new o.A;return I.push({fnName:e,args:t,deferred:n}),n.promise}const n=N({type:"callMethod",name:e,args:t});return s.Oig&&(async()=>{try{await n}catch(e){}})(),n}function M(e,...t){if(!C&&y){if(l.has(e))return Promise.resolve(void 0);const n=new o.A;return S.push({fnName:e,args:t,deferred:n}),n.promise}const n=y?N({type:"callMethod",name:e,args:t}):function(e){const t=(0,c.A)(),n={messageId:t,...e},s={messageId:t},r=new Promise((e,t)=>{Object.assign(s,{resolve:e,reject:t})});if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();s.callback=e,p.set(e,s)}return g.set(t,s),r.catch(()=>{}).finally(()=>{g.delete(t),s.callback&&p.delete(s.callback)}),function(e){b.postMessage({type:"callApi",token:(0,i.g0)(),...e})}(n),r}({name:e,args:t});return s.Oig&&(async()=>{try{await n}catch(e){}})(),n}function x(e){e.isCanceled=!0;const{messageId:t}=p.get(e)||{};t&&(y?R(t):b.postMessage({type:"cancelApiProgress",token:(0,i.g0)(),messageId:t}))}function R(e){v({type:"cancelProgress",messageId:e})}function B(e){const t=g.get(e.messageId);t&&(e.error?t.reject(e.error):t.resolve(e.response))}function U(e){g.get(e.messageId)?.callback?.(...e.callbackArgs)}function N(e){const t=(0,c.A)(),n={messageId:t,...e},s={messageId:t},r=new Promise((e,t)=>{Object.assign(s,{resolve:e,reject:t})});if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();s.callback=e,p.set(e,s)}return s.DEBUG_payload=n,g.set(t,s),r.catch(()=>{}).finally(()=>{g.delete(t),s.callback&&p.delete(s.callback)}),v(n),r}const D=Date.now();async function L(){let e=!1;try{await Promise.race([N({type:"ping"}),(0,u.v7)(150).then(()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT")))])}catch(e){console.error(e),Date.now()-D>=5e3&&(f?.terminate(),f=void 0,w({"@type":"requestReconnectApi"}))}finally{e=!0}}},43874(e,t,n){"use strict";n.d(t,{Ay:()=>_,Bb:()=>m,Ny:()=>h,cB:()=>y});var s=n(84051),r=n(31481),a=n(96454),o=n(46536),i=n(43503),c=n(30857);const d=new Map,u=(0,o.h)();let l,f,g,p;function h(){return l}function m(){return f}function y(){return!h()}function b(){l=d.get("mobile")?.matches||!1,f=!l&&(d.get("tablet")?.matches||!1),g=d.get("landscape")?.matches||!1,p=d.get("touch")?.matches||!1,(0,i.u)(),u.runCallbacks()}function _(){const e=(0,c.A)();return(0,s.vJ)(()=>u.addCallback(e),[e]),{isMobile:l,isTablet:f,isLandscape:g,isDesktop:!l&&!f,isTouchScreen:p}}!function(){const e=window.matchMedia(`(max-width: ${r.c2m}px),   (max-width: ${r.O4t}px and max-height: ${r.f84}px)`);d.set("mobile",e),e.addEventListener("change",b);const t=window.matchMedia(`(max-width: ${r.j7z}px)`);d.set("tablet",t),t.addEventListener("change",b);const n=window.matchMedia(a.pz?"(orientation: landscape)":"screen and (min-device-aspect-ratio: 1/1) and (orientation: landscape)");d.set("landscape",n),n.addEventListener("change",b);const s=window.matchMedia("(pointer: coarse)");d.set("touch",s),s.addEventListener("change",b)}(),b()},45294(e,t,n){"use strict";n.d(t,{A:()=>p});var s=n(84051),r=n(13439),a=n(91048),o=n(60261),i=n(37836);let c=new Set;const d=new Set,u=(0,i.nF)(()=>{const e=[...c],t=e.slice(0,100),n=e.slice(100);(0,r.ko)().loadCustomEmojis({ids:t}),c=new Set(n),c.size&&u()},200,!1),l=(0,i.nF)(()=>{(0,r.ko)().updateLastRenderedCustomEmojis({ids:[...d].reverse()}),d.clear()},200,!1);function f(e){d.add(e),l()}(0,o.K3)(f);var g=n(17712);function p(e){const[t,n]=(0,s.J0)(()=>e?(0,a.O8F)((0,r.mS)(),e):void 0),[i,d]=(0,s.J0)(()=>(0,a.BWX)((0,r.mS)())),l=(0,g.A)(t=>{if(!e)return;const s=(0,r.mS)();n((t??s.customEmojis).byId[e]),d((0,a.BWX)(s))});return(0,s.vJ)(()=>{var t;(t=e)&&(f(t),(0,a.O8F)((0,r.mS)(),t)||(c.add(t),u()))},[e]),(0,s.vJ)(()=>l(),[e]),(0,s.vJ)(()=>{if(e)return(0,o.Il)(l,e),()=>{(0,o.LQ)(l)}},[e]),{customEmoji:t,canPlay:i}}},46211(e,t,n){"use strict";n.d(t,{FD:()=>p,HS:()=>g,IV:()=>l,PV:()=>u,WA:()=>h,X2:()=>f,c7:()=>m,yS:()=>y});var s=n(31481),r=n(9716),a=n(14487),o=n(90709),i=n(21133),c=n(5056),d=n(19926);function u(e,t){return(0,d.mB)(e,t)||(0,i.hd)(e,t)}function l(e,t){return e.peers.profilePhotosById[t]}function f(e,t){const n=(0,d.yp)(e,t),r=(0,d.mB)(e,t);return r?!n&&t!==s.zv8&&!(0,o.PL)(r):(0,i.AW)(e,t)?.areStarGiftsAvailable}function g(e,t,n,...[s=(0,a.g0)()]){const r=(0,c.n)(e,s);return r.savedGifts.collectionsByPeerId[t]?.[n]}function p(e,t,...[n=(0,a.g0)()]){return g(e,t,"all",n)}function h(e,t){const n=(0,r.L8)(t);if(n){const s=n?(0,d.vG)(e,t):void 0;return s?.paidMessagesStars}const s=(0,i.hd)(e,t);if(s&&!(0,o.SJ)(s))return s.paidMessagesStars}function m(e,t){const n=u(e,t),s=n?.profileColor;return"collectible"===s?.type||("regular"===s?.type?void 0!==s.color:"collectible"===n?.emojiStatus?.type)}function y(e,t){if(e.currentUserId===t)return!0;const n=(0,i.hd)(e,t);return Boolean(n&&(0,o.WX)(n)&&(0,o.ub)(n,"postMessages"))}},46275(e,t,n){"use strict";n.d(t,{l8:()=>f,vG:()=>l,zq:()=>u});var s=n(31481),r=n(63495),a=n(24585),o=n(70874),i=n(9716),c=n(11116);const d=new Set(["t.me","telegram.me","telegram.dog"]);function u(e){return Boolean(e.match(s.OFc)||e.match(s.bnE))}function l(e){if(u(e))try{return function(e){const t=(0,a.Tc)(e);if(t){if(t.startsWith("https:")||t.startsWith("http:"))return function(e){if(!d.has(e.hostname))return;const t=k(e),n=P(e);switch(function(e,t){const n=t.length,s=t[0];if(1===n){if("share"===s)return"shareLink";if("boost"===s||void 0!==e.boost)return"chatBoostLink";if((0,c.BU)(s))return"publicUsernameOrBotLink"}else if(2===n){if("addlist"===s)return"chatFolderLink";if("login"===s)return"loginCodeLink";if("m"===s)return"businessChatLink";if("boost"===s)return"chatBoostLink";if("nft"===s)return"giftUniqueLink";if("auction"===s)return"giftAuctionLink";if("c"===s)return void 0!==e.boost?"chatBoostLink":"privateChannelLink";if((0,c.BU)(t[0])&&A(t[1]))return"publicMessageLink"}else if(3===n){if("c"===s&&t.slice(1).every(A))return"privateMessageLink";if((0,c.BU)(t[0])&&t.slice(1).every(A))return"publicMessageLink";if("nft"===s)return"giftUniqueLink"}else if(4===n&&"c"===s&&t.slice(1).every(A))return"privateMessageLink";return"unknown"}(t,n)){case"publicMessageLink":{const{single:e,comment:s,t:r}=t,{username:a,thread:o,messageId:i}=2===n.length?{username:n[0],thread:t.thread,messageId:n[1]}:{username:n[0],thread:n[1],messageId:n[2]};return p({username:a,messageId:i,single:e,threadId:o,commentId:s,timestamp:r})}case"privateMessageLink":{const{single:e,comment:s,t:r}=t,{channelId:a,thread:o,messageId:i}=3===n.length?{channelId:n[1],thread:t.thread,messageId:n[2]}:{channelId:n[1],thread:n[2],messageId:n[3]};return h({channelId:a,messageId:i,single:e,threadId:o,commentId:s,timestamp:r})}case"shareLink":return g({text:t.text,url:t.url});case"chatFolderLink":return m({slug:n[1]});case"loginCodeLink":return y({code:n[1]});case"publicUsernameOrBotLink":return b({username:n[0],start:t.start,text:t.text,startApp:t.startapp,mode:t.mode,appName:void 0,startAttach:t.startattach,attach:t.attach,choose:t.choose,ref:t.ref,direct:t.direct});case"privateChannelLink":return _({channelId:n[1]});case"businessChatLink":return w({slug:n[1]});case"chatBoostLink":{if("boost"===n[0])return v({username:n[1],id:t.c});const e="c"===n[0];return v({username:e?void 0:n[0],id:e?n[1]:void 0})}case"giftUniqueLink":return I({slug:n.slice(1).join("/")});case"giftAuctionLink":return S({slug:n[1]})}}(new URL(t));if(t.startsWith("tg:")){const e=r.fM?t.replace(/^tg:\/\//,"https://"):t;return function(e){const{hostname:t}=e,n=k(e),s=P(e);switch(function(e,t,n){switch(n){case"resolve":{const{domain:t,post:n,bot_id:s,scope:r,public_key:a,nonce:o}=e;if("telegrampassport"===t&&s&&r&&a&&o)return"telegramPassportLink";if(t&&n)return"publicMessageLink";if((0,c.BU)(t))return"publicUsernameOrBotLink";break}case"privatepost":{const{channel:t,post:n}=e;if(t)return n?"privateMessageLink":"privateChannelLink";break}case"msg_url":return"shareLink";case"addlist":return"chatFolderLink";case"login":return"loginCodeLink";case"passport":return"telegramPassportLink";case"message":return"businessChatLink";case"premium_offer":return"premiumReferrerLink";case"premium_multigift":return"premiumMultigiftLink";case"boost":return"chatBoostLink";case"nft":return"giftUniqueLink";case"stargift_auction":return"giftAuctionLink";case"stars":return"stars";case"ton":return"ton";case"settings":return"settings"}return"unknown"}(n,0,t)){case"publicMessageLink":{const{domain:e,post:t,single:s,thread:r,comment:a,t:o}=n;return p({username:e,messageId:t,single:s,threadId:r,commentId:a,timestamp:o})}case"privateMessageLink":{const{channel:e,post:t,single:s,thread:r,comment:a,t:o}=n;return h({channelId:e,messageId:t,single:s,threadId:r,commentId:a,timestamp:o})}case"shareLink":return g({text:n.text,url:n.url});case"chatFolderLink":return m({slug:n.slug});case"loginCodeLink":return y({code:n.code});case"telegramPassportLink":return function(e){const{botId:t,scope:n,publicKey:s,nonce:r,callbackUrl:a,payload:o}=e;if(t&&A(t)&&n&&s&&r)return{type:"telegramPassportLink",botId:Number(t),scope:n,publicKey:s,nonce:r,callbackUrl:a,payload:o}}({botId:n.bot_id,scope:n.scope,publicKey:n.public_key,nonce:n.nonce,callbackUrl:n.callback_url,payload:n.payload});case"publicUsernameOrBotLink":return b({username:n.domain,start:n.start,text:n.text,appName:n.appname,startApp:n.startapp,mode:n.mode,startAttach:n.startattach,attach:n.attach,choose:n.choose,ref:n.ref,direct:n.direct});case"privateChannelLink":return _({channelId:n.channel});case"businessChatLink":return w({slug:n.slug});case"premiumReferrerLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumReferrerLink",referrer:t}}({referrer:n.ref});case"premiumMultigiftLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumMultigiftLink",referrer:t}}({referrer:n.ref});case"chatBoostLink":return v({username:n.domain,id:n.channel});case"giftUniqueLink":return I({slug:n.slug});case"giftAuctionLink":return S({slug:n.slug});case"stars":return{type:"stars"};case"ton":return{type:"ton"};case"settings":return function(e){const{screen:t}=e;return{type:"settings",screen:t?C(t):void 0}}({screen:1===s.length?s[0]:void 0})}}(new URL(e))}}}(e)}catch(e){return}}function f(e){const t=l(e);if("publicUsernameOrBotLink"===t?.type)return t.username}function g(e){const{url:t,text:n}=e;if(t)return{type:"shareLink",url:t,text:n}}function p(e){const{messageId:t,threadId:n,commentId:s,username:r,single:a,timestamp:i}=e;if(r&&(0,c.BU)(r)&&t&&A(t)&&(!n||A(n))&&(!s||A(s)))return{type:"publicMessageLink",username:r,messageId:Number(t),isSingle:""===a,threadId:n?Number(n):void 0,commentId:s?Number(s):void 0,timestamp:i?(0,o.W)(i):void 0}}function h(e){const{messageId:t,threadId:n,commentId:s,channelId:r,single:a,timestamp:c}=e;if(r&&A(r)&&t&&A(t)&&(!n||A(n))&&(!s||A(s)))return{type:"privateMessageLink",channelId:(0,i.QE)(r),messageId:Number(t),isSingle:""===a,threadId:n?Number(n):void 0,commentId:s?Number(s):void 0,timestamp:c?(0,o.W)(c):void 0}}function m(e){const{slug:t}=e;if(t)return{type:"chatFolderLink",slug:t}}function y(e){const{code:t}=e;if(t)return{type:"loginCodeLink",code:t}}function b(e){const{username:t,start:n,text:s,startApp:r,mode:a,startAttach:o,attach:i,appName:d,choose:u,ref:l,direct:f}=e;if(t&&(0,c.BU)(t))return{type:"publicUsernameOrBotLink",username:t,start:n,startApp:r,mode:a,appName:d,startAttach:o,attach:i,text:s,choose:u,ref:l,isDirect:""===f}}function _(e){const{channelId:t}=e;if(t)return{type:"privateChannelLink",channelId:(0,i.QE)(t)}}function v(e){const{username:t,id:n}=e;if(t||n)return{type:"chatBoostLink",username:t,id:n?(0,i.QE)(n):void 0}}function w(e){const{slug:t}=e;if(t)return{type:"businessChatLink",slug:t}}function I(e){const{slug:t}=e;if(t)return{type:"giftUniqueLink",slug:t}}function S(e){const{slug:t}=e;if(t)return{type:"giftAuctionLink",slug:t}}function C(e){switch(e){case"devices":return"devices";case"folders":return"folders";case"language":return"language";case"privacy":return"privacy";case"edit_profile":return"editProfile";case"theme":return"theme"}}function A(e){return/^-?\d+$/.test(e)}function P(e){const t=e.pathname.split("/").filter(Boolean);return"s"===t[0]&&t.shift(),t.map(decodeURI)}function k(e){return Object.fromEntries(e.searchParams)}},46510(e,t,n){"use strict";function s(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}function r(e,t,n,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(e,n):r?r.value=n:t.set(e,n),n}n.d(t,{G:()=>r,g:()=>s}),"function"==typeof SuppressedError&&SuppressedError},46536(e,t,n){"use strict";function s(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(...t){e.forEach(e=>{e(...t)})},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}n.d(t,{h:()=>s})},46637(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(84051),r=n(66644),a=n(46536),o=n(17712);const i=new Map;function c(e,t,n=!1){const c=(0,o.A)(t);(0,s.vJ)(()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=new Map;function d(){for(const e of o.values())e.target.offsetParent&&c(e);o.clear()}const u=([e])=>{o.set(e.target,e),(0,s.OV)()?s.OV.once(()=>{(0,r.YS)(d)}):d()};let[l,f]=i.get(t)||[void 0,void 0];return l||(f=(0,a.h)(),l=new IntersectionObserver(f.runCallbacks),i.set(t,[l,f]),l.observe(t)),f.addCallback(u),()=>{f.removeCallback(u),f.hasCallbacks()||(l.unobserve(t),l.disconnect(),i.delete(t))}},[n,e])}},48073(e,t,n){"use strict";var s=n(13439),r=n(16841);(0,s.aJ)("connectToGoogle",async e=>{(0,s.UF)({...e,alphahuman:{...e.alphahuman,googleOAuth:{...e.alphahuman?.googleOAuth,isConnecting:!0,error:void 0}}});try{const e=await(0,r.qK)(),t=(0,s.mS)();(0,s.UF)({...t,alphahuman:{...t.alphahuman,googleOAuth:{isConnecting:!1,isConnected:!1,oauthUrl:e.oauthUrl,oauthState:e.state,error:void 0}}}),window.location.href=e.oauthUrl}catch(e){const t=e instanceof Error?e.message:"Failed to connect to Google",n=(0,s.mS)();(0,s.UF)({...n,alphahuman:{...n.alphahuman,googleOAuth:{...n.alphahuman?.googleOAuth,isConnecting:!1,error:t}}}),(0,s.ko)().showNotification({message:`Failed to connect to Google: ${t}`})}}),(0,s.aJ)("resetGoogleOAuthError",e=>{(0,s.UF)({...e,alphahuman:{...e.alphahuman,googleOAuth:{...e.alphahuman?.googleOAuth,error:void 0}}})}),(0,s.aJ)("completeGoogleOAuthSuccess",e=>{(0,s.UF)({...(0,s.mS)(),alphahuman:{...(0,s.mS)().alphahuman,googleOAuth:{isConnecting:!1,isConnected:!0,oauthUrl:void 0,oauthState:void 0,error:void 0}}}),(0,s.ko)().showNotification({message:"Successfully connected to Google"})}),(0,s.aJ)("completeGoogleOAuthError",(e,t,n)=>{const{error:r}=n,a=(0,s.mS)();(0,s.UF)({...a,alphahuman:{...a.alphahuman,googleOAuth:{...a.alphahuman?.googleOAuth,isConnecting:!1,isConnected:!1,error:r}}}),(0,s.ko)().showNotification({message:`Failed to connect to Google: ${r}`})})},48287(e,t,n){"use strict";const s=n(67526),r=n(251),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return d(e,t,n)}function d(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let s=i(n);const r=s.write(e,t);return r!==n&&(s=s.slice(0,r)),s}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return g(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return g(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return c.from(s,t,n);const r=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?i(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),i(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=i(t);for(let s=0;s<t;s+=1)n[s]=255&e[s];return n}function g(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let s;return s=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(s,c.prototype),s}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===n)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return s?-1:W(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){let s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function y(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function b(e,t,n,s,r){if(0===e.length)return-1;if("string"==typeof n?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,s)),c.isBuffer(t))return 0===t.length?-1:_(e,t,n,s,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,s,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,s,r){let a,o=1,i=e.length,c=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;o=2,i/=2,c/=2,n/=2}function d(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){let s=-1;for(a=n;a<i;a++)if(d(e,a)===d(t,-1===s?0:a-s)){if(-1===s&&(s=a),a-s+1===c)return s*o}else-1!==s&&(a-=a-s),s=-1}else for(n+c>i&&(n=i-c),a=n;a>=0;a--){let n=!0;for(let s=0;s<c;s++)if(d(e,a+s)!==d(t,s)){n=!1;break}if(n)return a}return-1}function v(e,t,n,s){n=Number(n)||0;const r=e.length-n;s?(s=Number(s))>r&&(s=r):s=r;const a=t.length;let o;for(s>a/2&&(s=a/2),o=0;o<s;++o){const s=parseInt(t.substr(2*o,2),16);if(J(s))return o;e[n+o]=s}return o}function w(e,t,n,s){return K(W(t,e.length-n),e,n,s)}function I(e,t,n,s){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,s)}function S(e,t,n,s){return K(H(t),e,n,s)}function C(e,t,n,s){return K(function(e,t){let n,s,r;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),s=n>>8,r=n%256,a.push(r),a.push(s);return a}(t,e.length-n),e,n,s)}function A(e,t,n){return 0===t&&n===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);const s=[];let r=t;for(;r<n;){const t=e[r];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(r+o<=n){let n,s,i,c;switch(o){case 1:t<128&&(a=t);break;case 2:n=e[r+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(a=c));break;case 3:n=e[r+1],s=e[r+2],128==(192&n)&&128==(192&s)&&(c=(15&t)<<12|(63&n)<<6|63&s,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:n=e[r+1],s=e[r+2],i=e[r+3],128==(192&n)&&128==(192&s)&&128==(192&i)&&(c=(15&t)<<18|(63&n)<<12|(63&s)<<6|63&i,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,s.push(a>>>10&1023|55296),a=56320|1023&a),s.push(a),r+=o}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",s=0;for(;s<t;)n+=String.fromCharCode.apply(String,e.slice(s,s+=k));return n}(s)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return d(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},c.allocUnsafe=function(e){return l(e)},c.allocUnsafeSlow=function(e){return l(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,s=t.length;for(let r=0,a=Math.min(n,s);r<a;++r)if(e[r]!==t[r]){n=e[r],s=t[r];break}return n<s?-1:s<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const s=c.allocUnsafe(t);let r=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))r+t.length>s.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(s,r)):Uint8Array.prototype.set.call(s,t,r);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(s,r)}r+=t.length}return s},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,n,s,r){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===s&&(s=0),void 0===r&&(r=this.length),t<0||n>e.length||s<0||r>this.length)throw new RangeError("out of range index");if(s>=r&&t>=n)return 0;if(s>=r)return-1;if(t>=n)return 1;if(this===e)return 0;let a=(r>>>=0)-(s>>>=0),o=(n>>>=0)-(t>>>=0);const i=Math.min(a,o),d=this.slice(s,r),u=e.slice(t,n);for(let e=0;e<i;++e)if(d[e]!==u[e]){a=d[e],o=u[e];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,s){if(void 0===t)s="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)s=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===s&&(s="utf8")):(s=n,n=void 0)}const r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let a=!1;for(;;)switch(s){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return I(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function T(e,t,n){let s="";n=Math.min(e.length,n);for(let r=t;r<n;++r)s+=String.fromCharCode(127&e[r]);return s}function E(e,t,n){let s="";n=Math.min(e.length,n);for(let r=t;r<n;++r)s+=String.fromCharCode(e[r]);return s}function M(e,t,n){const s=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>s)&&(n=s);let r="";for(let s=t;s<n;++s)r+=X[e[s]];return r}function x(e,t,n){const s=e.slice(t,n);let r="";for(let e=0;e<s.length-1;e+=2)r+=String.fromCharCode(s[e]+256*s[e+1]);return r}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,s,r,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+s>e.length)throw new RangeError("Index out of range")}function U(e,t,n,s,r){G(t,s,r,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function N(e,t,n,s,r){G(t,s,r,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function D(e,t,n,s,r,a){if(n+s>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,s,a){return t=+t,n>>>=0,a||D(e,0,n,4),r.write(e,t,n,s,23,4),n+4}function F(e,t,n,s,a){return t=+t,n>>>=0,a||D(e,0,n,8),r.write(e,t,n,s,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const s=this.subarray(e,t);return Object.setPrototypeOf(s,c.prototype),s},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let s=this[e],r=1,a=0;for(;++a<t&&(r*=256);)s+=this[e+a]*r;return s},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let s=this[e+--t],r=1;for(;t>0&&(r*=256);)s+=this[e+--t]*r;return s},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q(function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const s=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,r=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(s)+(BigInt(r)<<BigInt(32))}),c.prototype.readBigUInt64BE=Q(function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const s=t*2**24+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(s)<<BigInt(32))+BigInt(r)}),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let s=this[e],r=1,a=0;for(;++a<t&&(r*=256);)s+=this[e+a]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*t)),s},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let s=t,r=1,a=this[e+--s];for(;s>0&&(r*=256);)a+=this[e+--s]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q(function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const s=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=Q(function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const s=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,s){e=+e,t>>>=0,n>>>=0,s||B(this,e,t,n,Math.pow(2,8*n)-1,0);let r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,s){e=+e,t>>>=0,n>>>=0,s||B(this,e,t,n,Math.pow(2,8*n)-1,0);let r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q(function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Q(function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t>>>=0,!s){const s=Math.pow(2,8*n-1);B(this,e,t,n,s-1,-s)}let r=0,a=1,o=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a|0)-o&255;return t+n},c.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t>>>=0,!s){const s=Math.pow(2,8*n-1);B(this,e,t,n,s-1,-s)}let r=n-1,a=1,o=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a|0)-o&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q(function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Q(function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,s){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);const r=s-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,s):Uint8Array.prototype.set.call(e,this.subarray(n,s),t),r},c.prototype.fill=function(e,t,n,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,n=this.length):"string"==typeof n&&(s=n,n=this.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!c.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===e.length){const t=e.charCodeAt(0);("utf8"===s&&t<128||"latin1"===s)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{const a=c.isBuffer(e)?e:c.from(e,s),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=a[r%o]}return this};const O={};function V(e,t,n){O[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const s="-"===e[0]?1:0;for(;n>=s+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function G(e,t,n,s,r,a){if(e>n||e<t){const s="bigint"==typeof t?"n":"";let r;throw r=a>3?0===t||t===BigInt(0)?`>= 0${s} and < 2${s} ** ${8*(a+1)}${s}`:`>= -(2${s} ** ${8*(a+1)-1}${s}) and < 2 ** ${8*(a+1)-1}${s}`:`>= ${t}${s} and <= ${n}${s}`,new O.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(s,r,a)}function j(e,t){if("number"!=typeof e)throw new O.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new O.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new O.ERR_BUFFER_OUT_OF_BOUNDS;throw new O.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),V("ERR_OUT_OF_RANGE",function(e,t,n){let s=`The value of "${e}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=$(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=$(r)),r+="n"),s+=` It must be ${t}. Received ${r}`,s},RangeError);const z=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const s=e.length;let r=null;const a=[];for(let o=0;o<s;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===s){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,s){let r;for(r=0;r<s&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const s=16*n;for(let r=0;r<16;++r)t[s+r]=e[n]+e[r]}return t}();function Q(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},48335(e,t,n){"use strict";var s=n(13439),r=n(16841);(0,s.aJ)("connectToNotion",async e=>{(0,s.UF)({...e,alphahuman:{...e.alphahuman,notionOAuth:{...e.alphahuman?.notionOAuth,isConnecting:!0,error:void 0}}});try{const e=await(0,r.uX)(),t=(0,s.mS)();(0,s.UF)({...t,alphahuman:{...t.alphahuman,notionOAuth:{isConnecting:!1,isConnected:!1,oauthUrl:e.oauthUrl,oauthState:e.state,error:void 0}}}),window.location.href=e.oauthUrl}catch(e){const t=e instanceof Error?e.message:"Failed to connect to Notion",n=(0,s.mS)();(0,s.UF)({...n,alphahuman:{...n.alphahuman,notionOAuth:{...n.alphahuman?.notionOAuth,isConnecting:!1,error:t}}}),(0,s.ko)().showNotification({message:`Failed to connect to Notion: ${t}`})}}),(0,s.aJ)("resetNotionOAuthError",e=>{(0,s.UF)({...e,alphahuman:{...e.alphahuman,notionOAuth:{...e.alphahuman?.notionOAuth,error:void 0}}})}),(0,s.aJ)("completeNotionOAuthSuccess",(e,t,n)=>{const{workspace:r}=n;(0,s.UF)({...(0,s.mS)(),alphahuman:{...(0,s.mS)().alphahuman,notionOAuth:{isConnecting:!1,isConnected:!0,oauthUrl:void 0,oauthState:void 0,error:void 0}}}),(0,s.ko)().showNotification({message:`Successfully connected to Notion workspace: ${r}`})}),(0,s.aJ)("completeNotionOAuthError",(e,t,n)=>{const{error:r}=n,a=(0,s.mS)();(0,s.UF)({...a,alphahuman:{...a.alphahuman,notionOAuth:{...a.alphahuman?.notionOAuth,isConnecting:!1,isConnected:!1,error:r}}}),(0,s.ko)().showNotification({message:`Failed to connect to Notion: ${r}`})})},48544(e,t,n){"use strict";var s=n(89925),r=n(31481),a=n(26120),o=n(70758),i=n(38),c=n(96454),d=n(74824),u=n(14487),l=n(4350),f=n(5560),g=n(70934),p=n(66414),h=n(37836),m=n(57751),y=n(84553),b=n(24021),_=n(42385),v=n(13439),w=n(68873),I=n(17567),S=n(30708),C=n(55232);(0,v.aJ)("initApi",(e,t)=>{const n=(0,p.f4)(),{shouldAllowHttpTransport:s,shouldForceHttpTransport:r,shouldDebugExportedSenders:a,shouldCollectDebugLogs:o,language:i}=(0,S.lS)(e),d=window.location.search.includes("test")||"1"===n?.tgWebAuthTest,u=e.config?.isTestServer,f=(0,l.zk)(),g=Object.values(f).filter(e=>e.isTest===u).map(({userId:e})=>e).filter(Boolean);(0,b.Ru)(t.apiUpdate,{userAgent:navigator.userAgent,platform:c.Aw,sessionData:(0,m.CX)(),isWebmSupported:c.OF,maxBufferSize:c.kn,webAuthToken:n?.tgWebAuthToken,dcId:n?.tgWebAuthDcId?Number(n?.tgWebAuthDcId):void 0,mockScenario:n?.mockScenario,shouldAllowHttpTransport:s,shouldForceHttpTransport:r,shouldDebugExportedSenders:a,langCode:i,isTestServerRequested:d,accountIds:g,hasPasskeySupport:c.DL}),(0,b.eu)(Boolean(o))}),(0,v.aJ)("setAuthPhoneNumber",(e,t,n)=>{const{phoneNumber:s}=n;return(0,b.px)("provideAuthPhoneNumber",s.replace(/[^\d]/g,"")),(0,I.K)(e,{isLoading:!0,errorKey:void 0})}),(0,v.aJ)("setAuthCode",(e,t,n)=>{const{code:s}=n;return(0,b.px)("provideAuthCode",s),(0,I.K)(e,{isLoading:!0,errorKey:void 0})}),(0,v.aJ)("setAuthPassword",(e,t,n)=>{const{password:s}=n;return(0,b.px)("provideAuthPassword",s),(0,I.K)(e,{isLoading:!0,errorKey:void 0})}),(0,v.aJ)("loginWithPasskey",async(e,t,n)=>{const s=e.auth.passkeyOption;if(!s)return;const r=await navigator.credentials.get((0,i.I)(s)).catch(e=>{t.showNotification({message:{key:"PasskeyLoginError"},tabId:(0,u.g0)()})});if(!r)return;const a=r;(0,b.px)("restartAuthWithPasskey",a.toJSON())}),(0,v.aJ)("uploadProfilePhoto",async(e,t,n)=>{const{file:r,isFallback:a,isVideo:o,videoTs:i,bot:c,tabId:d=(0,u.g0)()}=n;e=(0,w.G42)(e,s.TD.InProgress,d),(0,v.UF)(e),await(0,b.px)("uploadProfilePhoto",r,a,o,i,c)&&(e=(0,v.mS)(),e=(0,w.G42)(e,s.TD.Complete,d),(0,v.UF)(e),t.loadFullUser({userId:e.currentUserId}))}),(0,v.aJ)("signUp",(e,t,n)=>{const{firstName:s,lastName:r}=n;return(0,b.px)("provideAuthRegistration",{firstName:s,lastName:r}),(0,I.K)(e,{isLoading:!0,errorKey:void 0})}),(0,v.aJ)("returnToAuthPhoneNumber",e=>((0,b.px)("restartAuth"),(0,I.K)(e,{errorKey:void 0}))),(0,v.aJ)("goToAuthQrCode",e=>((0,b.px)("restartAuthWithQr"),(0,I.K)(e,{isLoadingQrCode:!0,errorKey:void 0}))),(0,v.aJ)("saveSession",(e,t,n)=>{if(e.passcode.isScreenLocked)return;const{sessionData:s}=n;s?(0,m.AA)(s):(0,m.rE)()}),(0,v.aJ)("signOut",async(e,t,n)=>{"hangUp"in t&&t.hangUp({tabId:(0,u.g0)()}),"leaveGroupCall"in t&&t.leaveGroupCall({tabId:(0,u.g0)()}),"disconnectAlphaHumanSocket"in t&&t.disconnectAlphaHumanSocket();try{(0,p.lD)(),(0,p.vO)(),await(0,f.al)(),await Promise.race([(0,b.px)("destroy"),(0,h.v7)(3e3)]),await(0,y.nv)(!1)}catch(e){}t.reset(),n?.forceInitApi&&t.initApi()}),(0,v.aJ)("requestChannelDifference",(e,t,n)=>{const{chatId:s}=n;(0,b.px)("requestChannelDifference",s)}),(0,v.aJ)("reset",(e,t)=>{(0,m.rE)(l.Xz),(0,g.WN)(),d.clear(r.Iz7),d.clear(r.zrf),d.clear(r.cLl),d.clear(r.nfi),(0,_.s1)(),(0,C.m)();const n=(0,l.zk)();Object.values(n).length||(o.B.clear(),(0,_.bN)());const s=r.CV.replace(/\d+$/,""),i=Number((r.CV.match(/\d+$/)||["0"])[0]);for(let e=0;e<i;e++)d.clear(`${s}${0===e?"":e}`);(0,a.q)(0),t.initShared({force:!0}),Object.values(e.byTabId).forEach(({id:e,isMasterTab:n})=>{t.init({tabId:e,isMasterTab:n})})}),(0,v.aJ)("disconnect",()=>{(0,b.eZ)("disconnect")}),(0,v.aJ)("destroyConnection",()=>{(0,b.eZ)("destroy",!0,!0)}),(0,v.aJ)("loadNearestCountry",async e=>{if("connectionStateReady"!==e.connectionState)return;const t=await(0,b.px)("fetchNearestCountry");e=(0,v.mS)(),e=(0,I.K)(e,{nearestCountry:t}),(0,v.UF)(e)}),(0,v.aJ)("setDeviceToken",(e,t,n)=>{const{token:s}=n;return{...e,push:{deviceToken:s,subscribedAt:Date.now()}}}),(0,v.aJ)("deleteDeviceToken",e=>({...e,push:void 0})),(0,v.aJ)("lockScreen",async e=>{const t=JSON.stringify({...(0,m.CX)(),userId:e.currentUserId}),n=(0,_.Mm)(e);await(0,g.yp)(t,n),(0,g.m)(),(0,m.rE)(),(0,a.q)(0),e=(0,v.mS)(),e=(0,w.Vg3)(e,{isScreenLocked:!0,invalidAttemptsCount:0,timeoutUntil:void 0}),(0,v.UF)(e),setTimeout(()=>{e=(0,v.mS)(),e=(0,w.nYM)(e),(0,v.UF)(e)},r.es);try{await(0,f.al)(),await(0,b.px)("destroy",!0)}catch(e){}})},48775(e,t,n){"use strict";n.d(t,{Kk:()=>d,Ms:()=>l,QH:()=>u,U2:()=>f});var s=n(31481),r=n(17142),a=n(87357),o=n(18276),i=n(9267),c=n(20021);function d(e,t){return e("StarsAmountText",{amount:t},{pluralValue:t})}function u(e,t,n){const s=n?(0,r.wD)(Number(t)):t;return e("TonAmountText",{amount:e.preciseNumber(s)},{pluralValue:s})}function l(e,t,n){const{className:s,containerClassName:i,shouldConvertFromNanos:d}=n||{},u=d?(0,r.wD)(Number(t)):t,l=(0,c.Y)(o.A,{name:"toncoin",className:(0,a.A)("ton-amount-icon",s)});return i?(0,c.Y)("span",{className:i,children:e("TonAmount",{amount:u},{withNodes:!0,specialReplacement:{"ðŸ’Ž":l}})}):e("TonAmount",{amount:u},{withNodes:!0,specialReplacement:{"ðŸ’Ž":l}})}function f(e,t,n){const{asFont:r,className:d,containerClassName:u}=n||{},l=r?(0,c.Y)(o.A,{name:"star",className:(0,a.A)("star-amount-icon",d)}):(0,c.Y)(i.A,{type:"gold",className:(0,a.A)("star-amount-icon",d),size:"adaptive"});return u?(0,c.Y)("span",{className:u,children:e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[s.Cyx]:l}})}):e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[s.Cyx]:l}})}},48894(e,t,n){"use strict";n.d(t,{LS:()=>p,R5:()=>b,VT:()=>_,Yi:()=>h,bi:()=>l,hF:()=>c,hT:()=>f,rX:()=>g,t:()=>m,v2:()=>d,vG:()=>y,xp:()=>o});var s=n(87679),r=n(43336);function a(e){return e.length%2==0?e:e.slice(1)}function o(e){const t=a(e);return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function i(e){const t=a(e);return[...o(t),8===t.length?parseInt(t.substring(6,8),16):255]}function c(e){const[t,n,s,r]=i(e);return{r:t,g:n,b:s,a:r}}function d([e,t,n]){return`#${((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}`}function u([e,t,n,s]){return`${d([e,t,n])}${s.toString(16)}`}function l([e,t,n]){e/=255,t/=255,n/=255;const s=Math.max(e,t,n),r=Math.min(e,t,n),a=s-r;let o;const i=0===s?0:a/s,c=s;if(s===r)o=0;else{switch(s){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4}o/=6}return[o,i,c]}function f([e,t,n]){let s,r,a;const o=Math.floor(6*e),i=6*e-o,c=n*(1-t),d=n*(1-i*t),u=n*(1-(1-i)*t);switch(o%6){case 0:s=n,r=u,a=c;break;case 1:s=d,r=n,a=c;break;case 2:s=c,r=n,a=u;break;case 3:s=c,r=d,a=n;break;case 4:s=u,r=c,a=n;break;case 5:s=n,r=c,a=d}return[Math.round(255*s),Math.round(255*r),Math.round(255*a)]}async function g(e){const t=[0,0,0];let n,r=-4;const a=[0,0,0];let o=0;const i=document.createElement("canvas"),c=i.getContext&&i.getContext("2d");if(!c)return t;const d=await(0,s.NN)(e),u=d.naturalHeight||d.offsetHeight||d.height,l=d.naturalWidth||d.offsetWidth||d.width;i.height=u,i.width=l,c.drawImage(d,0,0);try{n=c.getImageData(0,0,l,u)}catch(e){return t}const f=n.data.length;for(;(r+=20)<f;)0!==n.data[r+3]&&(++o,a[0]+=n.data[r],a[1]+=n.data[r+1],a[2]+=n.data[r+2]);return a[0]=Math.floor(a[0]/o),a[1]=Math.floor(a[1]/o),a[2]=Math.floor(a[2]/o),a}function p([e,t,n]){return.2126*e+.7152*t+.0722*n}function h(e){const t=l(e),[n]=t;let[,s,r]=t;return s=Math.min(1,s+.05+.1*(1-s)),r=r>.5?Math.max(0,.65*r):Math.max(0,Math.min(1,1-.65*r)),u([...f([n,s,r]),102])}function m(e){return`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${(e>>24&255)/255})`}function y(e){return p([e>>16&255,e>>8&255,255&e])>128?"black":"white"}function b(e,t,n){return{r:Math.round((0,r.Cc)(e.r,t.r,n)),g:Math.round((0,r.Cc)(e.g,t.g,n)),b:Math.round((0,r.Cc)(e.b,t.b,n)),a:void 0!==e.a?Math.round((0,r.Cc)(e.a,t.a,n)):void 0}}function _(e,t,n){const s=function([e,t,n,s]){return[...l([e,t,n]),s]}(i(e)),[a,,,o]=s;let[,c,d]=s;return c>.1&&c<.9&&(c=(0,r.qE)(c+t,0,1)),d=(0,r.qE)(d+n,0,1),u(function([e,t,n,s]){return[...f([e,t,n]),s]}([a,c,d,o]))}},49763(e,t,n){"use strict";n.d(t,{BU:()=>M,N:()=>T,P1:()=>R,PZ:()=>C,Ts:()=>v,Xq:()=>A,YA:()=>w,Yw:()=>E,dk:()=>x,jn:()=>S,uk:()=>k,vp:()=>P,zm:()=>I});var s=n(84051),r=n(37932),a=n(13439),o=n(31481),i=n(27109),c=n(91048),d=n(5930),u=n(46536),l=n(87894),f=n(37836);const g=F();let p=g.prevGlobal,h=g.prepared,m=g.results,y=g.callbacks;o.Oig&&(window.DEBUG_getFolderManager=()=>({prepared:h,results:m}));const b=(0,f.nF)(()=>{(0,s.qF)(()=>{B((0,a.mS)())})},500);let _=!1;function v(){_=!0,(0,r.DW)(b),(0,a.aJ)("reset",O);const e=(0,a.mS)();(0,c.nTw)(e).isMasterTab||N(e,!0,!0,!0,!0),B(e)}function w(e){return _||v(),m.orderedIdsByFolderId[e]}function I(e){return _||v(),m.pinnedCountByFolderId[e]||0}function S(){return _||v(),m.chatsCountByFolderId}function C(){return _||v(),m.unreadCountersByFolderId}function A(){return _||v(),m.unreadChatIdsByFolderId}function P(){return C()[o.DSF]?.notificationsCount||0}function k(e,t){const n=h.chatSummariesById.get(e);return t?n.orderInSaved:n.orderInAll}function T(e){return h.folderIdsByChatId[e]}function E(e,t){return y.orderedIdsByFolderId[e]||(y.orderedIdsByFolderId[e]=(0,u.h)()),y.orderedIdsByFolderId[e].addCallback(t)}function M(e){return y.chatsCountByFolderId.addCallback(e)}function x(e){return y.unreadChatIdsByFolderId.addCallback(e)}function R(e){return y.unreadCountersByFolderId.addCallback(e)}function B(e){let t;o.Oig&&(t=performance.now());const n=Boolean(e.chats.listIds.active&&U(o.DSF,e.chats.listIds.active,e.chats.orderedPinnedIds.active)),s=Boolean(e.chats.listIds.archived&&U(o._E9,e.chats.listIds.archived,e.chats.orderedPinnedIds.archived)),r=Boolean(e.chats.listIds.saved&&U(o.pX9,e.chats.listIds.saved,e.chats.orderedPinnedIds.saved)),a=e.chats.isFullyLoaded.active!==p.isAllFolderFullyLoaded,u=e.chats.isFullyLoaded.archived!==p.isArchivedFolderFullyLoaded,f=e.chats.isFullyLoaded.saved!==p.isSavedFolderFullyLoaded,g=e.chatFolders.byId!==p.foldersById,y=e.chats.byId!==p.chatsById,b=e.chats.lastMessageIds.saved!==p.lastSavedMessageIds,_=e.chats.lastMessageIds.all!==p.lastAllMessageIds,v=e.chats.topicsInfoById!==p.topicsInfoById,w=e.users.byId!==p.usersById,I=(0,c.K52)(e)!==p.notifyDefaults,S=e.chats.notifyExceptionById!==p.notifyExceptions;let C=[];if((a||u||f)&&(C=C.concat(function(e,t=!1,n=!1){let s=[];t&&s.push(o._E9),n&&s.push(o.pX9);const r=e.chats.isFullyLoaded.active,a=e.chats.isFullyLoaded.archived,i=e.chats.isFullyLoaded.saved;if(r&&a){const e=Object.keys(h.folderSummariesById).filter(e=>!m.orderedIdsByFolderId[e]).map(Number);s=s.concat(e)}return p.isAllFolderFullyLoaded=r,p.isArchivedFolderFullyLoaded=a,p.isSavedFolderFullyLoaded=i,s}(e,u,f))),!(n||s||r||g||y||w||v||I||S||b||_))return void(C.length&&L(C));const A=p.allFolderListIds,P=p.archivedFolderListIds,k=p.savedFolderListIds;if(N(e,n,s,r,g),C=C.concat(function(e,t,n,s,r,a,u){const f=e.chats.byId,g=e.users.byId,y=e.chats.lastMessageIds.all,b=e.chats.lastMessageIds.saved,_=(0,c.K52)(e),v=e.chats.notifyExceptionById,w=Object.values(h.folderSummariesById),I=new Set,S=e.chats.listIds.active,C=e.chats.listIds.archived,A=e.chats.listIds.saved,P=[...S||[],...C||[]];let k=[...P,...A||[]];return S===r&&C===a&&A===u||(k=(0,l.Am)(k.concat(r||[],a||[],u||[]))),k.forEach(r=>{const a=f[r];if(!t&&!n&&!s&&a===p.chatsById[r]&&g[r]===p.usersById[r]&&y?.[r]===p.lastAllMessageIds?.[r]&&b?.[r]===p.lastSavedMessageIds?.[r])return;let u;if(a){const n=h.chatSummariesById.get(r),s=!P.includes(r),l=!A?.includes(r),f=function(e,t,n,s,r,a,d){const{id:u,type:l,isNotJoined:f,migratedTo:g,folderId:p,unreadCount:h,unreadMentionsCount:m,hasUnreadMark:y,isForum:b}=t,_=(0,c._ls)(e,u),v=(0,c.pSx)(e,t.id),{unreadCount:w,unreadMentionsCount:I}=b?Object.values(v||{}).reduce((e,t)=>(e.unreadCount+=t.unreadCount,e.unreadMentionsCount+=t.unreadMentionsCount,e),{unreadCount:0,unreadMentionsCount:0}):{unreadCount:h,unreadMentionsCount:m},S="chatTypePrivate"===l&&r,C=(0,c.yHC)(e,t.id),A=t.id===o.zv8&&(!C||"historyClear"===C.content.action?.type),P=Math.max(t.creationDate||0,t.draftDate||0,C?.date||0),k=(0,c.yHC)(e,t.id,"saved"),T=k?.date||0;return{id:u,type:l,isListedInAll:Boolean(!(_||f||g||A||a)),isListedInSaved:!d,isArchived:p===o._E9,isMuted:(0,i.If)(t,n,s?.[t.id]),isUnread:Boolean(w||I||y),unreadCount:w,unreadMentionsCount:I,isUserBot:S?"userTypeBot"===S.type:void 0,isUserContact:S?S.isContact:void 0,orderInAll:P,orderInSaved:T}}(e,a,_,v,g[r],s,l);if(!t&&n&&(0,d.A)(f,n))return;h.chatSummariesById.set(r,f),u=function(e,t){return t.reduce((t,n)=>(function(e,t){if(!(t.id===o.pX9?e.isListedInSaved:e.isListedInAll))return!1;const{id:n,type:s}=e;if(t.listIds)return!(e.isArchived&&t.id===o.DSF||!e.isArchived&&t.id===o._E9)&&t.listIds.has(n);if(t.excludedChatIds?.has(n))return!1;if(t.includedChatIds?.has(n))return!0;if(t.pinnedChatIds?.has(n))return!0;if(t.excludeArchived&&e.isArchived)return!1;if(t.excludeRead&&!e.isUnread)return!1;if(t.excludeMuted&&e.isMuted&&!e.unreadMentionsCount)return!1;if("chatTypePrivate"===s)if(e.isUserBot){if(t.bots)return!0}else{if(t.contacts&&e.isUserContact)return!0;if(t.nonContacts&&!e.isUserContact)return!0}else{if("chatTypeChannel"===s)return Boolean(t.channels);if("chatTypeBasicGroup"===s||"chatTypeSuperGroup"===s)return Boolean(t.groups)}return!1}(e,n)&&t.push(n.id),t),[]).sort()}(f,w),u.forEach(e=>{I.add(e)})}else h.chatSummariesById.delete(r),u=[];const S=h.folderIdsByChatId[r]||[];if((0,l.k)(u,S))return;const C=function(e,t,n){const s=new Set(t),r=new Set(n),a=[];return(0,l.Am)([...t,...n]).forEach(t=>{let n=m.orderedIdsByFolderId[t];s.has(t)&&!r.has(t)?(h.chatIdsByFolderId[t].delete(e),a.push(t),n&&(n=n.filter(t=>t!==e),h.isOrderedListJustPatched[t]=!0)):!s.has(t)&&r.has(t)&&(h.chatIdsByFolderId[t]||(h.chatIdsByFolderId[t]=new Set),h.chatIdsByFolderId[t].add(e),n&&(n.push(e),h.isOrderedListJustPatched[t]=!0)),m.orderedIdsByFolderId[t]=n}),h.folderIdsByChatId[e]=n,a}(r,S,u);C.forEach(e=>{I.add(e)})}),p.chatsById=f,p.usersById=g,p.lastAllMessageIds=y,p.lastSavedMessageIds=b,p.notifyDefaults=_,p.notifyExceptions=v,Array.from(I)}(e,g||n||s||r,I,S,A,P,k)),L((0,l.Am)(C)),o.Oig){const e=performance.now()-t;e>6&&console.warn(`Slow \`updateFolderManager\`: ${Math.round(e)} ms`)}}function U(e,t,n){const s=e===o.DSF?p.allFolderListIds:e===o.pX9?p.savedFolderListIds:p.archivedFolderListIds,r=e===o.DSF?p.allFolderPinnedIds:e===o.pX9?p.savedFolderPinnedIds:p.archivedFolderPinnedIds;return s!==t||r!==n}function N(e,t,n,s,r){const a=[];if(t){const t=e.chats.listIds.active,n=e.chats.orderedPinnedIds.active;h.folderSummariesById[o.DSF]=D(o.DSF,t,n),p.allFolderListIds=t,p.allFolderPinnedIds=n,a.push(o.DSF)}if(n){const t=e.chats.listIds.archived,n=e.chats.orderedPinnedIds.archived;h.folderSummariesById[o._E9]=D(o._E9,t,n),p.archivedFolderListIds=t,p.archivedFolderPinnedIds=n,a.push(o._E9)}if(s){const t=e.chats.listIds.saved,n=e.chats.orderedPinnedIds.saved;h.folderSummariesById[o.pX9]=D(o.pX9,t,n),p.savedFolderListIds=t,p.savedFolderPinnedIds=n,a.push(o.pX9)}if(r){const t=e.chatFolders.byId;Object.values(t).forEach(e=>{e!==p.foldersById[e.id]&&(h.folderSummariesById[e.id]=function(e){return{...e,orderedPinnedIds:e.pinnedChatIds,excludedChatIds:e.excludedChatIds?new Set(e.excludedChatIds):void 0,includedChatIds:e.excludedChatIds?new Set(e.includedChatIds):void 0,pinnedChatIds:e.excludedChatIds?new Set(e.pinnedChatIds):void 0}}(e),a.push(e.id))}),p.foldersById=t}return a}function D(e,t,n){return{id:e,listIds:new Set(t),orderedPinnedIds:n,pinnedChatIds:new Set(n)}}function L(e){let t=!1,n=!1,s=!1;if(Array.from(e).forEach(e=>{const{pinnedCount:r,orderedIds:a}=function(e){const t=h.folderSummariesById[e];if(!t)return{};const{orderedPinnedIds:n,pinnedChatIds:s}=t,{chatIdsByFolderId:{[e]:r}}=h,{orderedIdsByFolderId:{[e]:a}}=m,i=e===o.pX9,c=r?n?.filter(e=>r.has(e)):n,d=a||r&&Array.from(r)||[],u=(s?d.filter(e=>!s.has(e)):d).sort((e,t)=>k(t,i)-k(e,i));return{pinnedCount:c?.length||0,orderedIds:[...c||[],...u]}}(e);if(!a)return;const i=m.orderedIdsByFolderId[e],c=m.pinnedCountByFolderId[e];(!i||void 0===c||c!==r||h.isOrderedListJustPatched[e]||!(0,l.k)(a,i))&&(h.isOrderedListJustPatched[e]=!1,m.orderedIdsByFolderId[e]=a,m.pinnedCountByFolderId[e]=r,y.orderedIdsByFolderId[e]?.runCallbacks(a));const u=m.chatsCountByFolderId[e],f=a.length;n||(n=u!==f),m.chatsCountByFolderId[e]=f;const g=m.unreadCountersByFolderId[e],p=function(e){const{chatSummariesById:t}=h,{orderedIdsByFolderId:{[e]:n}}=m;return n.reduce((e,n)=>{const s=t.get(n);return s?(s.isUnread&&(e.chatsCount++,s.unreadMentionsCount&&(e.notificationsCount+=s.unreadMentionsCount),s.isMuted||(s.unreadCount?e.notificationsCount+=s.unreadCount:s.unreadMentionsCount||(e.notificationsCount+=1))),e):e},{chatsCount:0,notificationsCount:0})}(e);t||(t=!g||!(0,d.A)(p,g)),m.unreadCountersByFolderId[e]=p;const b=m.unreadChatIdsByFolderId[e],_=function(e){const{chatSummariesById:t}=h,{orderedIdsByFolderId:{[e]:n}}=m;return n.filter(e=>{const n=t.get(e);return n?.isUnread})}(e);s||(s=!b||!(0,l.k)(_,b)),m.unreadChatIdsByFolderId[e]=_}),n){const e={...m.chatsCountByFolderId};m.chatsCountByFolderId=e,y.chatsCountByFolderId.runCallbacks(e)}if(t){const e={...m.unreadCountersByFolderId};m.unreadCountersByFolderId=e,y.unreadCountersByFolderId.runCallbacks(e)}s&&y.unreadChatIdsByFolderId.runCallbacks(m.unreadChatIdsByFolderId)}function F(){return{prevGlobal:{foldersById:{},chatsById:{},usersById:{},topicsInfoById:{}},prepared:{folderSummariesById:{},chatSummariesById:new Map,folderIdsByChatId:{},chatIdsByFolderId:{},isOrderedListJustPatched:{}},results:{orderedIdsByFolderId:{},pinnedCountByFolderId:{},chatsCountByFolderId:{},unreadCountersByFolderId:{},unreadChatIdsByFolderId:{}},callbacks:{orderedIdsByFolderId:{},chatsCountByFolderId:(0,u.h)(),unreadCountersByFolderId:(0,u.h)(),unreadChatIdsByFolderId:(0,u.h)()}}}function O(){const e=F();p=e.prevGlobal,h=e.prepared,m=e.results,y=e.callbacks}},50110(e,t,n){"use strict";n.d(t,{A:()=>o});var s=n(31481),r=n(2188);const a=!s.MVx;function o(e,t){if(!a)return e();const{rescue:n,always:s,shouldIgnoreError:o}=t??{};try{return e()}catch(e){return n?.(e),void(o||(0,r.H)(e))}finally{s?.()}}},50442(e,t,n){"use strict";n.d(t,{h6:()=>c,no:()=>d,fG:()=>u,ez:()=>i,wJ:()=>h});var s=n(96454),r=n(43336),a=n(37836),o=n(43503);let i=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});const c=20,d=10,u=1.5;function l(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function f(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let g=0;const p=new class{constructor({stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:s=150}={}){this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=s,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),s=t.slice(this.stability,2*this.stability),r=n.reduce((e,t)=>e+t),a=s.reduce((e,t)=>e+t),o=r/n.length,i=a/s.length;return Math.abs(o)<=Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)}}({stability:5,sensitivity:25,tolerance:s.H8?1:.6,delay:150});function h(e,t){let n,d=!1,u=!1,h=!1,m=0,y=t.initialZoom??1,b={x:0,y:0},_={x:!1,y:!1};const v=o.A.get();let w,I={x:v.width/2,y:v.height/2};const S=t.minZoom??1,C=t.maxZoom??4;let A=!1;function P(r){const a=r.target,{excludedClosestSelector:i,includedClosestSelector:d,withNativeDrag:u,withCursor:g,onDrag:p}=t;if((e===a||e.contains(a))&&"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&!(i&&(a.matches(i)||a.closest(i))||d&&!a.matches(d)&&!a.closest(d))){if(n=r,"mousedown"===r.type)!u&&p&&r.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("mouseup",k);else if("touchstart"===r.type){if(s.pz){const e=r.touches[0].pageX;A=e<=c||e>=o.A.get().width-c}a.addEventListener("touchmove",T,{passive:!0}),a.addEventListener("touchend",k,{passive:!0}),a.addEventListener("touchcancel",k,{passive:!0}),"touches"in r&&(void 0===r.pageX&&(r.pageX=r.touches[0].pageX),void 0===r.pageY&&(r.pageY=r.touches[0].pageY),2===r.touches.length&&(m=l(r.touches[0],r.touches[1]),I=f(r.touches[0],r.touches[1])))}g&&document.body.classList.add("cursor-grabbing"),t.onCapture?.(r)}}function k(e){n&&(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",k),document.removeEventListener("mousemove",T),n.target.removeEventListener("touchcancel",k),n.target.removeEventListener("touchend",k),n.target.removeEventListener("touchmove",T),s.pz&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach(e=>{e.style.overflow=""}),e&&(d?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-g<300?t.onDoubleClick(e,{centerX:n.pageX,centerY:n.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),g=Date.now()))),d=!1,u=!1,h=!1,m=0,y=(0,r.qE)(y,S,C),w=void 0,b={x:0,y:0},_={x:!1,y:!1};const a=o.A.get();I={x:a.width/2,y:a.height/2},n=void 0,A=!1}function T(e){if(n){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&m>0&&2===e.touches.length)){const n=l(e.touches[0],e.touches[1]),s=f(e.touches[0],e.touches[1]),r=s.x-I.x,a=s.y-I.y,o=n/m;t.onZoom(e,{zoomFactor:o,initialCenterX:I.x,initialCenterY:I.y,dragOffsetX:r,dragOffsetY:a,currentCenterX:s.x,currentCenterY:s.y}),1!==o&&(d=!0)}const r=e.pageX-n.pageX,a=e.pageY-n.pageY;(Math.abs(r)>=15||Math.abs(a)>=15)&&(d=!0);let o=!1;t.onDrag&&(t.onDrag(e,n,{dragOffsetX:r,dragOffsetY:a}),o=!0),t.onSwipe&&!u&&(u=function(e,n,r){if(s.pz&&A)return!1;const a=Math.abs(n),o=Math.abs(r),c=t.swipeThreshold??20;let d;if(a>o&&a>=c?d="x":o>a&&o>=c&&(d="y"),!d)return!1;if(w){if(w!==d)return!1}else w=d;return function(e,t,n,s,r){const a={dragOffsetX:n,dragOffsetY:s};return"x"===t?r(e,n<0?i.Left:i.Right,a):"y"===t&&r(e,s<0?i.Up:i.Down,a)}(e,d,n,r,t.onSwipe)}(e,r,a),o=u),s.pz&&o&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach(e=>{e.style.overflow="hidden"})}}const E=(0,a.sg)(k,150,!1),M=(0,a.sg)(k,150,!1);function x(e){d||(P(e),d=!0,I={x:e.x,y:e.y})}function R(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:s=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return x(e),y=y>1?1:s,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(d=!1);const a=e.metaKey||e.ctrlKey||e.shiftKey;if(a&&function(e){if(!t.onZoom)return;x(e);const n=e.x-I.x,s=e.y-I.y,a=(0,r.qE)(e.deltaY,-25,25);y-=.01*a,y=(0,r.qE)(y,.5*S,3*C),h=!0,t.onZoom(e,{zoom:(0,r.LI)(y,2),initialCenterX:I.x,initialCenterY:I.y,dragOffsetX:n,dragOffsetY:s,currentCenterX:e.x,currentCenterY:e.y}),M(e)}(e),!a&&!h){const s=p.check(e);(1!==y||s)&&function(e){if(!t.onDrag)return;x(e),_.x&&Math.sign(b.x)!==Math.sign(e.deltaX)||(b.x-=e.deltaX),_.y&&Math.sign(b.y)!==Math.sign(e.deltaY)||(b.y-=e.deltaY);const{x:s,y:r}=b;t.onDrag(e,n,{dragOffsetX:s,dragOffsetY:r},(e,t)=>{_={x:e,y:t}}),E(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",R),e.addEventListener("mousedown",P),document.body.addEventListener("touchstart",P,{passive:!t.isNotPassive}),()=>{k(),document.body.removeEventListener("touchstart",P),e.removeEventListener("mousedown",P),e.removeEventListener("wheel",R)}}},50680(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(87357);const a=(e=!1,t,n=!1,a="fast",o=!1,i=350,c=!1)=>{const[d,u]=(0,s.J0)(!e),l=(0,s.li)(),[f,g]=(0,s.J0)(e&&n);if(e)u(!1),g(!0),l.current&&(window.clearTimeout(l.current),l.current=void 0);else if(g(!1),!d&&!l.current){const e=()=>{u(!0),t&&t(),l.current=void 0};o?e():l.current=window.setTimeout(e,i)}const p=f&&!(o&&!e)||c&&e,h=Boolean(l.current),m=e||h;return{shouldRender:m,transitionClassNames:(0,r.A)(a&&"opacity-transition",a,p&&"open",!p&&"not-open",m&&"shown",!m&&"not-shown",h&&"closing"),hasShownClass:m,hasOpenClass:p,isClosing:h}}},50805(e,t,n){"use strict";n.d(t,{A:()=>s});const s={root:"W4ndaFuS",contentBox:"qIESjPFU",textContent:"cgQoy2xy",hasFullContent:"x0D811xX",inlineWrapper:"CrZTrncJ",singleLine:"j1bGIpWD",strong:"d5ep97lr",messageLink:"Soqky8rY",noEllipsis:"m6kJl7zG",contextContainer:"Rz1leKMF",fluidMultiline:"oL3NoM4Y",fluidBackground:"faqkTF52",info:"Jcta1qBG",stickerWrapper:"F8w9vDlr",channelPhoto:"wnjg6GZj",suggestedAvatar:"ClHX4zX1",suggestedText:"jT6o01vL",actionButton:"LB5i9s3a",title:"Cp_BJqe5",subtitle:"VCJyqpS8",starGift:"lcncBNHa",uniqueGift:"jxcv_A2w",uniqueBackgroundWrapper:"lsTgPDw1",uniqueBackground:"uzTnIOE7",uniqueValue:"pae10ItJ",suggestedPostContainer:"eNm2vJJr",suggestedPostTitle:"mp_JlS2o",suggestedPostInfo:"S5yKhYOF",suggestedPostBalanceTooLowBox:"lYK4izyG",suggestedPostRejectedContentBox:"b_UHz9Pn",suggestedPostContentBox:"HiG8V3U2",hoverable:"Ohq5zfvI",suggestedPostBalanceTooLowTitle:"v8H6hMhz",suggestedPostApprovalTitle:"sx65zyR6",suggestedPostApprovalSection:"jmVfnkV0",suggestedPostRejectedComment:"hrUNI578",suggestedPostRejectedTitle:"xm2OfRXs",rejectedIcon:"PnwAfQgJ",botForumTopicIcon:"ij_pghAu",botForumTopicTitle:"erNpymQv",botForumTopicDescription:"YCG0hIsn",botForumTopicArrow:"vUUWoZOQ"}},51072(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},52491(e,t,n){"use strict";n.d(t,{D0:()=>g,On:()=>d,P_:()=>u,cp:()=>f,mS:()=>l});var s=n(61433),r=n(66644),a=n(16120),o=n(19314);const i=["female_sign","male_sign","medical_symbol"];function c(e){const t=e.split("-").map(e=>parseInt(e,16));return String.fromCodePoint(...t)}const d=new Set;function u(e){const t=e.currentTarget;d.add(e.currentTarget.dataset.path),(0,r.RK)(()=>{(0,s.YM)(t,"open")})}const l=(0,o.A)(function(e){return function(e){let t;if(1===e.length)t=e.charCodeAt(0).toString(16).padStart(4,"0");else{const n=[];for(let t=0;t<e.length;t++)e.charCodeAt(t)>=55296&&e.charCodeAt(t)<=56319?e.charCodeAt(t+1)>=56320&&e.charCodeAt(t+1)<=57343&&n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536):(e.charCodeAt(t)<55296||e.charCodeAt(t)>57343)&&n.push(e.charCodeAt(t));t=n.map(e=>e.toString(16).padStart(4,"0")).join("-")}return t}((0,a.a)(e))});function f(e){const t={categories:[],emojis:{}};for(let n=0;n<e.length;n+=2){const s={id:e[n][0],name:e[n][1],emojis:[]};for(let r=0;r<e[n+1].length;r++){const a=e[n+1][r];i.includes(a[1][0])||(s.emojis.push(a[1][0]),t.emojis[a[1][0]]={id:a[1][0],names:a[1],native:c(a[0]),image:a[0].toLowerCase()})}t.categories.push(s)}return t}function g(e){if("FT"===e)return"ðŸ´â€â˜ ï¸";const t=e.toUpperCase();if(!/^[A-Z]{2}$/.test(t))return e;const n=[...t].map(e=>e.codePointAt(0)+127397);return String.fromCodePoint(...n)}},52674(e,t,n){"use strict";n.d(t,{A:()=>a,N:()=>i});const s={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},r={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function a(e){return o()||document.addEventListener("keydown",c,!0),Object.keys(e).forEach(t=>{const n=e[t];if(!n)return;const s=r[t];s&&s.push(n)}),()=>{!function(e){Object.keys(e).forEach(t=>{const n=e[t],s=r[t];if(s){const e=s.findIndex(e=>e===n);-1!==e&&s.splice(e,1)}}),o()||document.removeEventListener("keydown",c,!1)}(e)}}function o(){return Object.values(r).some(e=>Boolean(e.length))}function i(e){const t=s[e];return!!t&&Boolean(r[t].length)}function c(e){const t=s[e.key];if(!t)return;const{length:n}=r[t];if(n)for(let s=n-1;s>=0;s--)if(!1!==(0,r[t][s])(e)){e.stopPropagation();break}}},52745(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(87357),a=n(57474),o=n(20021);const i=(0,s.ph)(({color:e="blue",backgroundColor:t,className:n,onClick:s})=>(0,o.Y)("div",{className:(0,r.A)("Loading",s&&"interactive",n),onClick:s,children:(0,o.Y)(a.A,{color:e,backgroundColor:t})}))},54464(e,t,n){"use strict";n.d(t,{l:()=>a,u:()=>o});var s=n(31481),r=n(96454);function a(e,t=!1){r.pz||!document.activeElement||document.activeElement.id!==s.CfG||!t&&e.target!==e.currentTarget||e.preventDefault()}function o(e){a(e,!0)}},55148(e,t,n){"use strict";n.d(t,{E:()=>d,_:()=>c});var s=n(13439),r=n(89925),a=n(31481),o=n(63495),i=n(46275);const c=(e,t)=>{const n=(0,s.ko)(),c=(0,i.vG)(e);if(c)switch(c.type){case"privateMessageLink":return n.openPrivateChannel({id:c.channelId,threadId:c.threadId,messageId:c.messageId,commentId:c.commentId,timestamp:c.timestamp,linkContext:t}),!0;case"publicMessageLink":return n.openChatByUsername({username:c.username,threadId:c.threadId,messageId:c.messageId,commentId:c.commentId,timestamp:c.timestamp,linkContext:t}),!0;case"publicUsernameOrBotLink":{const e=function(e){if(!e)return;return e.toLowerCase().split(" ").flatMap(e=>"groups"===e?["chats","groups"]:[e]).filter(e=>a.K_A.includes(e))}(c.choose);return n.openChatByUsername({username:c.username,startParam:c.start,ref:c.ref,text:c.text,startApp:c.startApp,mode:c.mode,startAttach:c.startAttach,attach:c.attach,choose:e,originalParts:[c.username,c.appName],isDirect:c.isDirect}),!0}case"privateChannelLink":return n.openPrivateChannel({id:c.channelId}),!0;case"businessChatLink":return n.resolveBusinessChatLink({slug:c.slug}),!0;case"premiumReferrerLink":return n.openPremiumModal(),!0;case"premiumMultigiftLink":return n.openGiftRecipientPicker(),!0;case"chatBoostLink":return n.processBoostParameters({usernameOrId:c.username||c.id,isPrivate:Boolean(c.id)}),!0;case"giftUniqueLink":return n.openUniqueGiftBySlug({slug:c.slug}),!0;case"giftAuctionLink":return n.openGiftAuctionBySlug({slug:c.slug}),!0;case"settings":if(!c.screen)return n.openLeftColumnContent({contentKey:r.Bn.Settings}),!0;switch(c.screen){case"editProfile":n.openSettingsScreen({screen:r.VS.EditProfile});break;case"language":n.openSettingsScreen({screen:r.VS.Language});break;case"devices":n.openSettingsScreen({screen:r.VS.ActiveSessions});break;case"privacy":n.openSettingsScreen({screen:r.VS.Privacy});break;case"folders":n.openSettingsScreen({screen:r.VS.Folders});break;case"theme":n.openSettingsScreen({screen:r.VS.General})}return!0;case"stars":n.openStarsBalanceModal({});break;case"ton":n.openStarsBalanceModal({currency:a.ykW})}if(!e.match(a.bnE))return!1;const u=o.fM?e.replace(/^tg:\/\//,"https://"):e,{protocol:l,searchParams:f,hostname:g}=new URL(u);if("tg:"!==l)return!1;const p=g,h=Object.fromEntries(f),{checkChatInvite:m,openChatByUsername:y,openChatByPhoneNumber:b,openStickerSet:_,joinVoiceChatByLink:v,openInvoice:w,openChatWithDraft:I,checkChatlistInvite:S,openStoryViewerByUsername:C,checkGiftCode:A,openStarsBalanceModal:P}=n;switch(p){case"resolve":{const{domain:e,phone:t,post:n,comment:s,voicechat:r,livestream:a,start:o,startattach:i,attach:c,thread:d,topic:u,appname:l,startapp:f,mode:g,story:p,text:m}=h,_=Number(d)||Number(u)||void 0;"telegrampassport"!==e&&(l?y({username:e,startApp:f,mode:g,originalParts:[e,l],text:m}):h.hasOwnProperty("voicechat")||h.hasOwnProperty("livestream")?v({username:e,inviteHash:r||a}):t?b({phoneNumber:t,startAttach:i,attach:c,text:m}):p?C({username:e,storyId:Number(p)}):y({username:e,messageId:n?Number(n):void 0,commentId:s?Number(s):void 0,startParam:o,mode:g,startAttach:i,attach:c,threadId:_}));break}case"bg":case"login":break;case"join":{const{invite:e}=h;m({hash:e});break}case"addemoji":case"addstickers":{const{set:e}=h;_({stickerSetInfo:{shortName:e}});break}case"share":case"msg":case"msg_url":{const{url:e,text:t}=h;I({text:d(e,t)});break}case"addlist":S({slug:h.slug});break;case"invoice":{const{slug:e}=h;w({type:"slug",slug:e});break}case"stars_topup":{const{balance:e,purpose:t}=h,n=Number(e);if(!n||n<0)return!0;P({topup:{balanceNeeded:n,purpose:t}});break}case"giftcode":{const{slug:e}=h;A({slug:e});break}default:return!1}return!0};function d(e,t,n){return{text:[e,n,t].filter(Boolean).join("\n")}}},55232(e,t,n){"use strict";n.d(t,{X:()=>g,m:()=>m});var s=n(37932),r=n(31481),a=n(95175),o=n(33554),i=n(37836),c=n(20714),d=n(13439);let u,l=!1,f=c.$8;function g(e){u=new SharedWorker(new URL(n.p+n.u(5060),n.b),{name:r.C39}),u.port.addEventListener("message",h),u.port.start(),_({type:"reqGetFullState",localState:e}),(0,s.DW)(p)}function p(){const e=(0,d.mS)();e.sharedState!==f&&(e.sharedState.isInitial||function(e){if(!l)return;const t=(0,a.K)(f,e);f=e,"symbol"!=typeof t&&_({type:"reqUpdateState",update:t})}(e.sharedState))}function h(e){const t=e.data;switch(t.type){case"stateUpdate":v((0,o.$)(f,t.update));break;case"fullState":l=!0,v(t.state)}}function m(){u&&(u.port.removeEventListener("message",h),u.port.close(),u=void 0,(0,s.Cn)(p))}const y=new Set,b=(0,i.Fe)(()=>{if(!u)throw new Error("Shared worker not initialized");for(const e of y)u.port.postMessage(e);y.clear()});function _(e){if(!u)throw new Error("Shared worker not initialized");y.add(e),b()}function v(e){let t=(0,d.mS)();f={...t.sharedState,...e},t={...t,sharedState:f},(0,d.UF)(t)}},55475(e,t,n){"use strict";n.d(t,{B5:()=>b,EG:()=>l,ER:()=>h,G4:()=>p,Kt:()=>f,Os:()=>d,PG:()=>u,aF:()=>c,e7:()=>g,rt:()=>m,w0:()=>y}),n(31481);var s=n(14487),r=n(90709),a=n(21133),o=n(5056),i=n(19926);function c(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).payment.inputInvoice}function d(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).starsPayment}function u(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).payment.requestId}function l(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).payment.form?.nativeParams.publishableKey}function f(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).payment.form?.nativeParams.publicToken}function g(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).payment.stripeCredentials}function p(e,...[t=(0,s.g0)()]){return(0,o.n)(e,t).payment.smartGlocalCredentials}function h(e,t){const n=(0,a.hd)(e,t);return e.currentUserId===t||n&&(0,r.WX)(n)&&(0,r.SJ)(n)&&(0,r.ub)(n,"postMessages")}function m(e,t){const n=(0,a.hd)(e,t),s=(0,i.mB)(e,t);return Boolean(s)||n&&(0,r.WX)(n)}function y(e,t,...[n=(0,s.g0)()]){return m(e,t)?(0,o.n)(e,n).savedGifts.filter:void 0}function b(e,t,...[n=(0,s.g0)()]){return(0,o.n)(e,n).savedGifts.activeCollectionByPeerId?.[t]||"all"}},55962(e,t,n){"use strict";n.r(t),n.d(t,{Channel:()=>l,PluginListener:()=>f,Resource:()=>b,SERIALIZE_TO_IPC_FN:()=>d,addPluginListener:()=>g,checkPermissions:()=>p,convertFileSrc:()=>y,invoke:()=>m,isTauri:()=>_,requestPermissions:()=>h,transformCallback:()=>u});var s,r,a,o,i,c=n(46510);const d="__TAURI_TO_IPC_KEY__";function u(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}class l{constructor(e){s.set(this,void 0),r.set(this,0),a.set(this,[]),o.set(this,void 0),(0,c.G)(this,s,e||(()=>{}),"f"),this.id=u(e=>{const t=e.index;if("end"in e)return void(t==(0,c.g)(this,r,"f")?this.cleanupCallback():(0,c.G)(this,o,t,"f"));const n=e.message;if(t==(0,c.g)(this,r,"f")){for((0,c.g)(this,s,"f").call(this,n),(0,c.G)(this,r,(0,c.g)(this,r,"f")+1,"f");(0,c.g)(this,r,"f")in(0,c.g)(this,a,"f");){const e=(0,c.g)(this,a,"f")[(0,c.g)(this,r,"f")];(0,c.g)(this,s,"f").call(this,e),delete(0,c.g)(this,a,"f")[(0,c.g)(this,r,"f")],(0,c.G)(this,r,(0,c.g)(this,r,"f")+1,"f")}(0,c.g)(this,r,"f")===(0,c.g)(this,o,"f")&&this.cleanupCallback()}else(0,c.g)(this,a,"f")[t]=n})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(e){(0,c.G)(this,s,e,"f")}get onmessage(){return(0,c.g)(this,s,"f")}[(s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,d)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[d]()}}class f{constructor(e,t,n){this.plugin=e,this.event=t,this.channelId=n}async unregister(){return m(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}}async function g(e,t,n){const s=new l(n);try{return await m(`plugin:${e}|register_listener`,{event:t,handler:s}),new f(e,t,s.id)}catch{return await m(`plugin:${e}|registerListener`,{event:t,handler:s}),new f(e,t,s.id)}}async function p(e){return m(`plugin:${e}|check_permissions`)}async function h(e){return m(`plugin:${e}|request_permissions`)}async function m(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}function y(e,t="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(e,t)}class b{get rid(){return(0,c.g)(this,i,"f")}constructor(e){i.set(this,void 0),(0,c.G)(this,i,e,"f")}async close(){return m("plugin:resources|close",{rid:this.rid})}}function _(){return!!(globalThis||window).isTauri}i=new WeakMap},55994(e,t,n){"use strict";n.d(t,{P:()=>h,R:()=>m});var s=n(66644),r=n(96454),a=n(19822),o=n(50442),i=n(25903),c=n(43336);const d=a.qM.easeOutCubic;let u,l,f,g,p=!1;function h(e,t){return(0,o.wJ)(e,{excludedClosestSelector:t.excludedClosestSelector,selectorToPreventScroll:t.selectorToPreventScroll,swipeThreshold:10,onSwipe(e,n,s){if(n===o.ez.Left)t.onSwipeLeftStart?.();else{if(n!==o.ez.Right)return!1;t.onSwipeRightStart?.()}return r.pz&&(p=!0,u=s),!0},onDrag(e,t,n){p&&l?.(n)},onRelease(){p&&(p=!1,f?.(t.onCancel),l=void 0,f=void 0)}})}function m(e,t,n){if(g?.(),!p)return;const r=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=b(e.transform);if(t)return t}}(e);if(!r)return;let o;e.getAnimations().forEach(e=>e.pause()),t.getAnimations().forEach(e=>e.pause()),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,s.YS)(()=>{const p=(h=getComputedStyle(e).transform,m=r.axis,h.slice(7,-1).split(",").map(Number)["X"===m?4:5]);var h,m;const b=("px"===r.units?r.value:r.value/100*("X"===r.axis?e.offsetWidth:e.offsetHeight))-p;let _=0;l=({dragOffsetX:n,dragOffsetY:s})=>{const a="X"===r.axis?n-u.dragOffsetX:s-u.dragOffsetY,i=(0,c.qE)(a/b,0,1);o=i>_?1:-1,_=i,y([e,t],_)},f=r=>{const c=-1===o;function u(){e.getAnimations().forEach(e=>e.cancel()),t.getAnimations().forEach(e=>e.cancel()),(0,s.RK)(()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""})}c||(0,i.e)(e,u),g=(0,a.Hd)({from:_,to:c?0:1,duration:300,timing:d,onUpdate(n){y([e,t],n)},onEnd(e=!1){g=void 0,(e||c)&&(u(),n(),r())}})}})}function y(e,t){e.map(e=>e.getAnimations()).flat().forEach(e=>{e.currentTime=e.effect.getTiming().duration*t})}function b(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}},56362(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(13439),r=n(23174),a=n(91048),o=n(43874),i=n(20021);const c=(0,s.EK)((e,{userId:t})=>({userOrChat:t?(0,a.mBe)(e,t):void 0}))(({userId:e,username:t,userOrChat:n,children:a})=>{const{openChat:c,openChatByUsername:d,closeStoryViewer:u,setShouldCloseRightColumn:l}=(0,s.ko)(),{isMobile:f}=(0,o.Ay)();return(0,i.Y)("a",{onClick:()=>{f&&l({value:!0}),n?c({id:n.id}):t&&(u(),d({username:t.substring(1)}))},className:"text-entity-link",dir:"auto","data-entity-type":e?r.C7.MentionName:r.C7.Mention,children:a})})},56494(e,t,n){"use strict";n.d(t,{B9:()=>d,Y9:()=>f,iS:()=>u,if:()=>l,ly:()=>g,me:()=>p,xd:()=>h});var s=n(31481),r=n(90709),a=n(21133),o=n(19408),i=n(30757),c=n(30163);function d(e,t){const{isSensitiveEnabled:n}=(0,i.eC)(e),r=(0,a.hd)(e,t.chatId);if(n)return!1;const c=(0,o.G6)(e,r?.restrictionReasons),d=(0,o.G6)(e,t.restrictionReasons);return c.some(e=>e.reason===s.L1q)||d.some(e=>e.reason===s.L1q)}function u(e,t){const n=(0,r.wb)(t),s=n&&(0,c.oe)(e,n),a=(0,r.Jw)(t),i=a&&(0,c.O8)(e,a),d=(0,o.Pn)(e,t);return i||s||(0,r.yl)(t)||(0,r.zX)(t)||(0,r.zC)(t)||(0,r.fP)(t)||(0,r.wp)(t)||(0,r.gB)(t)||(0,r.eY)(d)||(0,r.rU)(d)||(0,r.y3)(d)}function l(e,t){const n=function(e,t){const n=(0,o.Pn)(e,t),s=(0,r.yl)(t)||(0,r.zX)(t)||(0,r.zC)(t)||(0,r.fP)(t)||(0,r.eY)(n)||(0,r.rU)(n)||(0,r.NO)(t)?.extendedMedia;if(s)return s.thumbnail}(e,t);return n?.dataUri}function f(e,t){const{audio:n,voice:s,video:a}=(0,r.r_)(t),i=(0,o.Pn)(e,t),c=n||s||a||(0,r.rU)(i)||(0,r.y3)(i);if(c)return c.duration}function g(e,t){const n=(0,o.Pn)(e,t),s=(0,r.zX)(t)||(0,r.rU)(n);return(!s||s.isRound||s.isGif?void 0:s)||(0,r.wp)(t)||(0,r.gB)(t)}function p(e,t,n){const s=n?void 0:(0,o.gM)(e,t),r=g(e,t),a=s&&g(e,s);return r?.duration||a?.duration}function h(e,t,n){return e.messages.playbackByChatId[t]?.byId[n]}},56863(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);const r=function(e,t,n){const[r,a]=(0,s.J0)(!1),[o,i]=(0,s.J0)(),[c,d]=(0,s.J0)(n);return(0,s.vJ)(()=>{a(!0);let t=!1;return e().then(e=>{t||(a(!1),d(e))},e=>{t||(a(!1),i(e))}),()=>{t=!0}},t),{isLoading:r,error:o,result:c}}},57076(e,t,n){"use strict";n.d(t,{A:()=>m});var s=n(84051),r=n(23174),a=n(90709),o=n(58849),i=n(18501),c=n(39351),d=n(17712),u=n(35297),l=n(14745),f=n(19129);const g=1e3/60,p=(0,s.ph)(({text:e,duration:t=1e3,children:n})=>{const[r,a]=(0,s.Ul)(e.text.length),o=(0,s.li)(),i=(0,d.A)(()=>{const n=t/e.text.length,s=Math.max(n,g),i=Math.min(Math.ceil(s/n),10);o.current=window.setTimeout(()=>{r()>=e.text.length?clearTimeout(o.current):a(r()+i)},s)});return(0,s.vJ)(()=>{if(e.text.length<r())return clearTimeout(o.current),void a(e.text.length);clearTimeout(o.current),i()},[r,a,e.text.length]),(0,s._W)(()=>{clearTimeout(o.current)}),n((0,f.A)(()=>({...e,text:e.text.slice(0,r())}),[r,e]))});var h=n(20021);const m=(0,s.ph)(function({messageOrStory:e,translatedText:t,isForAnimation:n,emojiSize:f,highlight:g,asPreview:m,truncateLength:y,isProtected:b,observeIntersectionForLoading:_,observeIntersectionForPlaying:v,withTranslucentThumbs:w,shouldRenderAsHtml:I,inChatList:S,forcePlayback:C,focusedQuote:A,focusedQuoteOffset:P,isInSelectMode:k,canBeEmpty:T,maxTimestamp:E,threadId:M,shouldAnimateTyping:x}){const R=(0,s.li)(),B=(0,s.li)(),U=(0,s.li)(0),N=(0,c.A)(),D=t||(0,a.Sb)(e,S),L=n&&D?(0,a.m4)(D):D,{text:F,entities:O}=L||{},V=(0,s.Kr)(()=>{if(!F||!A)return O;const e=F.indexOf(A,P),t=e>=0?e:F.indexOf(A),n=A.length;return t>=0?(0,i.kf)(O||[],{offset:t,length:n,type:r.C7.QuoteFocus}):O},[F,O,A,P]),$=(0,l.A)();(0,u.A)(()=>{U.current+=1},[F,V]);const G=(0,s.Kr)(()=>{const e=V?.some(e=>e.type===r.C7.Spoiler);return!e&&(V?.filter(e=>e.type===r.C7.CustomEmoji).length||0)>=3},[V])||0,j=(0,d.A)(t=>(0,i.fd)({text:t.text,entities:t.entities,highlight:g,emojiSize:f,shouldRenderAsHtml:I,containerId:$,asPreview:m,isProtected:b,observeIntersectionForLoading:_,observeIntersectionForPlaying:v,withTranslucentThumbs:w,sharedCanvasRef:R,sharedCanvasHqRef:B,cacheBuster:U.current.toString(),forcePlayback:C,isInSelectMode:k,maxTimestamp:E,chatId:"chatId"in e?e.chatId:void 0,messageId:e.id,threadId:M}));if(!F&&!T)return(0,h.Y)("span",{className:"content-unsupported",children:N("MessageUnsupported")});const q={text:(0,o.A)(F||"",y),entities:V};return(0,h.Y)(h.FK,{children:[G&&(0,h.Y)("canvas",{ref:R,className:"shared-canvas"},"shared-canvas"),G&&(0,h.Y)("canvas",{ref:B,className:"shared-canvas"},"shared-canvas-hq"),x?(0,h.Y)(p,{text:q,children:j},"typing-wrapper"):j(q)].flat().filter(Boolean)})})},57309(e,t,n){"use strict";function s(e){const{chatId:t,id:n}=e;return`${t}_${n}`}function r(e){const[t,n]=e.split("_");return[t,Number(n)]}n.d(t,{D:()=>s,a:()=>r})},57474(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(87357),r=n(20021);const a=({color:e="blue",backgroundColor:t,className:n})=>(0,r.Y)("div",{className:(0,s.A)("Spinner",n,e,t&&"with-background",t&&`bg-${t}`),children:(0,r.Y)("div",{className:"Spinner__inner"})})},57675(e,t,n){"use strict";n.d(t,{A:()=>d});var s=n(84051),r=n(66644),a=n(91800),o=n(16581),i=n(17712),c=n(39751);function d(e,t,n,d){const u=(0,s.li)(!0),l=(0,s.li)(),f=(0,s.li)(),[g,p]=(0,s.J0)(!d),[h,m]=(0,s.J0)(g);(0,s.Nf)(()=>{const t=(n||e).current,s=!n;d||!t||u.current||(0,r.RK)(()=>{t.style.maxHeight=h?`${l.current}px`:s?`${f.current}px`:""})},[n,h,d,e]);const y=(0,i.A)(()=>{if(d||!e.current)return;const n=e.current,{lineHeight:s,totalLines:r}=(0,a.A)(n);f.current=n.scrollHeight,r>t?(l.current=s*t,p(!0)):(p(!1),m(!1))}),b=(0,o.A)(()=>(0,r.YS)(y),[y],200);(0,s.Nf)(()=>{!d&&u.current&&(0,r.gm)(()=>(y(),()=>{u.current=!1;const t=(n||e).current;t&&(t.style.maxHeight=l.current?`${l.current}px`:`${f.current}px`)}))},[n,d,y,e]);const{width:_}=(0,c.A)();return(0,s.vJ)(()=>{if(d)p(!1),m(!1);else{if(u.current)return;b()}},[b,d,_]),{isCollapsed:h,isCollapsible:g,setIsCollapsed:m}}},57751(e,t,n){"use strict";n.d(t,{$m:()=>l,AA:()=>o,CX:()=>c,id:()=>u,rE:()=>i,wr:()=>a});var s=n(31481),r=n(4350);function a(){if(l())return!0;const e=d(r.Xz);if(e)return Boolean(e.dcId);if(!r.Xz){const e=localStorage.getItem(s.HaM);if(e)try{const t=JSON.parse(e);return Boolean(t&&t.id&&t.dcID)}catch(e){return!1}}return!1}function o(e){const{mainDcId:t,keys:n,isTest:a}=e,o=d(r.Xz),i={...o,dcId:t,isTest:a};Object.keys(n).map(Number).forEach(e=>{i[`dc${e}_auth_key`]=n[e]}),r.Xz||function(e,t){const{mainDcId:n,keys:r,isTest:a}=e;localStorage.setItem(s.HaM,JSON.stringify({dcID:n,id:t,test:a})),localStorage.setItem("dc",String(n)),Object.keys(r).map(Number).forEach(e=>{localStorage.setItem(`dc${e}_auth_key`,JSON.stringify(r[e]))})}(e,o?.userId),(0,r.gD)(r.Xz,i)}function i(e){e||[s.HaM,"dc",...s.j3k.map(e=>`dc${e}_auth_key`),...s.j3k.map(e=>`dc${e}_hash`),...s.j3k.map(e=>`dc${e}_server_salt`)].forEach(e=>{localStorage.removeItem(e)}),localStorage.removeItem(`${s.um6}${e||1}`)}function c(){if(!a())return;const e=d(r.Xz);if(!e){if(r.Xz)return;return function(){if(!a())return;const e=JSON.parse(localStorage.getItem(s.HaM)||"null");if(!e)return;const t=Number(e.dcID),n=e.test,r={};return s.j3k.forEach(e=>{try{const t=localStorage.getItem(`dc${e}_auth_key`);t&&(r[e]=JSON.parse(t))}catch(e){s.Oig&&console.warn("Failed to load stored session",e)}}),Object.keys(r).length?{mainDcId:t,keys:r,isTest:n}:void 0}()}return{mainDcId:e.dcId,keys:s.j3k.reduce((t,n)=>{const s=e[`dc${n}_auth_key`];return s&&(t[n]=s),t},{}),isTest:e.isTest||void 0}}function d(e){try{const t=JSON.parse(localStorage.getItem(`${s.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function u(e){d(r.Xz)&&(0,r.Ph)(r.Xz,{userId:e})}function l(){return"true"===localStorage.getItem(s.ozB)}},57941(e,t,n){"use strict";n.d(t,{R:()=>a});const s="#111111DD",r={CONNECTING:"#E4D00A",CONNECTED:"#26D907",DISCONNECTED:"#9C9C9C","CONNECTION ERROR":"#D1191C","AUTH ERROR":"#D1191C","BACKEND ERROR":"#D1191C","STREAM ERROR":"#D1191C",STATE:"#49DBF5",REQUEST:"#6887F7",RESPONSE:"#0DD151",UPDATE:"#F549DB",WARN:"#FFA500"};function a(e,...t){("CONNECTION ERROR"===e||"AUTH ERROR"===e||"BACKEND ERROR"===e||"STREAM ERROR"===e?console.error:"WARN"===e?console.warn:console.log)(`%cAiSocket%c${e}`,`color: #9B59B6; background: ${s}; padding: 0.25rem; border-radius: 0.25rem;`,`color: ${r[e]}; background: ${s}; padding: 0.25rem; border-radius: 0.25rem; margin-left: 0.25rem;`,...t)}},58554(e,t,n){"use strict";n.d(t,{ch:()=>_,hd:()=>y,Ih:()=>b,RB:()=>w,Cn:()=>v});var s=n(23174),r=n(31481),a=n(24021),o=n(96454),i=n(74824),c=n(87679),d=n(4350);const u=48e3;async function l(e){const t=await new Response(e).arrayBuffer();return new Promise(e=>{const s=new Uint8Array(t);let r=new Worker(new URL(n.p+n.u(4180),n.b)),a=new Worker(new URL(n.p+n.u(3731),n.b));r.onmessage=e=>{null===e.data?a.postMessage({command:"done"}):a.postMessage({command:"encode",buffers:e.data},e.data.map(({buffer:e})=>e))},a.onmessage=t=>{"page"===t.data.message&&(e(new Blob([t.data.page],{type:"audio/wav"})),r.terminate(),r=void 0,a.terminate(),a=void 0)},a.postMessage({command:"init",wavBitDepth:16,wavSampleRate:u}),r.postMessage({command:"init",decoderSampleRate:u,outputBufferSampleRate:u}),r.postMessage({command:"decode",pages:s},[s.buffer])})}const f={[s.qZ.BlobUrl]:i.Type.Blob,[s.qZ.Text]:i.Type.Text,[s.qZ.DownloadUrl]:void 0,[s.qZ.Progressive]:void 0},g=new Map,p=new Map,h=new Map,m=new Map;function y(e,t,n=!1,a,i){if(t===s.qZ.Progressive)return o.Uz?Promise.resolve(w(e)):y(e,s.qZ.BlobUrl,n,a,i);if(t===s.qZ.DownloadUrl)return o.Uz?Promise.resolve(function(e){const t=new URL(`./download/${e}`,window.location.href);return d.Xz&&t.searchParams.set("account",d.Xz.toString()),t.href}(e)):y(e,s.qZ.BlobUrl,n,a,i);if(!p.has(e)){const s=I(e,t,n).catch(e=>{r.Oig&&console.warn(e)}).finally(()=>{p.delete(e),h.delete(e),m.delete(e)});p.set(e,s)}if(a&&i){let t=h.get(e);t||(t=new Map,h.set(e,t)),t.set(i,a)}return p.get(e)}function b(e){return g.get(e)}function _(e){h.forEach((t,n)=>{t.forEach(t=>{if(t===e){const e=m.get(n);if(!e)return;return(0,a.om)(e),m.delete(n),void h.delete(n)}})})}function v(e,t){const n=h.get(e);n&&n.delete(t)}function w(e){const t=new URL(`./progressive/${e}`,window.location.href);return d.Xz&&t.searchParams.set("account",d.Xz.toString()),t.href}async function I(e,t,n,s=0){if(!r.xJs){const s=e.startsWith("avatar")?r.zrf:r.Iz7,a=await i.fetch(s,e,f[t],n);if(a){let t=a;"audio/ogg"!==a.type||o.Oo||(t=await l(t));const n=S(t);return g.set(e,n),n}}const d=function(e){const t=n=>{h.get(e)?.forEach(s=>{s(n),s.isCanceled&&(t.isCanceled=!0,g.delete(e))})};return t}(e);m.set(e,d);const u=await(0,a.px)("downloadMedia",{url:e,mediaFormat:t,isHtmlAllowed:n},d);if(!u){if(s>=5)throw new Error(`Failed to fetch media ${e}`);return await new Promise(e=>{setTimeout(e,C(s))}),r.Oig&&console.debug(`Retrying to fetch media ${e}`),I(e,t,n,s+1)}let{mimeType:p}=u,y=S(u.dataBlob);if("audio/ogg"===p&&!o.Oo){const e=await(0,c.sZ)(y);URL.revokeObjectURL(y);const t=await l(e);y=S(t),p=t.type}return g.set(e,y),y}function S(e){return e instanceof Blob?URL.createObjectURL(e):e}function C(e){return 250*2**e}o.Uz&&navigator.serviceWorker.addEventListener("message",async e=>{const{type:t,messageId:n,params:o}=e.data;if("requestPart"!==t)return;const i=await async function e(t=0){return await(0,a.px)("downloadMedia",{mediaFormat:s.qZ.Progressive,...o})||(t>=5?void(r.Oig&&console.warn("Failed to download media part after 5 retries:",o.url)):(await new Promise(e=>{setTimeout(e,C(t))}),r.Oig&&console.debug(`Retrying to download media part ${o.url}, attempt ${t+1}`),e(t+1)))}();if(!i)return;const{arrayBuffer:c,mimeType:d,fullSize:u}=i;navigator.serviceWorker.controller.postMessage({type:"partResponse",messageId:n,result:{arrayBuffer:c,mimeType:d,fullSize:u}},[c])})},58734(e,t,n){"use strict";n.d(t,{Rr:()=>g,Y5:()=>f,_p:()=>u,hB:()=>l});var s=n(13439),r=n(23174),a=n(31481),o=n(91048),i=n(87357),c=n(60261),d=n(76023);const u="img[data-document-id]";function l(e){const[t,n,s]=(0,c.Qy)(e);return`<img\n    class="${(0,i.A)("custom-emoji","emoji","emoji-small",t&&"placeholder",e.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e.emoji}"\n    data-document-id="${e.id}"\n    ${s?`data-unique-id="${s}"`:""}\n    data-entity-type="${r.C7.CustomEmoji}"\n    src="${n}"\n  />`}function f(e,t){const n=(0,o.O8F)((0,s.mS)(),t.documentId),[a,d,u]=(0,c.Qy)(n);return`<img\n    class="${(0,i.A)("custom-emoji","emoji","emoji-small",a&&"placeholder",n?.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e}"\n    data-document-id="${t.documentId}"\n    ${u?`data-unique-id="${u}"`:""}\n    data-entity-type="${r.C7.CustomEmoji}"\n    src="${d}"\n  />`}function g(e){if(e)return e>a.Apc?2.25*d.$:1===e?7*d.$:Math.min(7.5-.75*e,5.625)*d.$}},58849(e,t,n){"use strict";function s(e,t){return!e||!t||e.length<=t?e:`${e.substring(0,t)}...`}n.d(t,{A:()=>s})},59030(e,t,n){"use strict";n.d(t,{A:()=>o});var s=n(6e4),r=n(15283),a=n(30857);const o=()=>{const e=(0,a.A)();return(0,r.A)(()=>s.DW(e)),s.Yw()}},59607(e,t,n){"use strict";n.d(t,{Ld:()=>I,mY:()=>v,yK:()=>S});var s=n(84051),r=n(37932),a=n(13439),o=n(91048),i=n(24021),c=n(95175),d=n(33554),u=n(14487),l=n(87894),f=n(4350);let g,p,h=!1,m=!1;const y=new BroadcastChannel(f.rL);let b,_=!1;function v(){(0,u.VS)(e=>{if(e===(0,u.g0)()){y.removeEventListener("message",w),m=!0;const t=(0,a.mS)(),n={...t,byTabId:(0,l.cJ)(t.byTabId,[e])},s=(0,c.K)(t,n);return void("symbol"!=typeof s&&y.postMessage({type:"globalDiffUpdate",diff:s}))}let t=(0,a.mS)();t={...t,byTabId:(0,l.cJ)(t.byTabId,[e])},(0,a.UF)(t)}),(0,r.DW)(e=>{if(h&&!m){if(p!==e){if(!p)return p=e,void y.postMessage({type:"globalUpdate",global:e});_||(_=!0,b=p,(0,s.qF)(()=>{const e=(0,c.K)(b,p);"symbol"!=typeof e&&y.postMessage({type:"globalDiffUpdate",diff:e}),_=!1})),p=e}}else p=e}),y.addEventListener("message",w)}function w({data:e}){if(e)switch(e.type){case"initApi":{const t=(0,a.mS)();if(!(0,o.nTw)(t).isMasterTab)return;const{initialArgs:n}=e;(0,i.Ru)((0,a.ko)().apiUpdate,n);break}case"globalDiffUpdate":{if(!h)return;const{diff:t}=e,n=(0,a.mS)(),s=(0,d.$)(n,t);s.DEBUG_randomId=n.DEBUG_randomId,p=s,(0,a.UF)(s);break}case"globalUpdate":{if(h)return;const t=(0,a.mS)();e.global.DEBUG_randomId=t.DEBUG_randomId,p=e.global,(0,a.UF)(e.global),g&&(g(),g=void 0,h=!0);break}case"requestGlobal":{const{appVersion:t}=e;if("12.17.0"!==t)return void window.location.reload();if(!h)return;const n=(0,a.mS)();if(!(0,o.nTw)(n).isMasterTab)return;y.postMessage({type:"globalUpdate",global:n}),(0,u.ZQ)();break}case"messageCallback":{if(!h)return;const t=(0,a.mS)();if((0,o.nTw)(t).isMasterTab)return;(0,i.PH)(e);break}case"localDbUpdate":{if(!h)return;const t=(0,a.mS)();if((0,o.nTw)(t).isMasterTab)return;const{batchedUpdates:n}=e;n.forEach(({name:e,prop:t,value:n})=>{(0,i.fj)(e,t,n)});break}case"localDbUpdateFull":{if(!h)return;const t=(0,a.mS)();if((0,o.nTw)(t).isMasterTab)return;const{localDb:n}=e;(0,i.iB)(n);break}case"messageResponse":{if(!h)return;const t=(0,a.mS)();if((0,o.nTw)(t).isMasterTab)return;(0,i.Hn)(e);break}case"cancelApiProgress":{if(!h)return;const t=(0,a.mS)();if(!(0,o.nTw)(t).isMasterTab)return;const{messageId:n}=e;(0,i.Ar)(n);break}case"callApi":{if(!h)return;const t=(0,a.mS)();if(!(0,o.nTw)(t).isMasterTab)return;const{name:n,messageId:s,token:r,args:c,withCallback:d}=e,u=d?[...c,(...e)=>{y.postMessage({type:"messageCallback",token:r,messageId:s,callbackArgs:e})}]:c;(async()=>{const e=await(0,i.eZ)(n,...u);y.postMessage({type:"messageResponse",token:r,messageId:s,response:e})})();break}case"langpackRefresh":(0,a.ko)().refreshLangPackFromCache({langCode:e.langCode})}}function I(e){y.postMessage({type:"requestGlobal",appVersion:e});const t=()=>{g&&(g(),g=void 0),h=!0};return localStorage.getItem(f.pn)?(setTimeout(t,800),new Promise(e=>{g=e})):(t(),Promise.resolve())}function S(e){y.postMessage({type:"langpackRefresh",langCode:e})}},59852(e,t,n){"use strict";function s(){const e=getComputedStyle(document.documentElement),t=a(e,"--color-background"),n=a(e,"--color-text-secondary"),s=t,r=a(e,"--color-text"),o=a(e,"--color-primary"),i=a(e,"--color-white"),c=a(e,"--color-links"),d=n,u=a(e,"--color-background-secondary"),l=a(e,"--color-divider");return{bg_color:s,text_color:r,hint_color:d,link_color:c,button_color:o,button_text_color:i,secondary_bg_color:u,header_bg_color:t,accent_text_color:a(e,"--color-primary"),section_bg_color:t,section_header_text_color:n,subtitle_text_color:d,destructive_text_color:a(e,"--color-error"),section_separator_color:l}}function r(e){return/^#[0-9A-F]{6}$/i.test(e)}function a(e,t){const n=e.getPropertyValue(t);if(n)return o(n.trim()).slice(0,7)}function o(e){return r(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN","")).join("")}`}n.d(t,{A:()=>s,To:()=>r,yY:()=>o})},6e4(e,t,n){"use strict";n.d(t,{DW:()=>y,Yw:()=>A,bV:()=>k,wT:()=>P,yE:()=>C});var s=n(13439),r=n(31481),a=n(30708),o=n(24021),i=n(74824),c=n(46536),d=n(43044),u=n(14242);const l=/%\d?\$?[sdf@]/g,f=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],g={en:e=>1!==e?6:2,ar:e=>0===e?1:1===e?2:2===e?3:e%100>=3&&e%100<=10?4:e%100>=11?5:6,be:e=>{const t=String(e).split("."),n=Number(t[0])===e,s=n?Number(t[0].slice(-1)):0,r=n?Number(t[0].slice(-2)):0;return 1===s&&11!==r?2:s>=2&&s<=4&&(r<12||r>14)?4:n&&0===s||s>=5&&s<=9||r>=11&&r<=14?5:6},ca:e=>1!==e?6:2,cs:e=>{const t=String(e).split("."),n=Number(t[0]),s=!t[1];return 1===e&&s?2:n>=2&&n<=4&&s?4:s?6:5},de:e=>1!==e?6:2,es:e=>1!==e?6:2,fa:e=>e>1?6:2,fi:e=>1!==e?6:2,fr:e=>e>1?6:2,id:()=>0,it:e=>1!==e?6:2,hr:e=>{const t=String(e).split("."),n=t[0],s=t[1]||"",r=!t[1],a=Number(n.slice(-1)),o=Number(n.slice(-2)),i=Number(s.slice(-1)),c=Number(s.slice(-2));return r&&1===a&&11!==o||1===i&&11!==c?2:r&&a>=2&&a<=4&&(o<12||o>14)||i>=2&&i<=4&&(c<12||c>14)?4:6},hu:e=>e>1?6:2,ko:()=>0,ms:()=>0,nb:e=>e>1?6:2,nl:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"pt-br":e=>e>1?6:2,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,sk:e=>{const t=String(e).split("."),n=Number(t[0]),s=!t[1];return 1===e&&s?2:n>=2&&n<=4&&s?4:s?6:5},sr:e=>{const t=String(e).split("."),n=t[0],s=t[1]||"",r=!t[1],a=Number(n.slice(-1)),o=Number(n.slice(-2)),i=Number(s.slice(-1)),c=Number(s.slice(-2));return r&&1===a&&11!==o||1===i&&11!==c?2:r&&a>=2&&a<=4&&(o<12||o>14)||i>=2&&i<=4&&(c<12||c>14)?4:6},tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,uz:e=>e>1?6:2},p=new Map;let h,m;const{addCallback:y,removeCallback:b,runCallbacks:_}=(0,c.h)();let v,w;function I(){return(e,t,n,s)=>{if(void 0!==t){const r=Array.isArray(t)?JSON.stringify(t):t,a=p.get(`${e}_${r}_${n}${s?`_${s}`:""}`);if(a)return a}m||T();const r=h?.[e]||m?.[e];return r?function(e,t,n,s,r){const a="number"==typeof n||void 0!==r?function(e){const t=v||"en",n=g[t]?g[t](e):0;return f[n]}(r??n):"value",o="string"==typeof e?e:"value"===a?"object"==typeof e?e.value:e:"object"==typeof e?e[a]||e.otherValue:void 0;if(!o?.trim()){const e=t.split(".");return e[e.length-1]}if(void 0!==n){const e=function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(l),s=n.shift();return n.reduce((e,n,s)=>`${e}${String(t[s]??"")}${n}`,s||"")}(o,"i"===s?(0,u.Sm)(n):n),a=Array.isArray(n)?JSON.stringify(n):n;return p.set(`${t}_${a}_${s}${r?`_${r}`:""}`,e),e}return o}(r,e,t,n,s):e}}let S=I();function C(...e){return S(...e)}function A(){return S}async function P(e,t,n=!1){if((0,d.qY)(e,!0),h&&e===v)return void(t&&t());let c=await i.fetch(r.CV,e,i.Type.Json);if(!c&&(n&&await T(),c=await async function(e){const t=await(0,o.px)("oldFetchLangPack",{sourceLangPacks:r.Ka6,langCode:e});if(t)return await i.save(r.CV,e,t.langPack),t.langPack}(e),!c))return;p.clear(),v=e,h=c,document.documentElement.lang=e;const u=(0,s.mS)(),{languages:l,timeFormat:f}=(0,a.lS)(u),g=l?.find(t=>t.langCode===e);S=I(),S.isRtl=Boolean(g?.isRtl),S.code=e.replace("-raw",""),S.langName=g?.nativeName,S.timeFormat=f,t&&t(),_()}function k(e){e&&e===w||(w=e,S.timeFormat=e,_())}async function T(){m||(m=(await n.e(5193).then(n.bind(n,65193))).default,_())}},60261(e,t,n){"use strict";n.d(t,{Il:()=>v,K3:()=>I,ZR:()=>A,Qy:()=>k,VU:()=>C,LQ:()=>w});var s=n(37932),r=n(13439),a=n(23174),o=n(66644),i=n(90709),c=n(91048),d=n(96454),u=n(46536),l=n(14235),f=n(58554),g=n(37836),p=n(61911);const h=n.p+"square.370a4828a4f2afc14ada.svg",m=new Set,y=new Map,b=(0,u.h)();let _;function v(e,t){y.set(e,t)}function w(e){y.delete(e)}(0,s.DW)(e=>{if(e.customEmojis.byId!==_?.customEmojis.byId||(0,c.BWX)(e)!==(0,c.BWX)(_)){for(const t of y){const[n,s]=t;(0,c.O8F)(e,s)&&n(e.customEmojis)}!function(e){const t=Array.from(m).filter(t=>Boolean(e.byId[t]));t.length&&(t.forEach(e=>m.delete(e)),C())}(e.customEmojis)}_=e});const I=b.addCallback,S=(0,g.nF)(b.runCallbacks,500),C=(0,g.nF)(function(){document.querySelectorAll(".custom-emoji.placeholder").forEach(e=>{const t=(0,c.O8F)((0,r.mS)(),e.dataset.documentId);if(!t)return void m.add(e.dataset.documentId);const[n,s,a]=k(t);t.shouldUseTextColor&&!e.classList.contains("colorable")&&(0,o.RK)(()=>{e.classList.add("colorable")}),n||(0,o.RK)(()=>{e.src=s,e.classList.remove("placeholder"),a&&(e.dataset.uniqueId=a),S(t.id)})})},500);function A(e,t){const n=(0,i.aL)(e,t),s=f.Ih(n);if(s)return s;P(n)}function P(e){return f.hd(e,a.qZ.BlobUrl).then(()=>{C()})}function k(e){if(!e)return[!0,h,void 0];const t=!d.OF&&e.isVideo;if(e.isLottie||e.isVideo&&!t)return P(`sticker${e.id}`),[!1,p,(0,l.A)()];const n=A(e.id,t);return[!n,n||h,void 0]}},60343(e,t,n){"use strict";function s(e){const{chatId:t}=e;return a(t,"randomId"in e?Number(e.randomId):e.previousLocalId||e.id)}function r(e){if(i(e.id))return;const{chatId:t,id:n}=e;return a(t,n)}function a(e,t){return`msg${e}-${t}`}function o(e){const t=e.match(/^msg(-?\d+)-(\d+)/);return{chatId:t[1],messageId:Number(t[2])}}function i(e){return!Number.isInteger(e)}n.d(t,{AD:()=>r,ES:()=>o,bj:()=>s,iL:()=>i})},61157(e,t,n){"use strict";n.d(t,{Ay:()=>d,GE:()=>c,g1:()=>u});var s=n(84051),r=n(22237),a=n(17712);const[o,i]=(0,r.n5)(!document.hasFocus()),c=o;function d(e,t,n=!1){const r=(0,a.A)(e),o=(0,a.A)(t);(0,s.vJ)(()=>{if(!n)return c()&&r(),c.subscribe(()=>{c()?r():o()})},[n,r,o])}function u(){return c()}window.addEventListener("blur",function(){i(!0)}),window.addEventListener("focus",function(){i(!1)})},61182(e,t,n){"use strict";n.d(t,{F8:()=>d,bO:()=>o,fw:()=>i,pF:()=>c});const s=["log","error","warn","info","debug"],r=s.reduce((e,t)=>(e[t]=console[t],e),{});let a=[];function o(e,...t){a.push({level:e,args:t,date:new Date}),r[e](...t)}function i(){a=[],s.forEach(e=>{console[e]=(...t)=>{o(e,...t)}})}function c(){s.forEach(e=>{console[e]=r[e]}),a=[]}function d(){return JSON.stringify(a,(e,t)=>"bigint"==typeof t?t.toString():t)}},61433(e,t,n){"use strict";n.d(t,{Ay:()=>V,HW:()=>N,Tv:()=>L,YM:()=>U,dH:()=>D});var s=n(31481),r=n(9935),a=n(84051);const o="http://www.w3.org/2000/svg",i=new Set(["key","ref","teactFastList","teactOrderKey"]),c=new Set(["dir","role","form"]),d=["INPUT","TEXTAREA","SELECT"],u={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},l="__indexKey#",f="__teactSelectionState",g=new WeakMap,p=new WeakMap,h=new WeakMap,m=new WeakMap;function y(e,t,n,r,i,c,d={}){const{skipComponentUpdate:u,fragment:l}=d;let{nextSibling:f,namespace:g}=d;const p=t?.type===a.wr.Component,h=n?.type===a.wr.Component,m=n,y=!p&&t?.type===a.wr.Fragment,S=!h&&n?.type===a.wr.Fragment;if(n?.type===a.wr.Tag&&("svg"===n.tag&&(g=o),n.props.xmlns&&(g=n.props.xmlns)),!u&&p&&h&&!(0,a.rO)(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,(0,a.Cc)(e.componentInstance)}(t,n)),!u&&h&&n.componentInstance.mountState===a.pT.Mounted&&_(e,n,r,i,c),t===n)return n;if(s.Oig&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(h||S)h&&(i=(n=b(e,n,r,i,c)).componentInstance.context??i),v(e,n,i,{nextSibling:f,fragment:l,namespace:g});else if(l||f||m.type!==a.wr.Text||1!==r.children.length||e.firstChild){const t=w(m,i,g);m.target=t,C(l||e,t,f),m.type===a.wr.Tag&&T(m,t)}else e.textContent=m.value,m.target=e.firstChild;else if(t&&!n)I(e,t,i,void 0);else if(t&&n)if((0,a.rO)(t,n))if(f||(f=A(t)),h||S)h&&(i=(n=b(e,n,r,i,c)).componentInstance.context??i),I(e,t,i,void 0),v(e,n,i,{nextSibling:f,fragment:l,namespace:g});else{const n=w(m,i,g);m.target=n,I(e,t,i,n,f),m.type===a.wr.Tag&&T(m,n)}else if(p&&h||y&&S)P(t,n,i,e,f,d.forceMoveToEnd);else{const s=t,r=s.target;if(m.target=r,s.target=void 0,t.type===a.wr.Tag){const s=n;T(t,void 0),T(s,r),(f||d.forceMoveToEnd)&&C(e,r,f),function(e,t,n,s){E(n.tagName,t.props);const r=Object.entries(e.props),a=Object.entries(t.props);for(const[e,s]of r){const r=t.props[e];void 0!==s&&(void 0===r||s!==r&&e.startsWith("on"))&&x(n,e,s)}for(const[t,r]of a){const a=e.props[t];void 0!==r&&r!==a&&M(n,t,r,s)}}(t,s,r,g),P(t,s,i,r,void 0,void 0,g)}}return n}function b(e,t,n,s,r){const{componentInstance:o}=t;return t.componentInstance.context=s,o.mountState===a.pT.Unmounted&&_(e,t=(0,a.bF)(o),n,s,r),t}function _(e,t,n,s,r){const{componentInstance:a}=t;a.onUpdate=()=>{n.children[r]=y(e,n.children[r],a.$element,n,s,r,{skipComponentUpdate:!0})}}function v(e,t,n,s){const{children:r}=t;if(t.type===a.wr.Fragment&&0===r.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void C(s.fragment||e,n.placeholderTarget,s.nextSibling)}for(let a=0,o=r.length;a<o;a++){const o=r[a],i=y(e,void 0,o,t,n,a,s);i!==o&&(r[a]=i)}}function w(e,t,n="http://www.w3.org/1999/xhtml"){if(e.type===a.wr.Empty)return document.createTextNode("");if(e.type===a.wr.Text)return document.createTextNode(e.value);const{tag:s,props:r,children:o}=e,i=document.createElementNS(n,s);E(s,r);for(const e in r)r.hasOwnProperty(e)&&void 0!==r[e]&&M(i,e,r[e],n);!function(e,t){d.includes(e.tagName)&&(t.defaultValue&&M(e,"value",t.defaultValue),t.defaultChecked&&M(e,"checked",t.defaultChecked))}(i,r);for(let s=0,r=o.length;s<r;s++){const r=o[s],a=y(i,void 0,r,e,t,s,{namespace:n});a!==r&&(o[s]=a)}return i}function I(e,t,n,s,r){const o=t.type===a.wr.Component,i=!o&&t.type===a.wr.Fragment;o||i?(o&&(0,a.s4)(t.componentInstance),function(e,t,n){for(const s of t.children)y(e,s,void 0,t,n,-1)}(e,t,n),s&&C(e,s,r)):(s?e.replaceChild(s,t.target):e.removeChild(t.target),S(t))}function S(e){if(e.type===a.wr.Component)(0,a.s4)(e.componentInstance);else if(e.type===a.wr.Fragment){const t=e;t.placeholderTarget&&0===t.children.length&&(t.placeholderTarget.parentNode?.removeChild(t.placeholderTarget),t.placeholderTarget=void 0)}else if(e.type===a.wr.Tag&&(p.delete(e.target),T(e,void 0),(0,r.iB)(e.target)),e.target=void 0,e.type!==a.wr.Tag)return;for(const t of e.children)S(t)}function C(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function A(e){if(e.type===a.wr.Component||e.type===a.wr.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return A(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function P(e,t,n,r,o,i=!1,c){if("props"in t&&t.props.teactFastList)return void function(e,t,n,r){const o=e.children,i=t.children,c=O(o),d=O(i),u=new Set(d);if(s.Oig)for(const e of i)if(e.type===a.wr.Fragment)throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");let l=0;const f={};for(let e=0,s=o.length;e<s;e++){const s=o[e],a=c[e];u.has(a)?f[a]={$element:s,index:l++,orderKey:"props"in s?s.props.teactOrderKey:void 0}:y(r,s,void 0,t,n,-1)}let g,p,h=0;for(let e=0,s=i.length;e<s;e++){const s=i[e],a=f[d[e]];if(!a){void 0===p&&(g=e,p=0),p++;continue}p&&(k(g,p,r,t,n),p=void 0,g=void 0);const o="props"in s?s.props.teactOrderKey:void 0,c=a.index!==h&&(!o||a.orderKey!==o),u=c&&h>a.index;c&&!u||h++;const l=r.childNodes[u?e+1:e],m=c?l?{nextSibling:l}:{forceMoveToEnd:!0}:void 0,b=y(r,a.$element,s,t,n,e,m);b!==s&&(i[e]=b)}p&&k(g,p,r,t,n)}(e,t,n,r);if(e.type===a.wr.Fragment&&t.type===a.wr.Fragment){const n=e,s=t;if(0===n.children.length&&s.children.length>0&&n.placeholderTarget&&(o=n.placeholderTarget.nextSibling||void 0,n.placeholderTarget.parentNode?.removeChild(n.placeholderTarget),n.placeholderTarget=void 0),n.children.length>0&&0===s.children.length){const e=A(n.children[n.children.length-1]);s.placeholderTarget=document.createComment("empty-fragment"),C(r,s.placeholderTarget,e)}}const d=e.children,u=t.children,l=d.length,f=u.length,g=Math.max(l,f),p=f>l?document.createDocumentFragment():void 0,h=e.children[l-1],m=p&&(o||(h?A(h):void 0));for(let e=0;e<g;e++){const s=y(r,d[e],u[e],t,n,e,e>=l?{fragment:p,namespace:c}:{nextSibling:o,forceMoveToEnd:i,namespace:c});s&&s!==u[e]&&(u[e]=s)}p&&C(r,p,m)}function k(e,t,n,s,r){const a=n.childNodes[e];if(1===t){const t=s.children[e],o=y(n,void 0,t,s,r,e,{nextSibling:a});return void(o!==t&&(s.children[e]=o))}const o=document.createDocumentFragment();for(let a=e;a<e+t;a++){const e=s.children[a],t=y(n,void 0,e,s,r,a,{fragment:o});t!==e&&(s.children[a]=t)}C(n,o,a)}function T(e,t){const{ref:n}=e.props;"object"==typeof n?(n.current=t,n.onChange?.()):"function"==typeof n&&n(t)}function E(e,t){if(!t.teactExperimentControlled)return;const n=void 0!==t.value,s=void 0!==t.checked;if(!n&&!s||!d.includes(e.toUpperCase()))return;const{value:r,checked:a,onInput:o,onChange:i,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(o?.(e),i?.(e),void 0!==r&&r!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,s=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=r,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const r={selectionStart:t,selectionEnd:n,isCaretAtEnd:s};e.currentTarget.dataset[f]=JSON.stringify(r)}}void 0!==a&&(e.currentTarget.checked=a)},t.onBlur=e=>{delete e.currentTarget.dataset[f],c?.(e)}}function M(e,t,n,s){if("className"===t)R(e,n,s);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[f];if(e){const{selectionStart:n,selectionEnd:s,isCaretAtEnd:r}=JSON.parse(e);if(r){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof s&&t.setSelectionRange(n,s)}}}else"style"===t?B(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?(0,r.q2)(e,t,n,t.endsWith("Capture")):s===o||t.startsWith("data-")||t.startsWith("aria-")||c.has(t)?e.setAttribute(t,n):i.has(t)||(e[u[t]||t]=n)}function x(e,t,n){"className"===t?R(e,""):"value"===t?e.value="":"style"===t?B(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?(0,r.f)(e,t,n,t.endsWith("Capture")):i.has(t)||e.removeAttribute(t)}function R(e,t,n){if(n===o)return void e.setAttribute("class",t);const s=e,r=p.get(e);if(!r)return void(s.className=t);const a=Array.from(r);t&&a.push(t),s.className=a.join(" ")}function B(e,t){e.style.cssText=t,h.get(e)&&F(e)}function U(e,t){e.classList.add(t);const n=p.get(e);n?n.add(t):p.set(e,new Set([t]))}function N(e,t){e.classList.remove(t);const n=p.get(e);n&&(n.delete(t),n.size||p.delete(e))}function D(e,t,n){!0===n?U(e,t):!1===n||p.get(e)?.has(t)?N(e,t):U(e,t)}function L(e,t){h.set(e,t),F(e)}function F(e){const t=Object.entries(h.get(e)).reduce((t,[n,s])=>(n.startsWith("--")?e.style.setProperty(n,s):t[n]=s,t),{});Object.assign(e.style,t)}function O(e){let t=m.get(e);if(t)return t;const n=new Set,r=new Set;if(t=e.map((e,t)=>{let o="props"in(i=e)?i.props.key:void 0;var i;return null==o?(s.Oig&&(0,a.jo)(e)&&console.warn("Missing `key` in `teactFastList`"),o=`${l}${t}`):n.has(o)?(s.Oig&&r.add(o),o=`${l}${t}`):n.add(o),o}),s.Oig&&r.size)throw console.warn("[Teact] Duplicated keys:",[...r],e),new Error("[Teact] Children keys are not unique");return m.set(e,t),t}const V={render:function(e,t){g.has(t)||g.set(t,{children:[]});const n=(0,a.ek)(),s=g.get(t),r=y(t,s.children[0],e,s,{},0);n?.(),s.children=r?[r]:[]}}},61911(e,t,n){"use strict";e.exports=n.p+"blank.8dd283bceccca95a48d8.png"},62039(e,t,n){"use strict";function s(e,t=""){if(!e)return"";const n=String(e);return t?`${t} ${n}`:n}function r(e,t=50){return e.length<=t?e:`${e.substring(0,t)}...`}function a(e,t){const n=o[e];return n?n(t):`Executing ${e} with provided parameters`}n.d(t,{N:()=>a});const o={send_message:e=>`Send message to ${s(e.chat_id,"chat")}: "${r(e.message||"",100)}"`,reply_to_message:e=>{const t=s(e.chat_id,"chat");return`Reply to message ${e.message_id} in ${t}: "${r(e.text||"",100)}"`},edit_message:e=>{const t=s(e.chat_id,"chat");return`Edit message ${e.message_id} in ${t} to: "${r(e.new_text||"",100)}"`},delete_message:e=>{const t=s(e.chat_id,"chat");return`Delete message ${e.message_id} from ${t}`},forward_message:e=>{const t=s(e.from_chat_id,"chat"),n=s(e.to_chat_id,"chat");return`Forward message ${e.message_id} from ${t} to ${n}`},pin_message:e=>{const t=s(e.chat_id,"chat");return`Pin message ${e.message_id} in ${t}`},unpin_message:e=>{const t=s(e.chat_id,"chat");return`Unpin message ${e.message_id} in ${t}`},mark_as_read:e=>`Mark messages as read in ${s(e.chat_id,"chat")}`,send_reaction:e=>{const t=s(e.chat_id,"chat"),n=e.message_id;return`Add reaction ${e.reaction||"ðŸ‘"} to message ${n} in ${t}`},remove_reaction:e=>{const t=s(e.chat_id,"chat"),n=e.message_id;return`Remove reaction ${e.reaction||""} from message ${n} in ${t}`},save_draft:e=>`Save draft in ${s(e.chat_id,"chat")}: "${r(e.text||"",50)}"`,clear_draft:e=>`Clear draft in ${s(e.chat_id,"chat")}`,list_chats:e=>{const t=e.chat_type||"all";return`List ${e.limit||20} ${t} chats`},get_chat:e=>`Get information for ${s(e.chat_id,"chat")}`,create_group:e=>{const t=e.title||"Untitled Group",n=Array.isArray(e.user_ids)?e.user_ids.length:0;return`Create group "${t}" with ${n} member${1!==n?"s":""}`},create_channel:e=>`Create channel "${e.title||"Untitled Channel"}"${e.description?`: ${r(e.description,50)}`:""}`,edit_chat_title:e=>`Change title of ${s(e.chat_id,"chat")} to "${e.new_title||""}"`,delete_chat_photo:e=>`Remove photo from ${s(e.chat_id,"chat")}`,edit_chat_photo:e=>`Update photo for ${s(e.chat_id,"chat")}`,leave_chat:e=>`Leave ${s(e.chat_id,"chat")}`,mute_chat:e=>`Mute ${s(e.chat_id,"chat")}${e.mute_for?` for ${e.mute_for} seconds`:""}`,unmute_chat:e=>`Unmute ${s(e.chat_id,"chat")}`,archive_chat:e=>`Archive ${s(e.chat_id,"chat")}`,unarchive_chat:e=>`Unarchive ${s(e.chat_id,"chat")}`,invite_to_group:e=>{const t=s(e.chat_id,"chat"),n=Array.isArray(e.user_ids)?e.user_ids.length:0;return`Invite ${n} user${1!==n?"s":""} to ${t}`},ban_user:e=>{const t=s(e.chat_id,"chat");return`Ban ${s(e.user_id,"user")} from ${t}`},unban_user:e=>{const t=s(e.chat_id,"chat");return`Unban ${s(e.user_id,"user")} from ${t}`},promote_admin:e=>{const t=s(e.chat_id,"chat");return`Promote ${s(e.user_id,"user")} to admin in ${t}`},demote_admin:e=>{const t=s(e.chat_id,"chat");return`Demote ${s(e.user_id,"user")} from admin in ${t}`},block_user:e=>`Block ${s(e.user_id,"user")}`,unblock_user:e=>`Unblock ${s(e.user_id,"user")}`,add_contact:e=>{const t=e.first_name||"",n=e.last_name||"",s=e.phone_number||"";return`Add contact: ${[t,n].filter(Boolean).join(" ")||s}`},delete_contact:e=>`Delete contact ${s(e.user_id,"user")}`,list_contacts:e=>`List ${e.limit||20} contacts`,search_contacts:e=>`Search contacts for "${r(e.query||"",30)}"`,search_messages:e=>{const t=e.chat_id?s(e.chat_id,"chat"):"all chats";return`Search for "${r(e.query||"",30)}" in ${t} (limit: ${e.limit||20})`},search_public_chats:e=>`Search public chats for "${r(e.query||"",30)}"`,resolve_username:e=>`Resolve username @${(e.username||"").replace("@","")}`,get_messages:e=>{const t=s(e.chat_id,"chat");return`Get ${e.limit||20} messages from ${t}`},list_messages:e=>{const t=s(e.chat_id,"chat");return`List ${e.limit||20} messages from ${t}`},get_history:e=>`Get message history from ${s(e.chat_id,"chat")} (${e.limit||20} messages)`,get_pinned_messages:e=>`Get pinned messages from ${s(e.chat_id,"chat")}`,get_message_context:e=>{const t=s(e.chat_id,"chat");return`Get context around message ${e.message_id} in ${t} (Â±${e.limit||5} messages)`},list_topics:e=>`List topics in ${s(e.chat_id,"chat")}`,get_participants:e=>{const t=s(e.chat_id,"chat");return`Get ${e.limit||100} participants from ${t}`},get_admins:e=>`Get administrators of ${s(e.chat_id,"chat")}`,get_banned_users:e=>`Get banned users from ${s(e.chat_id,"chat")}`,get_blocked_users:()=>"Get list of blocked users",get_invite_link:e=>`Get invite link for ${s(e.chat_id,"chat")}`,export_chat_invite:e=>`Create invite link for ${s(e.chat_id,"chat")}`,import_chat_invite:e=>`Join chat via invite link: ${e.invite_hash?r(e.invite_hash,20):""}`,join_chat_by_link:e=>`Join chat via link: ${e.invite_link?r(e.invite_link,30):""}`,subscribe_public_channel:e=>`Subscribe to public channel @${(e.username||"").replace("@","")}`,update_profile:e=>{const t=[];return e.first_name&&t.push(`first name: "${e.first_name}"`),e.last_name&&t.push(`last name: "${e.last_name}"`),e.bio&&t.push(`bio: "${r(e.bio,30)}"`),`Update profile (${t.join(", ")})`},set_profile_photo:()=>"Set profile photo",delete_profile_photo:()=>"Delete profile photo",get_user_photos:e=>{const t=s(e.user_id,"user");return`Get ${e.limit||20} photos from ${t}`},get_user_status:e=>`Get status of ${s(e.user_id,"user")}`,get_me:()=>"Get current user information",list_inline_buttons:e=>{const t=s(e.chat_id,"chat");return`Get inline buttons from message ${e.message_id} in ${t}`},press_inline_button:e=>{const t=s(e.chat_id,"chat"),n=e.message_id;return`Press inline button${e.button_text?` "${r(e.button_text,30)}"`:""} on message ${n} in ${t}`},create_poll:e=>`Create poll in ${s(e.chat_id,"chat")}: "${r(e.question||"",50)}" with ${Array.isArray(e.options)?e.options.length:0} options`,get_bot_info:e=>`Get bot information from ${s(e.chat_id,"chat")}`,set_bot_commands:e=>{const t=e.chat_id?s(e.chat_id,"chat"):"all chats";return`Set ${Array.isArray(e.commands)?e.commands.length:0} bot commands for ${t}`},get_privacy_settings:()=>"Get privacy settings",set_privacy_settings:e=>`Set privacy setting "${e.setting||"unknown"}" to ${e.value||""}`,get_media_info:e=>{const t=s(e.chat_id,"chat");return`Get media information from message ${e.message_id} in ${t}`},get_recent_actions:e=>{const t=s(e.chat_id,"chat");return`Get ${e.limit||20} recent admin actions from ${t}`}}},62214(e,t,n){"use strict";n.d(t,{A5:()=>L,CO:()=>O,Gg:()=>I,IC:()=>D,Js:()=>C,L7:()=>A,PX:()=>$,Q_:()=>R,Qe:()=>w,Rl:()=>v,SJ:()=>k,Sq:()=>M,TJ:()=>N,VN:()=>b,Ve:()=>y,Vs:()=>h,WX:()=>m,YE:()=>g,Zg:()=>V,__:()=>x,_n:()=>G,cG:()=>j,cP:()=>P,e7:()=>S,gA:()=>F,gU:()=>B,i7:()=>W,kE:()=>_,l1:()=>E,nr:()=>z,sT:()=>q,ub:()=>T,yn:()=>p,zc:()=>U});var s=n(23174),r=n(31481),a=n(17663),o=n(9716),i=n(80140),c=n(91048),d=n(13439),u=n(20179),l=n(79089);const f=Date.now()/1e3+31622400;function g(e){return p(e)||h(e)}function p(e){return"chatTypeBasicGroup"===e.type}function h(e){return"chatTypeSuperGroup"===e.type}function m(e){return"chatTypeChannel"===e.type}function y(e){return e.isMonoforum}function b(e){return"chatTypePrivate"===e.type||"chatTypeBasicGroup"===e.type}function _(e){return e===r.f51}function v(e){return e===r.b5_}function w(e){return e===r.Ckz}function I(e){switch(e.type){case"chatTypePrivate":return"PrivateChat";case"chatTypeBasicGroup":case"chatTypeSuperGroup":return"AccDescrGroup";case"chatTypeChannel":return"AccDescrChannel";default:return"Chat"}}function S(e){if("chatTypePrivate"===e.type||"chatTypeSecret"===e.type)return e.id}function C(e,t,n=!1){return n?e("SavedMessages"):t.title||e("HiddenName")}function A(e){const t=(0,l.Kl)(e);return t?`${r.jsp}${t}`:void 0}function P(e,t="normal",n=e.avatarPhotoId){if(n)return"big"===t?`profile${e.id}?${n}`:`avatar${e.id}?${n}`}function k(e){return Boolean(e.adminRights||e.isCreator)}function T(e,t){return e.adminRights?.[t]||!1}function E(e,t){return t.id===r.HxB?e.isCreator:e.isCreator||T(e,"manageTopics")||t.isOwner}function M(e,t,n){const s=n?.boostsToUnrestrict&&(n.boostsApplied||0)>=n.boostsToUnrestrict;return Boolean(e.currentUserBannedRights?.[t]||e.defaultBannedRights?.[t]&&!s)}function x(e,t,n,s){if(t&&e.isForum){if(e.isNotJoined)return!1;if(t?.isClosed&&!t.isOwner&&!T(e,"manageTopics"))return!1}const r=(0,d.mS)();return!((0,c._ls)(r,e.id)||e.isForbidden||e.migratedTo||e.isNotJoined&&!y(e)&&!n||(0,u.DX)(e.id)||w(e.id))&&(!!e.isCreator||!!(0,o.L8)(e.id)||(m(e)?T(e,"postMessages"):k(e)||!M(e,"sendMessages",s)))}function R(e,t,n=!1,s=!1,r=!1,a,i=!1){if(!e||a&&i)return{canAttachMedia:!1,canAttachPolls:!1,canSendStickers:!1,canSendGifs:!1,canAttachEmbedLinks:!1,canSendPhotos:!1,canSendVideos:!1,canSendRoundVideos:!1,canSendAudios:!1,canSendVoices:!1,canSendPlainText:!1,canSendDocuments:!1,canAttachToDoLists:!1};const c=k(e);return{canAttachMedia:c||r||!M(e,"sendMedia",t),canAttachPolls:!r&&!e.isMonoforum&&(c||!M(e,"sendPolls",t))&&(!(0,o.L8)(e.id)||n||s),canAttachToDoLists:!r&&!e.isMonoforum&&!m(e),canSendStickers:c||r||!M(e,"sendStickers",t),canSendGifs:c||r||!M(e,"sendGifs",t),canAttachEmbedLinks:!r&&(c||!M(e,"embedLinks",t)),canSendPhotos:c||r||!M(e,"sendPhotos",t),canSendVideos:c||r||!M(e,"sendVideos",t),canSendRoundVideos:c||r||!M(e,"sendRoundvideos",t),canSendAudios:c||r||!M(e,"sendAudios",t),canSendVoices:c||r||!M(e,"sendVoices",t),canSendPlainText:c||r||!M(e,"sendPlain",t),canSendDocuments:c||r||!M(e,"sendDocs",t)}}function B(e,t,n){if(t?.sendMessages){const{untilDate:n}=t;return n&&n<f?e("Channel.Persmission.Denied.SendMessages.Until",e("formatDateAtTime",[(0,a.A)(new Date(1e3*n),e.code),(0,a.fU)(e,1e3*n)])):e("Channel.Persmission.Denied.SendMessages.Forever")}if(n?.sendMessages)return e("Channel.Persmission.Denied.SendMessages.DefaultRestrictedText")}function U(e,t,n=s.l3,a,o){if(!t?.isForum)return;if(n===s.l3){if(o||a&&!a[r.HxB]?.isClosed)return;return e("lng_forum_replies_only")}const i=a?.[Number(n)];return i?!i.isClosed||i.isOwner||T(t,"manageTopics")?void 0:e("TopicClosedByAdmin"):void 0}function N(e){return e.folderId===r._E9}function D(e){return p(e)||(h(e)||m(e))&&e.isCreator}function L(e,t,n){const{excludedChatIds:s,includedChatIds:r,bots:a,groups:o,contacts:i,nonContacts:c,channels:d}=t,u=[a,o,i,c,d];return void 0!==n&&(Object.values(u).filter(Boolean).length>1||s?.length||r?.length)?e("ChatsPlural",{count:n},{pluralValue:n}):a?e("FilterBots"):o?e("FilterGroups"):d?e("FilterChannels"):i?e("FilterContacts"):c?e("FilterNonContacts"):void 0}function F(e){return e.hasUsername}function O(e,t,n=!1){if(n)return e.sort((e,t)=>t.lastMessageId-e.lastMessageId);{const n=e.filter(e=>e.isPinned),s=e.filter(e=>!e.isPinned&&!e.isHidden).sort((e,t)=>t.lastMessageId-e.lastMessageId),r=e.filter(e=>!e.isPinned&&e.isHidden).sort((e,t)=>t.lastMessageId-e.lastMessageId);return[...t?t.map(e=>n.find(t=>t.id===e)).filter(Boolean):n,...s,...r]}}function V(e,t){if(!e)return 0;if("isCustomPeer"in e)return e.peerColorId;if(e.color){if("regular"===e.color.type&&void 0!==e.color.color)return e.color.color;if("collectible"===e.color.type&&!t)return}return(0,o.hy)(e.id)%7}function $(e){const t=V(e);if("collectible"===e.color?.type)return G(e.color);if(void 0===t)return 1;const n=(0,d.mS)();return n.peerColors?.general[t].colors?.length||1}function G(e){return e.colors.length}function j(e,t,n){return e===n&&t!==s.l3}function q(e,t){const n=e(I(t)),{membersCount:s}=t,r=(0,d.mS)();return(0,c._ls)(r,t.id)?"Channel"===n?"channel is inaccessible":"group is inaccessible":s?e("Channel"===n?"Subscribers":"Members",s,"i"):n}function z(e){const{title:t,color:n,isVerified:s,isFake:r,isScam:a}=e;return{isCustomPeer:!0,title:t,peerColorId:n,isVerified:s,fakeType:r?"fake":a?"scam":void 0}}function W(e,t){const{result:n}=t,s=n?.sendMessage?.replyMarkup?.inlineButtons;return{chatId:e,content:n.sendMessage.content,date:(0,i.Fm)(),id:0,isOutgoing:!0,viaBotId:e,inlineButtons:s}}},62495(e,t,n){"use strict";n.d(t,{$e:()=>h,HP:()=>c,II:()=>u,Qp:()=>o,Zk:()=>l,bL:()=>p,ic:()=>d,mr:()=>f,xc:()=>g,zQ:()=>i});var s=n(14487),r=n(5056);function a(e,...[t=(0,s.g0)()]){return(0,r.n)(e,t).summarize}function o(e,...[t=(0,s.g0)()]){return a(e,t).isSetupComplete}function i(e,...[t=(0,s.g0)()]){return a(e,t).busiestChats}function c(e,...[t=(0,s.g0)()]){return a(e,t).isLoadingBusiestChats??!1}function d(e,...[t=(0,s.g0)()]){return a(e,t).selectedChatIds}function u(e,...[t=(0,s.g0)()]){const{summaries:n,searchQuery:r}=a(e,t);if(!r)return n;const o=r.toLowerCase();return n.filter(t=>{const n=e.chats.byId[t.chatId],s=n?.title?.toLowerCase()||"",r=t.content.paragraphs.join(" ").toLowerCase();return s.includes(o)||r.includes(o)})}function l(e,...[t=(0,s.g0)()]){return a(e,t).isLoadingSummaries??!1}function f(e,...[t=(0,s.g0)()]){return a(e,t).searchQuery}function g(e,...[t=(0,s.g0)()]){return a(e,t).includeArchived??!1}function p(e,...[t=(0,s.g0)()]){return"summarize"===(0,r.n)(e,t).middleColumnView}function h(e,...[t=(0,s.g0)()]){return a(e,t).selectedDate}},62587(e,t,n){"use strict";n.d(t,{A:()=>u});var s=n(84051),r=n(23174),a=n(91048),o=n(96454),i=n(58554),c=n(63527),d=n(30857);const u=(e,t=!1,n=r.qZ.BlobUrl,u)=>{const l=o.Uz&&n===r.qZ.Progressive,f=e?l?i.RB(e):i.Ih(e):void 0,g=(0,d.A)(),p=(0,c.A)(a.nIz);return(0,s.vJ)(()=>{if(!t&&e&&!f){const t=Date.now();i.hd(e,n).then(()=>{const e=Date.now()-t;!u||e>=u?g():setTimeout(g,u-e)})}},[t,e,f,n,u,p]),f}},63495(e,t,n){"use strict";n.d(t,{G9:()=>i,Ld:()=>a,Vq:()=>c,cp:()=>d,fM:()=>o,vM:()=>r});var s=n(55962);const r="SharedWorker"in globalThis,a="ListFormat"in Intl,o="host"!==new URL("tg://host").host,i="VideoDecoder"in globalThis,c=(0,s.isTauri)(),d=Boolean(globalThis.electron)},63527(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(19129),r=n(98255);function a(e){const t=(0,r.A)(e);return(0,s.A)(t)}},64493(e,t,n){"use strict";n.d(t,{A:()=>p});var s=n(84051),r=n(96454),a=n(87357),o=n(95807),i=n(17712),c=n(59030),d=n(18276),u=n(85118),l=n(42452),f=n(57474),g=n(20021);const p=({ref:e,type:t="button",id:n,children:p,size:h="default",color:m="primary",backgroundImage:y,className:b,round:_,pill:v,badge:w,fluid:I,inline:S,isText:C,isLoading:A,isShiny:P,withPremiumGradient:k,withSparkleEffect:T,noSparkleAnimation:E,ariaLabel:M,ariaControls:x,hasPopup:R,href:B,download:U,disabled:N,nonInteractive:D,allowDisabledClick:L,noFastClick:F="danger"===m,ripple:O,faded:V,tabIndex:$,isRtl:G,isRectangular:j,noPreventDefault:q,shouldStopPropagation:z,noForcedUpperCase:W,style:H,iconName:K,iconAlignment:Y="start",iconClassName:J,onClick:X,onContextMenu:Q,onMouseDown:Z,onMouseUp:ee,onMouseEnter:te,onMouseLeave:ne,onFocus:se,onTransitionEnd:re})=>{let ae=(0,s.li)();e&&(ae=e);const oe=(0,c.A)(),[ie,ce]=(0,s.J0)(!1),de=N||D,ue=(0,a.A)("Button",b,h,m,_&&"round",v&&"pill",I&&"fluid",w&&"badge",de&&"disabled",D&&"non-interactive",L&&"click-allowed",C&&"text",A&&"loading",O&&"has-ripple",V&&"faded",ie&&"clicked",y&&"with-image",P&&"shiny",k&&"premium",j&&"rectangular",W&&"no-upper-case",S&&"inline",Boolean(K&&p)&&`content-with-icon-${Y}`),le=(0,i.A)(e=>{!L&&de||!X||X(e),z&&e.stopPropagation(),ce(!0),setTimeout(()=>{ce(!1)},400)}),fe=(0,i.A)(e=>{q||e.preventDefault(),!L&&de||!Z||Z(e),r.TF||e.button!==r.w3.Main||F||le(e)}),ge=(0,g.FD)(g.FK,{children:[T&&(0,g.Y)(u.A,{preset:"button",noAnimation:E}),(()=>{if(A)return(0,g.FD)("div",{children:[(0,g.Y)("span",{dir:G?"auto":void 0,children:oe("Cache.ClearProgress")}),(0,g.Y)(f.A,{color:C?"blue":"white"})]});const e=(()=>{if(K)return(0,g.Y)(d.A,{name:K,className:J})})();return e?p?(0,g.FD)("div",{className:`with-icon-${Y}`,children:[e,p]}):e:p})(),!de&&O&&(0,g.Y)(l.A,{})]});return B?(0,g.Y)("a",{ref:ae,id:n,className:ue,href:B,title:M,download:U,tabIndex:$,dir:G?"rtl":void 0,"aria-label":M,"aria-controls":x,style:H,onTransitionEnd:re,target:"_blank",rel:"noreferrer",children:ge}):(0,g.Y)("button",{ref:ae,id:n,type:t,className:ue,onClick:r.TF||F?le:void 0,onContextMenu:Q,onMouseDown:fe,onMouseUp:ee,onMouseEnter:te&&!de?te:void 0,onMouseLeave:ne&&!de?ne:void 0,onTransitionEnd:re,onFocus:se&&!de?se:void 0,"aria-label":M,"aria-controls":x,"aria-haspopup":R,title:M,tabIndex:$,dir:G?"rtl":void 0,style:(0,o.A)(H,y&&`background-image: url(${y})`)||void 0,children:ge})}},64520(e,t,n){"use strict";n.d(t,{B:()=>o,d:()=>a});var s=n(13235),r=n(19926);function a(e,t){const{appConfig:n}=e,{limits:a}=n,o=(0,r.g2)(e),i=a[t]?.[o?1:0]??s.dR[t][o?1:0];return"dialogFilters"===t?i+1:i}function o(e,t){const{appConfig:n}=e;if(!n)return s.dR[t][1];const{limits:r}=n;return r[t][1]}},64569(e,t,n){"use strict";n.d(t,{BM:()=>o,Z:()=>c,aG:()=>i});let s=function(e){return e.USER="user",e.AGENT="agent",e.ACTION="action",e}({});var r=n(14487),a=n(91048);function o(e){return e.alphahuman?.activeThreadId}function i(e,...[t=(0,r.g0)()]){return"alphaHumanThread"===(0,a.nTw)(e,t).middleColumnView}function c(e){const t=e.alphahuman;if(!t)return;const n=t.threads||[],r=t.threadMessages||{},a=t.activeThreadId,o={};n.forEach(e=>{const t=(r[e.id]?.messages||[]).filter(e=>!e.isDeleted).map(e=>({id:e.id,content:e.content,sender:e.sender===s.USER?"user":"agent",timestamp:e.createdAt?new Date(e.createdAt):new Date})),n=t.length>0?t[t.length-1].content:"",a=t.length>0?t[t.length-1].timestamp:e.createdAt?new Date(e.createdAt):new Date;o[e.id]={id:e.id,title:e.title||`Thread ${e.id.slice(0,8)}`,lastMessage:n,timestamp:a,messageCount:t.length,chatId:e.chatId,messages:t}}),Object.keys(r).forEach(e=>{if(o[e])return;const t=(r[e]?.messages||[]).filter(e=>!e.isDeleted).map(e=>({id:e.id,content:e.content,sender:e.sender===s.USER?"user":"agent",timestamp:e.createdAt?new Date(e.createdAt):new Date})),n=t.length>0?t[t.length-1].content:"",a=t.length>0?t[t.length-1].timestamp:new Date;o[e]={id:e,title:`Thread ${e.slice(0,8)}`,lastMessage:n,timestamp:a,messageCount:t.length,chatId:void 0,messages:t}});const i=Object.values(o).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()).map(e=>e.id);return{byId:o,activeThreadId:a,orderedIds:i}}},64713(e,t,n){"use strict";n.d(t,{Ox:()=>c,gH:()=>a,n4:()=>i,oL:()=>o});const s="X",r="XXX XXX XXX XXX";function a(e,t){return e.find(e=>e.iso2===t)}function o(e,t=""){let n=t.replace(/[^\d+]+/g,"");n.startsWith("+")&&(n=n.substr(1));const s=e.filter(e=>n.startsWith(e.countryCode)).map(e=>(e.prefixes||[""]).map(t=>({code:`${e.countryCode}${t}`,country:e}))).flat().filter(({code:e})=>n.startsWith(e)).sort((e,t)=>e.code.length-t.code.length);return s[s.length-1]?.country}function i(e,t){if(!e)return"";let n=e.replace(/[^\d]+/g,"");if(t)n=n.substr(t.countryCode.length);else if(e.startsWith("+"))return e;const a=function(e,t){if(!t||0===t.length)return r;if(1===t.length)return t[0];const n=t.find(e=>e.startsWith(s))||r,a=t.filter(t=>{const n=t.replace(/[^\dX]+/g,"");if(n.startsWith(s))return!1;for(let t=0;t<e.length;t++)if(t>n.length-1||n[t]!==s&&n[t]!==e[t])return!1;return!0});return 1===a.length?a[0]:n}(n,t?.patterns),o=[];let i=0;for(let e=0;e<n.length;e++){for(;a[i]!==s&&i<a.length&&(o.push(a[i]),a[i]!==n[e]||(e++,e!==n.length));)i++;o.push(n[e]),i++}return o.join("")}function c(e,t){if(!t)return"";const n=t.startsWith("+")?t:`+${t}`,s=o(e,n);return s?`+${s.countryCode} ${i(n,s)}`:n}},65843(e,t,n){"use strict";n.d(t,{A:()=>p});var s=n(84051),r=n(71533),a=n(17712),o=n(35297),i=n(73622),c=n(66644),d=n(84080),u=n(34780),l=n(61157);function f(){return(0,s.OV)()||(0,u.c_)()||(0,l.g1)()}var g=n(20021);const p=(0,s.ph)(function({ref:e,isPriority:t,canPlay:n,children:p,onReady:h,onBroken:m,onTimeUpdate:y,...b}){const _=(0,s.li)();e||(e=_);const{handlePlaying:v}=function(e,t,n){const r=(0,s.li)();r.current=t;const{play:o,pause:i}=function(e){const t=(0,s.li)(!1),n=(0,s.li)(!1);return{play:(0,a.A)(()=>{t.current=!1,e.current&&!n.current&&document.body.contains(e.current)&&(n.current=!0,e.current.play().then(()=>{n.current=!1,t.current&&(e.current?.pause(),t.current=!1)}).catch(e=>{console.warn(e)}))}),pause:(0,a.A)(()=>{n.current?t.current=!0:e.current?.pause()})}}(e),g=(0,a.A)(()=>{!r.current||!n&&f()||o()}),p=(0,a.A)(()=>{(0,c.YS)(g)});(0,l.Ay)(i,p,!t||n),(0,d.Ay)(i,g,!t||n),(0,u.Ay)(i,g,!t||n);const h=(0,a.A)(()=>{(!r.current||!n&&f())&&i()});return(0,s.vJ)(()=>{t?!n&&f()||o():i()},[t,o,i,n]),{handlePlaying:h}}(e,n,t),w=(0,s.li)(!1),I=(0,a.A)(()=>{w.current||(h?.(),w.current=!0)}),{isBuffered:S,bufferingHandlers:C}=(0,r.A)(!0,y,m),{onPlaying:A,...P}=C;(0,o.A)(([e])=>{void 0!==e&&I()},[S,I]);const k=(0,a.A)(e=>{v(),A(e),I(),b.onPlaying?.(e)}),T=(0,s.Kr)(()=>{const e={};return Object.keys(P).forEach(t=>{const n=t;e[n]=e=>{b[n]?.(e),P[n]?.(e)}}),e},[P,b]);return(0,i.A)(e,T),(0,g.Y)("video",{ref:e,autoPlay:!0,...b,...T,onPlaying:k,children:p})})},66230(e,t,n){"use strict";n.d(t,{A:()=>a});var s=n(84051),r=n(35297);const a=(e,t)=>{const n=(0,s.li)();return(0,r.A)(()=>{const s=n.current;return n.current=t,e(s||[])},t)}},66414(e,t,n){"use strict";n.d(t,{MQ:()=>_,az:()=>l,cA:()=>m,dk:()=>g,f4:()=>p,fY:()=>h,hq:()=>v,lD:()=>d,pT:()=>b,vO:()=>u,wr:()=>y,xV:()=>f});var s=n(23174),r=n(31481);let a,o,i=!1,c=window.location.hash;function d(){i=!1,o=void 0,a=void 0,c=""}function u(){window.location.hash=""}const l=(e,t,n)=>{const r="thread"===t?void 0:t;return(n===s.l3?[e,r]:[e,n,r]).filter(Boolean).join("_")};function f(e){if(p(),!o)return;if("summarize"===o)return{isSummarize:!0};if(o.startsWith("at-"))return{isAlphaHumanThread:!0,threadId:o.replace("at-","")};const t=o.split("_");let n,r,a;if(1===t.length)n=t[0];else if(2===t.length){const e=["thread","pinned","scheduled"].includes(t[1]);n=t[0],r=e?t[1]:"thread",a=e?void 0:t[1]}else t.length>=3&&([n,a,r]=t);if(!n?.match(/^-?\d+$/))return;const i=["thread","pinned","scheduled"].includes(r);return{chatId:n,type:r&&i?r:"thread",threadId:(n===e?a:Number(a))||s.l3}}const g=(e,t,n)=>{const s=new URL(window.location.href);return s.hash=l(e,t,n),s.href};function p(){if(a)return a;if(i)return;const e=m();if(!e)return;let t=e.replace(/^#/,"");return t.includes("?")?([o,t]=t.split("?"),r.fng||(window.location.hash=o)):t.includes("=")&&(r.fng||(window.location.hash="")),a=t.includes("=")?t.split("&").reduce((e,t)=>{const[n,s]=t.split("=");return e[n]=s,e},{}):void 0,i=!0,a||(o=t),a}function h(){a&&delete a.tgWebAuthToken}function m(){return c}function y(){return"auth/notion/success"===o||"auth/notion/error"===o}function b(){if(o){if("auth/notion/success"===o){const e=a?.workspace;return{type:"success",workspace:e?decodeURIComponent(e):void 0}}if("auth/notion/error"===o){const e=a?.error;return{type:"error",error:e?decodeURIComponent(e):"Unknown error occurred"}}}}function _(){return"auth/google/success"===o||"auth/google/error"===o}function v(){if(o){if("auth/google/success"===o)return{type:"success"};if("auth/google/error"===o){const e=a?.error;return{type:"error",error:e?decodeURIComponent(e):"Unknown error occurred"}}}}},66644(e,t,n){"use strict";n.d(t,{RK:()=>f,Uj:()=>a.Uj,Uz:()=>g,YS:()=>l,Z3:()=>a.Z3,gm:()=>p});var s=n(50110),r=n(37836),a=n(75357);let o=[],i=[],c=[];const d=(u=()=>{const e=o;o=[],e.forEach(e=>{(0,s.A)(e)}),Promise.resolve().then(()=>{(0,a.A)("mutate");const e=i;i=[],e.forEach(e=>{(0,s.A)(e)})}).then(()=>{(0,a.A)("measure");const e=[];for(const t of c)(0,s.A)(()=>{const n=t();n&&e.push(n)});return c=[],e}).then(e=>{(0,a.A)("mutate");for(const t of e)(0,s.A)(t)}).then(()=>{(0,a.A)("measure")})},(0,r.nb)(e=>{(0,r.IJ)(e,!0)},u));var u;function l(e){o.push(e),d()}function f(e){i.push(e),d()}function g(e){l(()=>{f(e)})}function p(e){c.push(e),d()}},67526(e,t){"use strict";t.byteLength=function(e){var t=i(e),n=t[0],s=t[1];return 3*(n+s)/4-s},t.toByteArray=function(e){var t,n,a=i(e),o=a[0],c=a[1],d=new r(function(e,t,n){return 3*(t+n)/4-n}(0,o,c)),u=0,l=c>0?o-4:o;for(n=0;n<l;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],d[u++]=t>>16&255,d[u++]=t>>8&255,d[u++]=255&t;return 2===c&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,d[u++]=255&t),1===c&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,d[u++]=t>>8&255,d[u++]=255&t),d},t.fromByteArray=function(e){for(var t,s=e.length,r=s%3,a=[],o=16383,i=0,c=s-r;i<c;i+=o)a.push(d(e,i,i+o>c?c:i+o));return 1===r?(t=e[s-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[s-2]<<8)+e[s-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],s=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],s[a.charCodeAt(o)]=o;function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,n){for(var s,r=[],a=t;a<n;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(c(s));return r.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},68292(e,t,n){"use strict";n.d(t,{A:()=>p});var s=n(84051),r=n(13439),a=n(91048),o=n(87357),i=n(37836),c=n(30857),d=n(39351),u=n(73767);var l=n(20021);let f=0;const g=(0,i.Fe)(()=>{f=0}),p=(0,s.ph)(({text:e,className:t,isDisabled:n,ref:i})=>{const{isRtl:p}=(0,d.A)(),h=(0,u.A)(e),m=(0,c.A)(),y=!(!(!n&&(0,a.PKK)((0,r.mS)())&&void 0!==h&&h!==e)||f>=10||(0===f&&g(),f++,0)),b=(0,s.Kr)(()=>y?function(e,t){const n=[],s=e.length,r=t?.length??0;for(let a=0;a<=s;a++){const o=s-a,i=r-a;t&&i>=0&&e[o]!==t[i]?n.unshift((0,l.FD)("div",{className:"IYTzbS8o",children:[(0,l.Y)("div",{className:"Jw1oQFdk",children:e[o]??""}),(0,l.Y)("div",{className:"TZfEz3sc",children:t[i]}),(0,l.Y)("div",{className:"Y9ied8_t",children:e[o]??""})]})):n.unshift((0,l.Y)("span",{children:e[o]??""}))}return n}(e,h):e,[y,h,e]);return(0,s.vJ)(()=>{if(!y)return;const e=window.setTimeout(()=>{m()},200);return()=>{window.clearTimeout(e)}},[y,e]),(0,l.Y)("span",{ref:i,className:(0,o.A)(t,!n&&"tgKbsVmz"),dir:p?"rtl":void 0,children:b})})},68323(e,t,n){"use strict";n.d(t,{Y:()=>f,x:()=>l});var s=n(84051),r=n(13439),a=n(31481),o=n(66644),i=n(30708),c=n(96454),d=n(9705);let u=!1;function l(){return u}function f(){const e=(0,s.li)(),[t,n]=(0,s.J0)("idle");return(0,s.vJ)(()=>{if("capturing-old"!==t)return;const{domUpdateCallback:r,types:a}=e.current||{},i=(0,s.VK)(),c=document.startViewTransition(async()=>{n("capturing-new"),r&&await r();const e=new d.A;return(0,o.Uz)(()=>{e.resolve()}),e.promise});a?.getTypes().forEach(e=>{c.types?.add(e)}),c.finished.then(()=>{i(),n("idle"),(0,o.RK)(()=>{g(a)}),u=!1});let l=!1;c.ready.then(()=>{l=!0,n("animating")}).catch(e=>{console.error("View transition error",e,a?.getTypes()),n("skipped"),(0,o.RK)(()=>{g(a)}),u=!1}),setTimeout(()=>{l||c.skipTransition()},1e3)},[t]),{transitionState:t,startViewTransition:function(t,s,d=a.zHL){const l=(0,r.mS)(),{animationLevel:f}=(0,i.lS)(l);if(!c.ir||f<d)s?.();else{if(u)return console.warn("VT skipped because another transition is already active",t.getTypes()),void s?.();e.current={domUpdateCallback:s,types:t},n("capturing-old"),(0,o.RK)(()=>{document.documentElement.classList.add(a.I0K),t.getTypes().forEach(e=>{document.documentElement.classList.add(`${a.G6O}${e}`)})}),u=!0}}}}function g(e){e?.getTypes().forEach(e=>{document.documentElement.classList.remove(`${a.G6O}${e}`)}),document.documentElement.classList.remove(a.I0K)}},68344(e,t,n){"use strict";n.d(t,{$R:()=>u,PK:()=>I,Qb:()=>_,Tu:()=>m,Vm:()=>g,_5:()=>p,cs:()=>w,jU:()=>y,lw:()=>C,ol:()=>b,tX:()=>S,zd:()=>l});var s=n(14487),r=n(87894),a=n(90709),o=n(91048),i=n(94137),c=n(32989);function d(e,t,n,...[a=(0,s.g0)()]){const i=(0,o.nTw)(e,a).middleSearch.byChatThreadKey;if(!n)return(0,c.w)(e,{middleSearch:{byChatThreadKey:(0,r.cJ)(i,[t])}},a);const{type:d="chat",...u}=n;return(0,c.w)(e,{middleSearch:{byChatThreadKey:{...(0,o.nTw)(e,a).middleSearch.byChatThreadKey,[t]:{type:d,...u}}}},a)}function u(e,t,n,r,...[i=(0,s.g0)()]){const c=(0,a.Wi)(t,n),u=(0,o.nTw)(e,i).middleSearch.byChatThreadKey[c],l={type:"chat",...u,...r};return l.isHashtag||(l.type="chat"),!u||u.type===l.type&&u.savedTag===l.savedTag||(l.results=void 0),d(e,c,l,i)}function l(e,t,n,...[r=(0,s.g0)()]){return d(e,(0,a.Wi)(t,n),{type:"chat"},r)}function f(e,t,n,r,...[a=(0,s.g0)()]){return u(e,t,n,{results:r,fetchingQuery:void 0},a)}function g(e,t,n,i,...[c=(0,s.g0)()]){const d=(0,a.Wi)(t,n),{results:u}=(0,o.nTw)(e,c).middleSearch.byChatThreadKey[d]||{},l=u?.query||"";if(i.query!==l)return f(e,t,n,i,c);const g=u?.foundIds||[],{query:p,foundIds:h,totalCount:m,nextOffsetId:y,nextOffsetPeerId:b,nextOffsetRate:_}=i,v=(0,r.Am)(Array.prototype.concat(g,h));return f(e,t,n,{query:p,foundIds:(0,r.k)(g,v)?g:v,totalCount:m,nextOffsetId:y,nextOffsetRate:_,nextOffsetPeerId:b},c)}function p(e,t,n,...[r=(0,s.g0)()]){return d(e,(0,a.Wi)(t,n),void 0,r)}function h(e,t,n,r,...[i=(0,s.g0)()]){const d=(0,a.Wi)(t,n);return(0,c.w)(e,{sharedMediaSearch:{byChatThreadKey:{...(0,o.nTw)(e,i).sharedMediaSearch.byChatThreadKey,[d]:r}}},i)}function m(e,t,n,r,...[i=(0,s.g0)()]){const c=(0,a.Wi)(t,n);return h(e,t,n,{...(0,o.nTw)(e,i).sharedMediaSearch.byChatThreadKey[c],currentType:r},i)}function y(e,t,n,i,c,d,u,...[l=(0,s.g0)()]){const f=(0,a.Wi)(t,n),{resultsByType:g}=(0,o.nTw)(e,l).sharedMediaSearch.byChatThreadKey[f]||{},p=g?.[i]?g[i].foundIds:[],m=(0,r.Am)(Array.prototype.concat(p,c)).sort((e,t)=>t-e);return function(e,t,n,r,i,c,d,...[u=(0,s.g0)()]){const l=(0,a.Wi)(t,n);return h(e,t,n,{...(0,o.nTw)(e,u).sharedMediaSearch.byChatThreadKey[l],resultsByType:{...((0,o.nTw)(e,u).sharedMediaSearch.byChatThreadKey[l]||{}).resultsByType,[r]:{foundIds:i,totalCount:c,nextOffsetId:d}}},u)}(e,t,n,i,(0,r.k)(p,m)?p:m,d,u,l)}function b(e,t,n){if(!n)return{foundIds:e,loadingState:t};const s=(0,r.Am)(Array.prototype.concat(n.foundIds,e)).sort((e,t)=>e-t);(0,r.k)(n.foundIds,e)||(n.foundIds=s);const a={areAllItemsLoadedForwards:t.areAllItemsLoadedForwards||n.loadingState.areAllItemsLoadedForwards,areAllItemsLoadedBackwards:t.areAllItemsLoadedBackwards||n.loadingState.areAllItemsLoadedBackwards};return n.loadingState=a,n}function _(e,t,n,i,c,...[d=(0,s.g0)()]){const u=function(e,t){return t.reduce((t,n)=>((0,r.h8)(n.foundIds,e.foundIds)?e=b(e.foundIds,e.loadingState,n):t.push(n),t),[])}(i,c.segments);return function(e,t,n,r,i,...[c=(0,s.g0)()]){const d=(0,a.Wi)(t,n);return A(e,t,n,{...(0,o.nTw)(e,c).chatMediaSearch.byChatThreadKey[d],currentSegment:r,segments:i},c)}(e,t,n,i,u,d)}function v(e,t){const n=t.foundIds.filter(t=>t!==e);return{...t,foundIds:n}}function w(e,t,n,r,...[a=(0,s.g0)()]){const o=(0,i.f5)(e,t,n,a);if(!o)return e;const c=function(e,t){const n=v(e,t.currentSegment),s=t.segments.map(t=>v(e,t));return{...t,currentSegment:n,segments:s}}(r,o);return A(e,t,n,c,a)}function I(e,t,n,r,...[o=(0,s.g0)()]){if(!(0,a.iZ)(t))return e;const c=(0,i.f5)(e,n,r,o);return c?(function(e){e.currentSegment.loadingState.areAllItemsLoadedForwards=!1,e.segments.forEach(e=>{e.loadingState.areAllItemsLoadedForwards=!1})}(c),A(e,n,r,c,o)):e}function S(e,t,n,...[r=(0,s.g0)()]){return A(e,t,n,{currentSegment:{foundIds:[],loadingState:{areAllItemsLoadedForwards:!1,areAllItemsLoadedBackwards:!1}},segments:[],isLoading:!1},r)}function C(e,t,n,r,...[i=(0,s.g0)()]){const c=(0,a.Wi)(t,n),d=(0,o.nTw)(e,i).chatMediaSearch.byChatThreadKey[c];return d?A(e,t,n,{...d,isLoading:r},i):e}function A(e,t,n,r,...[i=(0,s.g0)()]){const d=(0,a.Wi)(t,n);return(0,c.w)(e,{chatMediaSearch:{byChatThreadKey:{...(0,o.nTw)(e,i).chatMediaSearch.byChatThreadKey,[d]:r}}},i)}},68873(e,t,n){"use strict";n.d(t,{iRS:()=>r.iR,P6h:()=>se,ec2:()=>s.ec,t_k:()=>s.t_,o4A:()=>r.o4,Nl5:()=>s.Nl,VP0:()=>kt.VP,KcS:()=>r.Kc,m1I:()=>te,DeY:()=>Z,tNY:()=>s.tN,Niu:()=>ze,K4v:()=>We,Wez:()=>s.We,KTn:()=>kt.KT,d2X:()=>N,g18:()=>P,fgD:()=>r.fg,qEh:()=>Pe,Psh:()=>Ae,IwB:()=>r.Iw,vib:()=>kt.vi,nYM:()=>de,gt4:()=>it.gt,XQb:()=>ce,GSI:()=>we,i_d:()=>ue,Y1r:()=>Ie,zQ9:()=>kt.zQ,cYc:()=>Se,_54:()=>W._5,BOn:()=>D,ob_:()=>Bt,AH0:()=>r.AH,XAm:()=>r.XA,MOQ:()=>T,sol:()=>qe,hjk:()=>r.hj,vad:()=>r.v,Itk:()=>r.It,do9:()=>ft,l3i:()=>r.l3,T4Z:()=>r.T4,tXQ:()=>W.tX,Xr0:()=>Tt,CX_:()=>s.CX,Dq9:()=>Pt,KiA:()=>Ot,olz:()=>W.ol,MeL:()=>Ee,V5q:()=>Te,PcY:()=>b,OW3:()=>re,SJu:()=>s.SJ,OlY:()=>pt,qKm:()=>r.qK,ONz:()=>Ze,xGf:()=>it.xG,pWt:()=>s.pW,$nQ:()=>p,iW2:()=>s.iW,hOQ:()=>s.hO,tPq:()=>s.tP,tTf:()=>r.tT,GEE:()=>ee,Khb:()=>Ge,xOA:()=>O,mPd:()=>gt,qpc:()=>J,czZ:()=>s.cz,n4t:()=>r.n4,eww:()=>r.ew,wWy:()=>R,o7c:()=>r.o7,zde:()=>W.zd,cYW:()=>Ut,gz3:()=>r.gz,s3Z:()=>r.s3,u6y:()=>kt.selectAlphahumanThreadById,akA:()=>Rt,XkY:()=>wt,Y4P:()=>It,a1u:()=>kt.a1,qqH:()=>kt.qq,sN$:()=>kt.sN,teO:()=>$t.te,hAk:()=>Mt,Xe1:()=>xt,lwK:()=>W.lw,_te:()=>_e,vW3:()=>St,ZJf:()=>Vt,X0u:()=>Ct,lwH:()=>me,lEm:()=>ve,bbG:()=>he,Mac:()=>be,Aqj:()=>kt.Aq,yQW:()=>ye,taX:()=>Dt,DQu:()=>Lt,LxE:()=>Nt,ea4:()=>At,yrN:()=>r.yr,Cbr:()=>s.Cb,WLS:()=>kt.WL,laC:()=>mt,w8p:()=>yt,$AJ:()=>bt,hcr:()=>$t.hc,cxc:()=>F,$ry:()=>Ue,wix:()=>s.wi,ltr:()=>s.lt,yKC:()=>s.yK,qwk:()=>s.qw,KrP:()=>s.Kr,PKO:()=>W.PK,Qb2:()=>W.Qb,r3y:()=>r.r3,h7P:()=>s.h7,XUr:()=>s.XU,MNF:()=>r.MN,G4z:()=>m,E24:()=>l,kV7:()=>r.kV,Cfr:()=>r.Cf,Mel:()=>g,b8O:()=>G,GQ:()=>j,RgT:()=>z,HyB:()=>q,Ahb:()=>Ke,SYp:()=>Ye,d4w:()=>r.d4,Y4o:()=>dt,H6X:()=>K,G42:()=>H,gJI:()=>xe,oeN:()=>it.oe,rmT:()=>it.rm,$RI:()=>W.$R,VmW:()=>W.Vm,hQe:()=>L,p92:()=>ne,E0b:()=>r.E0,Vg3:()=>ie,_$X:()=>fe,kTB:()=>Oe,zTz:()=>Ve,LZP:()=>je,Tqk:()=>$e,KpR:()=>st,thC:()=>V,oeX:()=>He,VWO:()=>rt,Xzz:()=>tt,ZCo:()=>nt,Gzl:()=>Je,J81:()=>r.J8,DLl:()=>r.DL,xAV:()=>r.xA,QNR:()=>r.QN,tMr:()=>r.tM,T3R:()=>y,lcj:()=>it.lc,_Bm:()=>it._B,Egm:()=>r.Eg,Ffw:()=>r.Ff,k31:()=>et,jU1:()=>W.jU,Tu_:()=>W.Tu,qoo:()=>X,oFy:()=>pe,EKx:()=>r.EK,L_F:()=>Ce,nv6:()=>ge,Yzx:()=>ke,n8l:()=>Me,RoI:()=>Be,qsx:()=>ot,bG:()=>d,v9P:()=>f,MkE:()=>u,f_N:()=>h,KXe:()=>Re,X5v:()=>Xe,dxy:()=>Qe,l7S:()=>Ft,EEJ:()=>Et,KyT:()=>Q,e49:()=>r.e4,eAk:()=>r.eA,Ng8:()=>r.Ng,Wwn:()=>r.Ww,TwA:()=>lt,mIA:()=>ut,keG:()=>ae,mR:()=>r.mR,TKu:()=>C,lWl:()=>U,weB:()=>B,BFh:()=>E,Z0S:()=>M,CKT:()=>A,Zct:()=>Ne});var s=n(16350),r=n(82150),a=n(14487),o=n(87894),i=n(91048),c=n(32989);function d(e,t,n,...[s=(0,a.g0)()]){return(0,c.w)(e,{stickerSearch:{...(0,i.nTw)(e,s).stickerSearch,hash:t,resultIds:n}},s)}function u(e,t,n,s){const r=s.map(t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t}),a=s.map(e=>e.id);return"search"===t?{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,o.dU)(r,"id")}}}:{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,o.dU)(r,"id")},[t]:{...e.stickers[t],hash:n,setIds:[...e.stickers[t].setIds||[],...a]}}}}function l(e,t,n){const s=n.map(t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t}),r=n.map(e=>e.stickers).flat().filter(Boolean),a=n.map(e=>e.id);return{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,o.dU)(s,"id")}},customEmojis:{...e.customEmojis,added:{...e.customEmojis.added,hash:t,setIds:[...e.customEmojis.added.setIds||[],...a]},byId:{...e.customEmojis.byId,...(0,o.dU)(r,"id")}}}}function f(e,t,n){const s=e.stickers.setsById[t]||{},r=n.isEmoji||s.isEmoji,a=(r?e.customEmojis.added.setIds:e.stickers.added.setIds)||[];let i=a;n.installedDate&&!n.isArchived&&a&&!a.includes(t)&&(i=[t,...i]),!n.installedDate&&a?.includes(t)&&(i=i.filter(e=>e!==t));const c=r&&n.stickers&&(0,o.dU)(n.stickers,"id");return{...e,stickers:{...e.stickers,added:{...e.stickers.added,...!r&&{setIds:i}},setsById:{...e.stickers.setsById,[t]:{...s,...n}}},customEmojis:{...e.customEmojis,byId:{...e.customEmojis.byId,...c},added:{...e.customEmojis.added,...r&&{setIds:i}}}}}function g(e,t,n,s,...[r=(0,a.g0)()]){const{results:o}=(0,i.nTw)(e,r).gifSearch;let d;if(t||!o)d=n;else{const e=new Set(o.map(e=>e.id));d=[...o,...n.filter(t=>!e.has(t.id))]}return(0,c.w)(e,{gifSearch:{...(0,i.nTw)(e,r).gifSearch,offset:s,results:d}},r)}function p(e,t){return{...e,animatedEmojis:t}}function h(e,t,n,s){const r=[...(0,i.wg6)(e,t),...n||[]],a=(0,o.Am)(r.map(({id:e})=>e)),c=(0,o.dU)(r,"id"),d=a.map(e=>c[e]);return{...e,stickers:{...e.stickers,forEmoji:{emoji:t,stickers:d,hash:s}}}}function m(e,t){const n=(0,i.r8w)(e,t),s=(0,o.Am)(n.map(({id:e})=>e)),r=(0,o.dU)(n,"id"),a=s.map(e=>r[e]);return{...e,customEmojis:{...e.customEmojis,forEmoji:{emoji:t,stickers:a}}}}function y(e,t,n){return{...e,customEmojis:{...e.customEmojis,statusRecent:{...e.customEmojis.statusRecent,hash:t,emojis:n}}}}function b(e){if(e.stickers.forEmoji){const{emoji:t,stickers:n,hash:s}=e.stickers.forEmoji;return t?h(e,t,n,s):e}if(e.customEmojis.forEmoji){const{emoji:t}=e.customEmojis.forEmoji;return t?m(e,t):e}return e}var _=n(22986),v=n(79824),w=n(35104);function I(e,t){return{...e,users:{...e.users,byId:t}}}function S(e,t){const{userIds:n}=e.contactList||{};if(!n)return e;const s=t.filter(e=>e?.isContact).map(e=>e.id);return 0===s.length?e:{...e,contactList:{userIds:(0,o.Am)([...s,...n])}}}function C(e,t,n){const{byId:s}=e.users,r=k(e,t,n);return r?I(e=S(e,[r]),{...s,[t]:r}):e}function A(e,t){const n=Object.keys(t).reduce((n,s)=>{const r=k(e,s,t[s]);return r&&(n[s]=r),n},{});return e=S(e=I(e,{...e.users.byId,...n}),Object.values(n))}function P(e,t){const{byId:n}=e.users;let s=!1;const r=Object.keys(t).reduce((r,a)=>{const o=n[a],i=t[a];if(o&&!o.isMin&&(i.isMin||o.accessHash===i.accessHash))return r;const c=k(e,a,i);return c&&(r[a]=c,s||(s=!0)),r},{});return s?e=S(e=I(e,{...n,...r}),Object.values(r)):e}function k(e,t,n){const{byId:s}=e.users,r=s[t],a=[];if(n.isMin&&r&&!r.isMin)return;(0,_.T)(r?.usernames,n.usernames)&&a.push("usernames");const i={...r,...(0,o.cJ)(n,a)};return i.id&&i.type?(0,o.Oy)(i):void 0}function T(e,t){const{byId:n}=e.users,{userIds:s}=e.contactList||{};return e=I(e={...e,contactList:{userIds:s?s.filter(e=>e!==t):v.p}},{...n,[t]:{...n[t],isContact:void 0}}),B(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter(e=>e!==t),archived:e.stories.orderedPeerIds.archived.filter(e=>e!==t)}}},t,{settings:void 0})}function E(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{userSearch:{...(0,i.nTw)(e,n).userSearch,...t}},n)}function M(e,t,...[n=(0,a.g0)()]){return E(e,{fetchingStatus:t},n)}function x(e,t,n){const{fullInfoById:s}=e.users;return s[t]?B(e,t,{isBlocked:n}):e}function R(e,t){return{...e,users:{...e.users,statusesById:t}}}function B(e,t,n){const s=e.users.fullInfoById[t];return{...e,users:{...e.users,fullInfoById:{...e.users.fullInfoById,[t]:{...s,...n}}}}}function U(e,t,n){return{...e,users:{...e.users,commonChatsById:{...e.users.commonChatsById,[t]:n}}}}function N(e,t){const{statusesById:n}=e.users;return R(e,{...n,...t})}function D(e,...[t=(0,a.g0)()]){return(0,c.w)(e,{newContact:void 0},t)}function L(e,t,n,...[s=(0,a.g0)()]){return n.length?(0,c.w)(e,{inviteViaLinkModal:{missingUsers:n,chatId:t}},s):(0,c.w)(e,{inviteViaLinkModal:void 0},s)}function F(e,t,n){const{botAppPermissionsById:s}=e.users;return{...e,users:{...e.users,botAppPermissionsById:{...s,[t]:{...s[t],...n}}}}}function O(e,t,n,s,...[r=(0,a.g0)()]){const o=(0,i.nTw)(e,r),d=new Map;n.forEach(e=>{const t=(0,w.p)(e,!0),n=d.get(t)||0;n>0&&(e.localTag=n),d.set(t,n+1)});const u=(0,i.B59)(e,t,r);return(0,c.w)(e,{savedGifts:{...o.savedGifts,collectionsByPeerId:{...o.savedGifts.collectionsByPeerId,[t]:{...o.savedGifts.collectionsByPeerId[t],[u]:{gifts:n,nextOffset:s}}}}},r)}function V(e,t,n){return{...e,starGiftCollections:{...e.starGiftCollections,byPeerId:{...e.starGiftCollections?.byPeerId,[t]:n}}}}var $=n(57309);function G(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{globalSearch:{...(0,i.nTw)(e,n).globalSearch,...t}},n)}function j(e,t,...[n=(0,a.g0)()]){return G(e,{currentContent:t},n)}function q(e,t,n,s,r,c,d,u,...[l=(0,a.g0)()]){const{resultsByType:f}=(0,i.nTw)(e,l).globalSearch||{},g=t.reduce((e,t)=>(e[(0,$.D)(t)]=t,e),{}),p=f?.[s]?.foundIds;if(void 0!==p&&Object.keys(g).every(e=>p.includes((0,$.D)(g[e]))))return G(e=z(e,{messages:!1,publicPosts:!1},l),{searchFlood:u,resultsByType:{...((0,i.nTw)(e,l).globalSearch||{}).resultsByType,[s]:{foundIds:p,totalCount:n,nextOffsetId:c,nextOffsetRate:r,nextOffsetPeerId:d}}},l);const h=p||[],m=t.map(e=>(0,$.D)(e)).filter(e=>!h.includes(e)),y=Array.prototype.concat(h,m),b=(0,o.k)(h,y)?h:y;return G(e=z(e,{messages:!1,publicPosts:!1},l),{searchFlood:u,resultsByType:{...((0,i.nTw)(e,l).globalSearch||{}).resultsByType,[s]:{totalCount:n,nextOffsetId:c,nextOffsetRate:r,nextOffsetPeerId:d,foundIds:b}}},l)}function z(e,t,...[n=(0,a.g0)()]){return G(e,{fetchingStatus:{...(0,i.nTw)(e,n).globalSearch.fetchingStatus,...t}},n)}var W=n(68344);function H(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{management:{...(0,i.nTw)(e,n).management,progress:t}},n)}function K(e,t,n,...[s=(0,a.g0)()]){const{management:r}=(0,i.nTw)(e,s);return(0,c.w)(e,{management:{...r,byChatId:{...r.byChatId,[t]:{...r.byChatId[t]||{},...n}}}},s)}var Y=n(30708);function J(e,t){return{...e,settings:{...e.settings,byKey:{...e.settings.byKey,...t}}}}function X(e,t){return function(e,t){return{...e,sharedState:{...e.sharedState,...t}}}(e,{settings:{...(0,Y.lS)(e),...t}})}function Q(e,t,n){const s=e.settings,r=s.themes[t];return{...e,settings:{...e.settings,themes:{...s.themes,[t]:{...r,...n}}}}}function Z(e,t){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,...t}}}}function ee(e,t){return{...e,chats:{...e.chats,notifyExceptionById:t}}}function te(e,t,n){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,[t]:n}}}}function ne(e,t,n){return{...e,settings:{...e.settings,notifyDefaults:{...e.settings.notifyDefaults,[t]:{...e.settings.notifyDefaults?.[t],...n}}}}}function se(e,t){return e=x(e,t,!0),{...e,blocked:{...e.blocked,ids:[t,...e.blocked.ids],totalCount:e.blocked.totalCount+1}}}function re(e,t){return e=x(e,t,!1),{...e,blocked:{...e.blocked,ids:e.blocked.ids.filter(e=>e!==t),totalCount:e.blocked.totalCount-1}}}function ae(e,t){return{...e,twoFaSettings:{...e.twoFaSettings,...t}}}var oe=n(20714);function ie(e,t){return{...e,passcode:{...e.passcode,...t}}}function ce(e){return{...e,passcode:{}}}function de(e,t=!0){const n=e.alphahuman?{jwtToken:void 0,isThreadsSidebarOpen:!1,socketState:"disconnected",lastAgentUpdate:void 0,streamingContent:void 0,isStreaming:!1}:void 0;return{...oe.HB,passcode:e.passcode,settings:oe.HB.settings,sharedState:ue(e.sharedState),...n&&{alphahuman:n},...t&&{byTabId:Object.values(e.byTabId).reduce((e,{id:t,isMasterTab:n})=>(e[t]={...oe.Je,isMasterTab:n,id:t},e),{})}}}function ue(e){const{theme:t,shouldUseSystemTheme:n,animationLevel:s,language:r}=e.settings;return{...oe.$8,settings:{...oe.$8.settings,theme:t,shouldUseSystemTheme:n,animationLevel:s,language:r}}}var le=n(31481);function fe(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{payment:{...(0,i.nTw)(e,n).payment,...t}},n)}function ge(e,t,...[n=(0,a.g0)()]){const s=(0,i.Osl)(e,n);return s?(0,c.w)(e,{starsPayment:{...s,...t}},n):e}function pe(e,t,...[n=(0,a.g0)()]){return fe(e,{shippingOptions:t},n)}function he(e,t,...[n=(0,a.g0)()]){return fe(e,{requestId:t},n)}function me(e,t,...[n=(0,a.g0)()]){return fe(e,{step:t},n)}function ye(e,t,...[n=(0,a.g0)()]){return fe(e,{stripeCredentials:{...t}},n)}function be(e,t,...[n=(0,a.g0)()]){return fe(e,{smartGlocalCredentials:{...t}},n)}function _e(e,t,...[n=(0,a.g0)()]){return fe(e,{confirmPaymentUrl:t},n)}function ve(e,t,...[n=(0,a.g0)()]){return fe(e,t?{receipt:t}:{receipt:void 0},n)}function we(e,...[t=(0,a.g0)()]){return(0,c.w)(e,{payment:{}},t)}function Ie(e,...[t=(0,a.g0)()]){return(0,c.w)(e,{starsPayment:{}},t)}function Se(e,...[t=(0,a.g0)()]){return fe(e,{isPaymentModalOpen:void 0,isExtendedMedia:void 0},t)}function Ce(e,t){return t.currency===le.OUy?{...e,stars:{...e.stars,balance:t}}:t.currency===le.ykW?{...e,ton:{...e.ton,balance:t}}:e}function Ae(e,t,n,s,r){if(r){const r=e.ton?.history;if(!r)return e;const a={transactions:(r[t]?.transactions||[]).concat(n),nextOffset:s};return{...e,ton:{...e.ton,history:{...r,[t]:a}}}}const a=e.stars?.history;if(!a)return e;const o={transactions:(a[t]?.transactions||[]).concat(n),nextOffset:s};return{...e,stars:{...e.stars,history:{...a,[t]:o}}}}function Pe(e,t,n){if(!e.stars)return e;const s={list:(e.stars.subscriptions?.list||[]).concat(t),nextOffset:n};return{...e,stars:{...e.stars,subscriptions:s}}}function ke(e,t){const n=e.stars?.subscriptions;return n?{...e,stars:{...e.stars,subscriptions:{...n,isLoading:t}}}:e}function Te(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{starsTransactionModal:{transaction:t}},n)}function Ee(e,t,...[n=(0,a.g0)()]){return Te(e,{id:t.transactionId,peer:{type:"peer",id:t.botId},amount:{currency:le.OUy,amount:t.totalAmount,nanos:0},date:t.date,title:t.title,description:t.description,photo:t.photo},n)}function Me(e,t,n,...[s=(0,a.g0)()]){return(0,c.w)(e,{statistics:{byChatId:{...(0,i.nTw)(e,s).statistics.byChatId,[t]:n}}},s)}function xe(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,currentMessage:t,currentStory:void 0}},n)}function Re(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,currentStory:t,currentMessage:void 0}},n)}function Be(e,t,n,s,...[r=(0,a.g0)()]){const{statistics:o}=(0,i.nTw)(e,r);return(0,c.w)(e,{statistics:{...o,byChatId:{...o.byChatId,[t]:{...o.byChatId[t]||{},[n]:s}}}},r)}function Ue(e,t,...[n=(0,a.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,monetization:t}},n)}function Ne(e,t,...[n=(0,a.g0)()]){const s=(0,i.nTw)(e,n);return s.monetizationVerificationModal?(0,c.w)(e,{monetizationVerificationModal:{...s.monetizationVerificationModal,...t}},n):e}var De=n(9716),Le=n(80140),Fe=n(90709);function Oe(e,t,n){return(0,De.L8)(t)?C(e,t,n):(0,s.wi)(e,t,n)}function Ve(e,t,n){return(0,De.L8)(t)?B(e,t,n):(0,s.lt)(e,t,n)}function $e(e,t,n){const s=(0,i.IVq)(e,t);return s?Ge(e,t,{...s,isLoading:n}):e}function Ge(e,t,n){return n?{...e,peers:{...e.peers,profilePhotosById:{...e.peers.profilePhotosById,[t]:n}}}:{...e,peers:{...e.peers,profilePhotosById:(0,o.cJ)(e.peers.profilePhotosById,[t])}}}function je(e,t,n){const s=(0,i.IVq)(e,t),{newPhotos:r,count:a,nextOffset:c,fullInfo:d,shouldInvalidateCache:u}=n,l=s,f=d.profilePhoto,g="fallbackPhoto"in d?d.fallbackPhoto:void 0,p="personalPhoto"in d?d.personalPhoto:void 0;if(!l||u)return f&&f.id!==r[0]?.id&&r.unshift(f),p&&p.id!==r[0]?.id&&r.unshift(p),g&&r.push(g),Ge(e,t,{fallbackPhoto:g,personalPhoto:p,photos:r,count:a,nextOffset:c,isLoading:!1});const h=g&&l.photos.at(-1)?.id===g.id?l.photos.slice(0,-1):l.photos,m=(0,o.Xd)([...h,...r,g].filter(Boolean),"id");return Ge(e,t,{fallbackPhoto:g,personalPhoto:p,photos:m,count:a,nextOffset:c,isLoading:!1})}function qe(e,t,n,r){const a=(0,i.PVB)(e,t),o=(0,i.IVq)(e,t);if(!a||!o)return e;const c="title"in a&&(0,Fe.WX)(a),d=(0,i.vGo)(e,t),u=(0,i.AWZ)(e,t),l=a.avatarPhotoId===n&&(!c||r),f=l?o.photos[1]:void 0;if(d&&(e=B(e,t,{fallbackPhoto:d.fallbackPhoto?.id===n?void 0:d.fallbackPhoto,personalPhoto:d.personalPhoto?.id===n?void 0:d.personalPhoto,profilePhoto:d.profilePhoto?.id===n?f:d.profilePhoto})),u){const r=u.profilePhoto?.id===n?f:u.profilePhoto;e=(0,s.lt)(e,t,{profilePhoto:r})}const g=l?f?.id:a.avatarPhotoId,p=l&&"title"in a&&(0,Fe.WX)(a)?o.photos.filter(e=>e.id!==n):o.photos.slice();return Ge(e=Oe(e,t,{avatarPhotoId:g}),t,g?{...o,photos:p,count:o.count-1}:void 0)}function ze(e,t){const n=Object.entries(t).reduce((e,[t,n])=>(e[t]?(e[t].byId={...e[t].byId,...n.byId},e[t].orderedIds=(0,o.Am)(n.orderedIds.concat(e[t].orderedIds)),e[t].profileIds=(0,o.Am)(n.profileIds.concat(e[t].profileIds)).sort((e,t)=>t-e),e[t].lastUpdatedAt=n.lastUpdatedAt,e[t].lastReadId=n.lastReadId):e[t]=n,e),e.stories.byPeerId);return at(e={...e,stories:{...e.stories,byPeerId:n}},Object.keys(t))}function We(e,t,n,s,r,a){const{byId:c,orderedIds:d,profileIds:u,archiveIds:l,pinnedIds:f,idsByAlbumId:g}=e.stories.byPeerId[t]||{},p=Object.keys(n).filter(e=>"isDeleted"in n[Number(e)]).map(Number),h={...c,...n};let m=[...d||[]],y=[...l||[]];const b=(0,o.Am)([...u||[]].concat(Object.values(n).reduce((e,t)=>("isInProfile"in t&&t.isInProfile&&e.push(t.id),e),[]))).sort((e,t)=>t-e).filter(e=>!p.includes(e));m=(0,o.Am)(Object.entries(n).reduce((e,[t,n])=>("expireDate"in n&&n.expireDate&&n.expireDate>(0,Le.Fm)()&&e.push(Number(t)),e),m)).filter(e=>!p.includes(e)),r&&(0,i.nZ4)(e,t)&&(y=(0,o.Am)(y.concat(Object.keys(n).map(Number))).sort((e,t)=>t-e).filter(e=>!p.includes(e)));const _={...g||{}};if(void 0!==a){const e=Object.keys(n).map(Number).filter(e=>!p.includes(e)),t=_[a],s=t?.ids||[];_[a]={..._[a],ids:(0,o.Am)([...s,...e]).sort((e,t)=>t-e)}}return e={...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],byId:h,orderedIds:m,profileIds:b,pinnedIds:f||s,...r&&{archiveIds:y},...void 0!==a&&{idsByAlbumId:_}}}}},((0,i.nZ4)(e,t)||(0,i.mBe)(e,t)?.isContact||t===e.appConfig.storyChangelogUserId)&&(e=function(e,t){const n=e.stories.byPeerId[t],s=n.orderedIds.reduce((e,t)=>{const{date:s}=n.byId[t]||{};return s&&(!e||e<s)&&(e=s),e},void 0);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...n,lastUpdatedAt:s}}}}}(e,t),e=at(e,[t])),e}function He(e,t,n,s,r){const{byPeerId:a}=e.stories,o=a[t];return void 0!==r&&o?.idsByAlbumId?.[r]?{...e,stories:{...e.stories,byPeerId:{...a,[t]:{...o,idsByAlbumId:{...o.idsByAlbumId,[r]:{...o.idsByAlbumId[r],isFullyLoaded:n}}}}}}:{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],[s?"isArchiveFullyLoaded":"isFullyLoaded"]:n}}}}}function Ke(e,t,n){const{orderedIds:s}=(0,i._bp)(e,t)||{};return s?(n>=s[s.length-1]&&(e=Oe(e,t,{hasUnreadStories:!1})),{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],lastReadId:n}}}}):e}function Ye(e,t,n,...[s=(0,a.g0)()]){const{orderedIds:r}=(0,i._bp)(e,t)||{};if(!r||!r.includes(n))return e;const{storyViewer:o}=(0,i.nTw)(e,s);return(0,c.w)(e,{storyViewer:{...o,lastViewedByPeerId:{...o.lastViewedByPeerId,[t]:n}}},s)}function Je(e,t){return Object.entries(t).forEach(([t,{lastReadId:n,orderedIds:s}])=>{const r=(0,i.PVB)(e,t);r&&(e=Oe(e,t,{hasStories:!0,hasUnreadStories:!n||Boolean(n&&n<(r.maxStoryId||s[s.length-1]))}))}),e}function Xe(e,t,n,s,...[r=(0,a.g0)()]){const o=(0,i.nTw)(e,r),{viewModal:d}=o.storyViewer,u=d?.storyId===t&&d.views?[...d.views,...n]:n;return e=Qe(e,!1,r),(0,c.w)(e,{storyViewer:{...o.storyViewer,viewModal:{...d,storyId:t,views:u,nextOffset:s,isLoading:!1}}},r)}function Qe(e,t,...[n=(0,a.g0)()]){const s=(0,i.nTw)(e,n),{viewModal:r}=s.storyViewer;return r?(0,c.w)(e,{storyViewer:{...s.storyViewer,viewModal:{...r,isLoading:t}}},n):e}function Ze(e,t,n){const{orderedIds:s,profileIds:r,lastReadId:a,byId:o}=(0,i._bp)(e,t)||{orderedIds:[],profileIds:[]},c=s.filter(e=>e!==n),d=r.filter(e=>e!==n),u=c.length?s[s.length-1]:void 0,l=s[s.indexOf(n)-1],f=a===n?l:a,g={...o,[n]:{id:n,peerId:t,isDeleted:!0}},p=u?g[u]?.date:void 0,h=Boolean(c.length);return e=function(e,t,n){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:n}}}}(e=Oe(e,t,{hasStories:h,hasUnreadStories:Boolean(h&&a&&u&&a<u)}),t,{byId:g,orderedIds:c,profileIds:d,lastUpdatedAt:p,lastReadId:f}),Object.values(e.byTabId).forEach(s=>{s.storyViewer.lastViewedByPeerId&&s.storyViewer.lastViewedByPeerId[t]===n&&(e=Ye(e,t,l,s.id))}),h||(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter(e=>e!==t),archived:e.stories.orderedPeerIds.archived.filter(e=>e!==t)}}}),e}function et(e,t,n,s){const r=(0,i.Msb)(e,t,n);if(!r||!("content"in r))return e;const{views:a}=r,o=a?.reactionsCount||0,c=a?.reactions?.some(e=>void 0!==e.chosenOrder),d=(0,Fe.AK)(a?.reactions||[],[s].filter(Boolean)),u=o+(s?c?0:1:-1);return tt(e,t,n,{sentReaction:s,views:{...a,reactionsCount:u,reactions:d}})}function tt(e,t,n,s){const r=(0,i._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]};return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...r,byId:{...r.byId,[n]:{...r.byId[n],...s}}}}}}}function nt(e,t,n,s){const r=(0,i.Msb)(e,t,n);if(!r||!("content"in r))return e;const{views:a}=r;return tt(e,t,n,{views:{...a,...s}})}function st(e,t,n,s){const r=(0,i._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]},a=s?(0,o.Am)(r.profileIds.concat(n)).sort((e,t)=>t-e):r.profileIds.filter(e=>n!==e);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...r,profileIds:a}}}}}function rt(e,t,n){const s=(0,i.PVB)(e,t);return s?s.areStoriesHidden===n?e:at(e=Oe(e,t,{areStoriesHidden:n}),[t]):e}function at(e,t){const{currentUserId:n,stories:{byPeerId:s,orderedPeerIds:r}}=e,a=r.active.concat(r.archived).concat(t).reduce((t,n)=>{if(!s[n]?.orderedIds?.length)return t;const r=(0,i.PVB)(e,n);return r?.areStoriesHidden?t.archived.push(n):t.active.push(n),t},{active:[],archived:[]});function c(t,r){const a=(0,i.PVB)(e,t),c=(0,i.PVB)(e,r),d=(0,o.zV)(n===t,n===r);if(d)return d;const{lastUpdatedAt:u=0,orderedIds:l,lastReadId:f=0}=s[t]||{},g=f<l?.[l.length-1],{lastUpdatedAt:p=0,orderedIds:h,lastReadId:m=0}=s[r]||{},y=m<h?.[h.length-1],b=(0,o.zV)(g,y);if(b)return b;const _=(0,o.zV)("isPremium"in a,"isPremium"in c);if(_)return _;return(0,o.zV)((0,De.L8)(t),(0,De.L8)(r))||(0,o.zV)(u,p)}return a.archived=(0,o.Am)(a.archived).filter(e=>s[e]?.orderedIds?.length).sort(c),a.active=(0,o.Am)(a.active).filter(e=>s[e]?.orderedIds?.length).sort(c),{...e,stories:{...e.stories,orderedPeerIds:a}}}function ot(e,t){return{...e,stories:{...e.stories,stealthMode:t}}}var it=n(95753);function ct(e,t,n){const s=e.chats.topicsInfoById[t]||{};return{...e,chats:{...e.chats,topicsInfoById:{...e.chats.topicsInfoById,[t]:{...s,...n}}}}}function dt(e,t,n){const s=(0,i.xyP)(e,t)?.listedTopicIds||[];return ct(e,t,{listedTopicIds:(0,o.Am)([...s,...n])})}function ut(e,t,n,s){const a=(0,i.pSx)(e,t),c=(0,o.dU)(s,"id");return e=ct(e,t,{topicsById:{...a,...c},totalCount:n}),s.forEach(n=>{e=(0,r.e4)(e,t,n.id,{firstMessageId:n.id}),e=(0,r.eA)(e,t,n.id,{lastMessageId:n.lastMessageId,threadId:n.id,chatId:t})}),e}function lt(e,t,n,s){if(!(0,i.hds)(e,t))return e;const a=(0,i.S0q)(e,t,n),o=(0,i.pSx)(e,t),c={...a,...s};return c.id?(e=ct(e,t,{topicsById:{...o,[n]:c}}),e=(0,r.e4)(e,t,c.id,{firstMessageId:c.id}),e=(0,r.eA)(e,t,c.id,{lastMessageId:c.lastMessageId,threadId:c.id,chatId:t})):e}function ft(e,t,n){const s=(0,i.pSx)(e,t);return s?e=ct(e,t,{topicsById:(0,o.cJ)(s,[n])}):e}function gt(e,t,n){return ct(e,t,{orderedPinnedTopicIds:n})}function pt(e,t=(0,a.g0)()){const n=e.byTabId[t],{giftInfoModal:s}=n;if(!s)return e;const r=s.gift;if(!r||!("gift"in r))return e;const o=r,i=o.gift;if("starGiftUnique"!==i.type)return e;const d={...i,attributes:i.attributes?.filter(e=>"originalDetails"!==e.type)},u={...o,dropOriginalDetailsStars:void 0,gift:d};return(0,c.w)(e,{giftInfoModal:{...s,gift:u}},t)}function ht(e){return"active"===e.type?e.version:0}function mt(e,t,n=(0,a.g0)()){const s=(0,i.nTw)(e,n).activeGiftAuction;return ht(t.state)>=(s?ht(s.state):-1)?(0,c.w)(e,{activeGiftAuction:t},n):e}function yt(e,t,n,s){const r=(0,i.nTw)(e,s).activeGiftAuction;return r&&r.gift.id===t&&ht(n)>ht(r.state)?(0,c.w)(e,{activeGiftAuction:{...r,state:n}},s):e}function bt(e,t,n,s){const r=(0,i.nTw)(e,s).activeGiftAuction;return r&&r.gift.id===t?(0,c.w)(e,{activeGiftAuction:{...r,userState:n}},s):e}const _t={agentColumnState:"collapsed",agentColumnWidth:400,contentMode:"chat",isPinned:!1};function vt(e,t){const n=e.layout||_t;return{...e,layout:{...n,...t}}}function wt(e,t){return vt(e,{agentColumnState:t})}function It(e,t){return vt(e,{agentColumnWidth:Math.max(300,Math.min(580,t))})}function St(e,t){return vt(e,{contentMode:t})}function Ct(e,t){return vt(e,{isPinned:t})}function At(e){let t;switch((e.layout||_t).agentColumnState){case"collapsed":default:t="expanded";break;case"expanded":t="minimized";break;case"minimized":t="collapsed"}return wt(e,t)}function Pt(e){const t=localStorage.getItem("alphaHuman.agentColumnState"),n=localStorage.getItem("alphaHuman.agentColumnWidth"),s=localStorage.getItem("alphaHuman.contentMode"),r=localStorage.getItem("alphaHuman.layoutPinned"),a=e.layout||_t;return vt(e,{agentColumnState:t||a.agentColumnState,agentColumnWidth:n?Number(n):a.agentColumnWidth,contentMode:s||a.contentMode,isPinned:r?"true"===r:a.isPinned})}var kt=n(72696);function Tt(...[e=(0,a.g0)()]){return{summarize:{isOpen:!1,isSetupComplete:!1,selectedChatIds:[],summaries:[],isLoadingBusiestChats:!1,isLoadingSummaries:!1,includeArchived:!1}}}function Et(e,t,...[n=(0,a.g0)()]){const s=e.byTabId[n]?.summarize||{isOpen:!1,isSetupComplete:!1,selectedChatIds:[],summaries:[],isLoadingBusiestChats:!1,isLoadingSummaries:!1,includeArchived:!1,selectedDate:void 0};return(0,c.w)(e,{summarize:{...s,...t}},n)}function Mt(e,t,...[n=(0,a.g0)()]){return Et(e,{busiestChats:t,isLoadingBusiestChats:!1},n)}function xt(e,t,...[n=(0,a.g0)()]){return Et(e,{isLoadingBusiestChats:t},n)}function Rt(e,t,...[n=(0,a.g0)()]){return Et(e,{selectedChatIds:t},n)}function Bt(e,...[t=(0,a.g0)()]){return Et(e,{isSetupComplete:!0},t)}function Ut(e,...[t=(0,a.g0)()]){return Et(e,{isSetupComplete:!1,summaries:[],selectedChatIds:[],selectedDate:void 0},t)}function Nt(e,t,...[n=(0,a.g0)()]){return Et(e,{selectedDate:t},n)}function Dt(e,t,...[n=(0,a.g0)()]){return Et(e,{summaries:t,isLoadingSummaries:!1},n)}function Lt(e,t,...[n=(0,a.g0)()]){return Et(e,{isLoadingSummaries:t},n)}function Ft(e,t,...[n=(0,a.g0)()]){return Et(e,{searchQuery:t},n)}function Ot(e,t,n,...[s=(0,a.g0)()]){const r=e.byTabId[s]?.summarize;return r?Et(e,{summaries:r.summaries.map(e=>e.chatId===t&&e.date===n?{...e,isRead:!0}:e)},s):e}function Vt(e,t,...[n=(0,a.g0)()]){return Et(e,{includeArchived:t},n)}var $t=n(84748)},70636(e,t,n){"use strict";n.d(t,{F9:()=>h,PU:()=>g,Q5:()=>y,cy:()=>p,em:()=>m,mO:()=>f,vj:()=>l});var s=n(31481),r=n(9716),a=n(43044),o=n(529),i=n(91048),c=n(13439),d=n(62214),u=n(79089);function l(e){return"title"in e}function f(e){return!l(e)}function g({ids:e,query:t,type:n="peer"}){if(!t)return e;const s=(0,c.mS)(),r=(0,a.Yw)(),u=(0,o.l)(t),f="chat"===n?i.hds:"user"===n?i.mBe:i.PVB;return e.filter(e=>{const t=f(s,e);if(!t)return!1;const n=l(t)?(0,d.Js)(r,t):e===s.currentUserId?r("SavedMessages"):void 0,a=n?u(n):void 0,o=m(r,t);return a||o&&u(o)||Boolean(t.usernames?.find(({username:e})=>u(e)))})}function p(e){return l(e)?"chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type?"ChatList.PeerTypeGroup":"chatTypeChannel"===e.type?"ChatList.PeerTypeChannel":"chatTypePrivate"===e.type?"ChatList.PeerTypeNonContact":void 0:e.id===s.zv8?"ServiceNotifications":e.isSupport?"SupportStatus":e.type&&"userTypeBot"===e.type?"ChatList.PeerTypeBot":e.isContact?"ChatList.PeerTypeContact":"ChatList.PeerTypeNonContactUser"}function h(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:f(t)?(0,u.u0)(t):(0,d.Js)(e,t)}function m(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:f(t)?(0,u.Yg)(t):(0,d.Js)(e,t)}function y(e,t,n){if(!(0,r.L8)(t)){if(l(n)){if(t===n.id)return;return n.title}return n.isSelf?e("FromYou"):h(e,n)}}},70758(e,t,n){"use strict";function s(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function r(e,t){let n;return(r,a)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=s(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>a(e.transaction(t,r).objectStore(t)))}let a;function o(){return a||(a=r("keyval-store","keyval")),a}function i(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},s(e.transaction)}n.d(t,{q:()=>d,B:()=>u});class c{constructor(e){this.store=r(e,"store")}set(e,t){return function(e,t,n=o()){return n("readwrite",n=>(n.put(t,e),s(n.transaction)))}(e,t,this.store)}setMany(e){return function(e,t=o()){return t("readwrite",t=>(e.forEach(e=>t.put(e[1],e[0])),s(t.transaction)))}(e,this.store)}get(e){return function(e,t=o()){return t("readonly",t=>s(t.get(e)))}(e,this.store)}getMany(e){return function(e,t=o()){return t("readonly",t=>Promise.all(e.map(e=>s(t.get(e)))))}(e,this.store)}clear(){return function(e=o()){return e("readwrite",e=>(e.clear(),s(e.transaction)))}(this.store)}del(e){return function(e,t=o()){return t("readwrite",t=>(t.delete(e),s(t.transaction)))}(e,this.store)}delMany(e){return function(e,t=o()){return t("readwrite",t=>(e.forEach(e=>t.delete(e)),s(t.transaction)))}(e,this.store)}entries(){return function(e=o()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([s(t.getAllKeys()),s(t.getAll())]).then(([e,t])=>e.map((e,n)=>[e,t[n]]));const n=[];return e("readonly",e=>i(e,e=>n.push([e.key,e.value])).then(()=>n))})}(this.store)}keys(){return function(e=o()){return e("readonly",e=>{if(e.getAllKeys)return s(e.getAllKeys());const t=[];return i(e,e=>t.push(e.key)).then(()=>t)})}(this.store)}values(){return function(e=o()){return e("readonly",e=>{if(e.getAll)return s(e.getAll());const t=[];return i(e,e=>t.push(e.value)).then(()=>t)})}(this.store)}update(e,t){return function(e,t,n=o()){return n("readwrite",n=>new Promise((r,a)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),r(s(n.transaction))}catch(e){a(e)}}}))}(e,t,this.store)}}const d=new c("tt-data"),u=new c("tt-passcode")},70874(e,t,n){"use strict";n.d(t,{W:()=>i,j:()=>o});var s=n(23174),r=n(21309);const a=/\b(?:(\d{1,2}):)?([0-5]?\d):([0-5]\d)\b/g;function o(e){const t={...e,text:e.text,entities:e.entities?.filter(e=>e.type!==s.C7.Timestamp)||[]},n=t.text;for(const e of n.matchAll(a)){const n=e[0],a=e[1],o=e[2],i=e[3],c=e.index??0,d=n.length,u=parseInt(o,10),l=parseInt(i,10);if(u>59||l>59)continue;let f;if(void 0!==a){const e=parseInt(a,10);f=(0,r.Sy)(e,u,l)}else f=(0,r.Sy)(0,u,l);let g=!1;for(const e of t.entities)if(c<e.offset+e.length&&c+d>e.offset){g=!0;break}if(g)continue;const p={type:s.C7.Timestamp,offset:c,length:d,timestamp:f};let h=!1;for(let e=0;e<t.entities.length;e++)if(c<t.entities[e].offset){t.entities.splice(e,0,p),h=!0;break}h||t.entities.push(p)}return t}function i(e){if(!(e=e.trim()).startsWith("-")&&Number.isInteger(Number(e)))return parseInt(e,10);if(e.includes(":")){const t=e.split(":");if(2===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10);if(Number.isNaN(e)||Number.isNaN(n)||e<0||n<0||n>=60)return;return 60*e+n}if(3===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10),s=parseInt(t[2],10);if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(s)||e<0||n<0||s<0||n>=60||s>=60)return;return 3600*e+60*n+s}return}const t=e.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/i);if(!t)return;const n=t[1]?parseInt(t[1],10):0,s=t[2]?parseInt(t[2],10):0,r=t[3]?parseInt(t[3],10):0;return Number.isNaN(n)||Number.isNaN(s)||Number.isNaN(r)||s>=60||r>=60?void 0:3600*n+60*s+r}},70934(e,t,n){"use strict";n.d(t,{H:()=>b,IG:()=>u,Mv:()=>i,UQ:()=>g,WN:()=>h,dl:()=>c,m:()=>p,tn:()=>d,ug:()=>f,yp:()=>l});var s=n(31481),r=n(70758),a=n(74824);let o;class i extends Error{}function c(){return o}function d(e){o=e}async function u(e){o=await m(e)}async function l(e,t){if(!o)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");await Promise.all([(async()=>{if(!e)return;const t=await v(e,o);await y("sessionEncrypted",t)})(),(async()=>{if(!t)return;const e=await v(t,o);await y("globalEncrypted",e)})()])}async function f(){if(!o)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");const[e,t]=await Promise.all([_("sessionEncrypted"),_("globalEncrypted")]);if(!e||!t)throw console.error("[api/passcode] Missing required stored fields"),new Error("[api/passcode] Missing required stored fields");try{const[n,s]=await Promise.all([w(e,o),w(t,o)]);return{sessionJson:n,globalJson:s}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}async function g(e){const t=await m(e),[n,s]=await Promise.all([_("sessionEncrypted"),_("globalEncrypted")]);if(!n||!s)throw console.error("[api/passcode] Missing required stored fields"),new i("[api/passcode] Missing required stored fields");try{const[e,r]=await Promise.all([w(n,t),w(s,t)]);return o=t,{sessionJson:e,globalJson:r}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}function p(){o=void 0}function h(){return p(),r.B.clear(),a.clear(s.oBq)}function m(e){return crypto.subtle.digest("SHA-256",(new TextEncoder).encode(`${e}harder better faster stronger`))}function y(e,t){const n=Array.from(new Uint8Array(t));return r.B.set(e,n)}function b(){return r.B.get("sessionEncrypted")}async function _(e){const t=await r.B.get(e);return t?new Uint8Array(t).buffer:a.fetch(s.oBq,e,a.Type.ArrayBuffer)}async function v(e,t){const n=crypto.getRandomValues(new Uint8Array(12)),s={name:"AES-GCM",iv:n},r=await crypto.subtle.importKey("raw",t,s,!1,["encrypt"]),a=(new TextEncoder).encode(e),o=await crypto.subtle.encrypt(s,r,a),i=new Uint8Array(o),c=new Uint8Array(12+i.length);return c.set(n,0),c.set(i,12),c.buffer}async function w(e,t){const n=new Uint8Array(e),s={name:"AES-GCM",iv:n.slice(0,12)},r=await crypto.subtle.importKey("raw",t,s,!1,["decrypt"]),a=n.slice(12),o=await crypto.subtle.decrypt(s,r,a);return(new TextDecoder).decode(o)}},71322(e,t,n){"use strict";n.d(t,{A:()=>l});var s=n(66644);const r=JSON.parse('{"--color-primary":["#3390EC","#8774E1"],"--color-primary-opacity":["#50A2E91E","#8378DB1E"],"--color-primary-opacity-hover":["#50A2E940","#8378DB40"],"--color-primary-tint":["#3390ec1a","#8774e11a"],"--color-primary-shade":["#4a95d6","#7b71c6"],"--color-background":["#FFFFFF","#212121"],"--color-background-compact-menu":["#FFFFFFBB","#212121DD"],"--color-web-app-browser":["#FFFFFFBB","#0303038F"],"--color-background-compact-menu-reactions":["#FFFFFFEB","#212121DD"],"--color-background-compact-menu-hover":["#00000011","#00000066"],"--color-background-secondary":["#F4F4F5","#0F0F0F"],"--color-background-secondary-accent":["#E4E4E5","#191919"],"--color-background-sidebar":["#E4E4E5","#0F0F0F"],"--color-background-own":["#EEFFDE","#766AC8"],"--color-background-own-apple":["#DCF8C5","#766AC8"],"--color-background-selected":["#F4F4F5","#2C2C2C"],"--color-background-own-selected":["#d0ffac","#6549d4"],"--color-chat-hover":["#F4F4F5","#2C2C2C"],"--color-chat-active":["#3390EC","#766AC8"],"--color-chat-active-greyed":["#60a7f0","#9288d3"],"--color-item-hover":["#F4F4F5","#2C2C2C"],"--color-item-active":["#EDEDED","#292929"],"--color-text":["#000000","#FFFFFF"],"--color-text-secondary":["#707579","#AAAAAA"],"--color-icon-secondary":["#707579","#AAAAAA"],"--color-text-secondary-apple":["#8E8E92","#AAAAAA"],"--color-borders":["#DADCE0","#303030"],"--color-borders-input":["#DADCE0","#5B5B5A"],"--color-dividers":["#C8C6CC","#3B3B3D"],"--color-dividers-android":["#E7E7E7","#0F0F0F"],"--color-links":["#3390EC","#8774E1"],"--color-gray":["#C4C9CC","#717579"],"--color-list-icon":["#ABAFB1","#A2A2A2"],"--color-default-shadow":["#72727240","#1010109c"],"--color-light-shadow":["#7272722B","#00000040"],"--color-green":["#00C73E","#8774E1"],"--color-green-darker":["#00a734","#7b71c6"],"--color-success":["#00C73E","#00C73E"],"--color-text-meta-colored":["#4DCD5E","#8378DB"],"--color-reply-hover":["#F4F4F4","#272727"],"--color-reply-active":["#E8E9E9","#2E2F2F"],"--color-reply-own-hover":["#D9F5CE","#8775DA"],"--color-reply-own-hover-apple":["#cbefb7","#8775DA"],"--color-reply-own-active":["#C5ECBE","#917DEA"],"--color-reply-own-active-apple":["#bae6a8","#917DEA"],"--color-accent-own":["#45AF54","#FFFFFF"],"--color-message-meta-own":["#4FAE4EFF","#FFFFFF88"],"--color-own-links":["#3390EC","#FFFFFF"],"--color-code":["#4a729a","#8774E1"],"--color-code-own":["#3c7940","#FFFFFF"],"--color-code-bg":["#70757914","#00000080"],"--color-code-own-bg":["#70757914","#00000050"],"--color-composer-button":["#707579CC","#AAAAAACC"],"--color-message-reaction":["#ebf3fd","#2b2a35"],"--color-message-reaction-hover":["#c5def9","#343147"],"--color-message-reaction-own":["#c6eab2","#675CAF"],"--color-message-reaction-hover-own":["#b5e0a4","#5B529B"],"--color-message-reaction-chosen-hover":["#1a82ea","#7864dd"],"--color-message-reaction-chosen-hover-own":["#3f9d4b","#f5f5f5"],"--color-message-non-contact":["#cceebf","#AAAAAA"],"--color-voice-transcribe-button":["#e8f3ff","#2a2a3c"],"--color-voice-transcribe-button-own":["#cceebf","#8373d3"],"--color-topic-blue":["#2F7772","#6ff9f0"],"--color-topic-yellow":["#7F693B","#ffd67e"],"--color-topic-violet":["#8B5A96","#cb86db"],"--color-topic-green":["#44774A","#8eee98"],"--color-topic-rose":["#9B576B","#ff93b2"],"--color-topic-red":["#EB6858","#fb6f5f"],"--color-topic-grey":["#6C6C6C","#999999"],"--color-forum-unread-topic-hover":["#e9e9e9","#363636"],"--color-forum-hover-unread-topic-hover":["#e2e2e2","#3f3f3f"],"--color-chat-username":["#3C7EB0","#E9EEF4"],"--color-borders-read-story":["#C4C9CC","#737373"],"--color-background-menu-separator":["#0000001a","#ffffff1a"],"--color-hover-overlay":["#00000006","#ffffff06"],"--color-toast-background":["#202020CC","#000000CC"]}');var a=n(19822),o=n(48894);let i=!1;const c=new Set(["--color-text","--color-primary-shade","--color-text-secondary","--color-accent-own"]),d=Object.keys(r).map(e=>({property:e,colors:[(0,o.hF)(r[e][0]),(0,o.hF)(r[e][1])]}));function u(e,t,n=1){d.forEach(({property:s,colors:r})=>{const{r:a,g:i,b:d,a:u}=(0,o.R5)(r[e],r[t],n),l=void 0!==u?Math.round(u/255*1e3)/1e3:void 0;document.documentElement.style.setProperty(s,`rgb(${a},${i},${d}${l?`,${l}`:""})`),c.has(s)&&document.documentElement.style.setProperty(`${s}-rgb`,`${a},${i},${d}`)})}const l=(e,t)=>{const n=`theme-${e}`;if(document.documentElement.classList.contains(n))return;const r="dark"===e,o=i&&t,c=r?0:1,d=r?1:0,l=Date.now(),f=document.querySelector('meta[name="theme-color"]');(0,s.RK)(()=>{let e;document.documentElement.classList.remove("theme-"+(r?"light":"dark")),i&&(e=(()=>{const e=document.createElement("style");return e.textContent="\n.no-animations #root *,\n.no-animations #root *::before,\n.no-animations #root *::after {\n  transition: none !important;\n}",document.head.appendChild(e),()=>{document.head.removeChild(e)}})(),document.documentElement.classList.add("no-animations")),document.documentElement.classList.add(n),f&&f.setAttribute("content",r?"#212121":"#fff"),setTimeout(()=>{(0,s.RK)(()=>{e?.(),document.documentElement.classList.remove("no-animations")})},500),i=!0,o?(0,a.i0)(()=>{const e=Math.min((Date.now()-l)/200,1);return u(c,d,function(e){return 1-(1-e)**3.5}(e)),e<1},s.RK):u(c,d)})}},71429(e,t,n){"use strict";n.d(t,{A:()=>I});var s=n(84051),r=n(96454),a=n(87357),o=n(11778),i=n(54464),c=n(43874),d=n(82117),u=n(26072),l=n(10328),f=n(17712),g=n(61433),p=n(66644),h=n(41257);const m={width:0,left:0,height:0,top:0};function y(e,t,{positionX:n="left",positionY:s="top",transformOriginX:r,transformOriginY:a,style:o,bubbleStyle:i}){const c=e.current,d=t.current;o&&(c.style.cssText=o),i&&(d.style.cssText=i),n&&((0,g.HW)(d,"left"===n?"right":"left"),(0,g.YM)(d,n)),s&&((0,g.HW)(d,"top"===s?"bottom":"top"),(0,g.YM)(d,s)),(0,g.Tv)(d,{transformOrigin:[r?`${r}px`:n,a?`${a}px`:s].join(" ")})}var b=n(34201),_=n(22802),v=n(3325),w=n(20021);const I=(0,s.ph)(({ref:e,shouldCloseFast:t,isOpen:n,id:g,className:I,bubbleClassName:S,ariaLabelledBy:C,children:A,autoClose:P=!1,footer:k,noCloseOnBackdrop:T=!1,backdropExcludedSelector:E,noCompact:M,onCloseAnimationEnd:x,onClose:R,onMouseEnter:B,onMouseLeave:U,withPortal:N,onMouseEnterBackdrop:D,...L})=>{const{isTouchScreen:F}=(0,c.Ay)(),O=(0,s.li)(),{ref:V}=(0,b.A)({isOpen:n,ref:e,onCloseAnimationEnd:x});(function(e,t,n,r){const a=(0,h.i)(r);(0,s.Nf)(()=>{if(!e)return;const s=a.current;"getTriggerElement"in s?(0,p.gm)(()=>{const e=function(e,t,{anchor:n,getRootElement:s,getMenuElement:r,getTriggerElement:a,getLayout:o,withMaxHeight:i}){const c=a();let{x:d,y:u}=n;const l=d,f=u,g=r(),p=s(),{extraPaddingX:h=0,extraTopPadding:y=0,topShiftY:b=0,menuElMinWidth:_=0,deltaX:v=0,shouldAvoidNegativePosition:w=!1,withPortal:I=!1,isDense:S=!1}=o?.()||{},C=g?parseInt(getComputedStyle(g).marginTop,10):void 0,{offsetWidth:A,offsetHeight:P}=g||{offsetWidth:0,offsetHeight:0},k=g?{width:Math.max(A,_),height:P+C}:m,T=p?p.getBoundingClientRect():m;let E,M;S||d+k.width+h<T.width+T.left?(d+=3,E="left"):d-k.width-T.left>0?(E="right",d-=3):(E="left",d=16),d+=v;const x=u+b;S||x+k.height<T.height+T.top?(M="top",u=x):(M="bottom",u-k.height<T.top+y&&(u=T.top+T.height));const R=c.getBoundingClientRect(),B=I?R.top:0,U=I?R.left:0,N=Math.min(d-R.left,T.width-k.width-16);let D=("left"===E?I||w?Math.max(16,N):N:d-R.left)+U,L=u-R.top+B;S&&(D=Math.min(D,T.width-k.width-16),L=Math.min(L,T.height-k.height-16));const F=_?Math.max(0,(_-A)/2):0;D-F<0&&w&&(D=F+16);const O=l+U-R.left-D,V=f+B-R.top-L-(C||0),$="left"===E?O:k.width+O,G="bottom"===M?k.height+V:V,j=`left: ${D}px; top: ${L}px`;let q;return i&&(q=`max-height: ${T.height-12-(C||0)}px;`),{positionX:E,positionY:M,transformOriginX:$,transformOriginY:G,style:j,bubbleStyle:q}}(0,0,s);return()=>{y(t,n,e)}}):y(t,n,s)},[e,t,n,a])})(n,O,V,L),(0,s.vJ)(()=>n?(0,o.A)(R):void 0,[n,R]),(0,u.A)({isActive:n,onBack:R,shouldBeReplaced:!0}),(0,d.A)(([e])=>{(n||!n&&!0===e)&&(0,s.VK)(200)},[n]);const $=(0,l.A)(V,n,P?R:void 0,void 0,!0);(0,_.A)(n,O,T?void 0:R,void 0,E);const G=(0,a.A)("bubble menu-container custom-scroll",k&&"with-footer",S,t&&"close-fast"),j=(0,f.A)(e=>{e.stopPropagation(),P&&R()}),q=(0,w.FD)("div",{ref:O,id:g,className:(0,a.A)("Menu",!M&&!F&&"compact",!r.Fy&&"no-blur",N&&"in-portal",I),"aria-labelledby":C,role:C?"menu":void 0,onKeyDown:n?$:void 0,onMouseEnter:B,onMouseLeave:n?U:void 0,children:[n&&(0,w.Y)("div",{className:"backdrop",onMouseDown:i.u,onMouseEnter:D}),(0,w.FD)("div",{role:"presentation",ref:V,className:G,onClick:j,children:[A,k&&(0,w.Y)("div",{className:"footer",children:k})]})]});return N?(0,w.Y)(v.A,{children:q}):q})},71533(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(84051),r=n(22986),a=n(80853),o=n(37836),i=n(17712);const c=(e=!1,t,n)=>{const[c,d]=(0,s.J0)(!e),[u,l]=(0,s.J0)(!1),[f,g]=(0,s.J0)(0),[p,h]=(0,s.J0)([]),m=(0,s.Kr)(()=>(0,o.sg)(d,200,!1,!0),[]),y=(0,i.A)(e=>{const s=e.currentTarget;if(s.duration<.1)n?.();else if("timeupdate"===e.type&&t?.(e),!(0,a.f)(s)){if(s.buffered.length){const e=function(e,t){const n=[];for(let s=0;s<e.length;s++)n.push({start:e.start(s)/t,end:e.end(s)/t});return n}(s.buffered,s.duration),t=e.reduce((e,{start:t,end:n})=>e+n-t,0);g(t/s.duration),h(t=>(0,r.T)(t,e)?t:e)}m(s.readyState>=3||s.currentTime>0),l(e=>e||s.readyState>3)}});return{isReady:u,isBuffered:c,bufferedProgress:f,bufferedRanges:p,bufferingHandlers:{onPLay:y,onLoadedData:y,onPlaying:y,onLoadStart:y,onPause:y,onTimeUpdate:y,onProgress:y},checkBuffering(e){m(e.readyState>=3)}}}},72696(e,t,n){"use strict";n.d(t,{Aq:()=>g,KT:()=>l,VP:()=>u,WL:()=>i,a1:()=>a,ensureThreadsInitialized:()=>d,qq:()=>o,sN:()=>r,selectAlphahumanThreadById:()=>c,vi:()=>p,zQ:()=>f});var s=n(84748);function r(e,t){return(0,s.hc)(e,{socketState:t})}function a(e,t){return(0,s.hc)(e,{lastAgentUpdate:t})}function o(e){return(0,s.hc)(e,{socketState:"disconnected"})}function i(e){return(0,s.hc)(e,{isThreadsSidebarOpen:!e.alphahuman?.isThreadsSidebarOpen})}function c(e,t){return e.alphahuman?(0,s.hc)(e,{activeThreadId:t}):e}function d(e){return e}function u(e,t,n){const r=e.alphahuman;if(!r)return e;const a=function(e,t){return t||e.alphahuman?.activeThreadId}(e,t);if(!a)return e;const o=r.threadMessages||{},i=[...o[a]?.messages||[],n],c=(o[a]?.count||0)+1;return(0,s.hc)(e,{threadMessages:{...o,[a]:{messages:i,count:c}}})}function l(e,t,n){return u(e,t,{id:Date.now().toString(),content:n,sender:"user",type:"text",extraMetadata:{},createdAt:(new Date).toISOString()})}function f(e){return(0,s.hc)(e,{streamingContent:void 0,isStreaming:!1})}function g(e,t){return(0,s.hc)(e,{isStreaming:t})}function p(e){return(0,s.hc)(e,{activeTools:void 0})}},73622(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(9935),r=n(84051),a=n(39761),o=n(41257);function i(e,t){const n=(0,o.i)(t);(0,r.Nf)(()=>{const t=e.current;if(t)return()=>{const e=n.current;e&&Object.entries(e).forEach(([e,n])=>{t.removeEventListener((0,s.xE)(e,t),n,!1)}),(0,r.qF)(()=>{(0,a.A)(t)})}},[n,e])}},73767(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);const r=function(e,t){const n=(0,s.li)(),{current:r}=n;return t&&void 0===e||(n.current=e),r}},74065(e,t,n){"use strict";n.d(t,{En:()=>g,dI:()=>m,lx:()=>h});var s=n(31481),r=n(37836);const a=new Map,o=new Map,i=new Map,c=document.createElement("style");function d(e,t,n){n?(a.delete(e),o.set(e,t),i.set(e,n)):(a.set(e,t),o.delete(e),i.delete(e)),u||(u=!0,(0,r.IJ)(l))}document.head.appendChild(c);let u=!1;function l(){const e=f(a),t=f(o),n=f(i);c.textContent=`\n    html {\n      ${e}\n    }\n\n    html.theme-light {\n      ${t}\n    }\n\n    html.theme-dark {\n      ${n}\n    }\n  `}function f(e){return Array.from(e.entries()).map(([e,t])=>`--${e}: ${t};`).join(" ")}function g(e){p("0",["#D45246"]),p("1",["#F68136"]),p("2",["#6C61DF"]),p("3",["#46BA43"]),p("4",["#5CAFFA"]),p("5",["#408ACF"]),p("6",["#D95574"]),Object.entries(e).forEach(([e,t])=>{t.colors&&p(e,t.colors,t.darkColors)})}function p(e,t,n){const s=t[0],r=n?.[0];if(!s)return;const{bg:a,bgActive:o}=h(s),{bg:i,bgActive:c}=r?h(r):{bg:void 0,bgActive:void 0};d(`color-peer-${e}`,s,r),d(`color-peer-bg-${e}`,a,i),d(`color-peer-bg-active-${e}`,o,c),t.length>1&&d(`color-peer-gradient-${e}`,m(t),n?m(n):void 0)}function h(e){return{bg:`${e}${s.tP8}`,bgActive:`${e}${s.g0p}`}}function m(e){return 1===e.length?e[0]:`repeating-linear-gradient(-45deg, ${e.map((e,t)=>`${e} ${t*s.D$I}px, ${e} ${(t+1)*s.D$I}px`).join(", ")})`}},74824(e,t,n){"use strict";n.d(t,{Type:()=>c,clear:()=>l,fetch:()=>d,isCacheApiSupported:()=>i,save:()=>u});var s=n(4350);const r=self.caches,a=s.Xz?`_${s.Xz}`:"";let o;async function i(){return!!r&&(o=o??await r.has("test").then(()=>!0).catch(()=>!1),o)}let c=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});async function d(e,t,n,s=!1){if(r)try{const o=new Request(t.replace(/:/g,"_")),i=await r.open(`${e}${a}`),d=await i.match(o);if(!d)return;const u=d.headers.get("Content-Type");switch(n){case c.Text:return await d.text();case c.Blob:{if(t.startsWith("avatar")&&u&&u.startsWith("text"))return;const e=await d.blob(),n=!e.type||!s&&e.type.includes("html");let r=e.type||u;return n&&r?(s||(r=r.replace(/html/gi,"")),new Blob([e],{type:r})):e}case c.Json:return await d.json();case c.ArrayBuffer:return await d.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function u(e,t,n){if(!r)return!1;try{const s="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),o=new Request(t.replace(/:/g,"_")),i=new Response(s),c=await r.open(`${e}${a}`);return await c.put(o,i),!0}catch(e){return console.warn(e),!1}}async function l(e){try{if(!r)return;return await r.delete(`${e}${a}`)}catch(e){return void console.warn(e)}}},75357(e,t,n){"use strict";n.d(t,{oA:()=>l,Z3:()=>u,Uj:()=>f,dL:()=>p,A:()=>d});const s={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let r=console.error;const a=new Map;let o,i="measure",c=!1;function d(e){i=e}function u(){c||(c=!0,Object.entries(s).forEach(([e,t])=>{const n=window[e];if(!n)return;const s="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach(t=>{const n=Object.getOwnPropertyDescriptor(s,t)?.get;n&&(a.set(`${e}#${t}`,n),Object.defineProperty(s,t,{get(){return h(t),n.call(this)}}))}),"methods"in t&&t.methods.forEach(t=>{const n=s[t];a.set(`${e}#${t}`,n),s[t]=function(...e){return h(t),n.apply(this,e)}})}),o=new MutationObserver(e=>{"mutate"!==i&&e.forEach(({target:e,type:t,attributeName:n})=>{document.contains(e)&&(g.has(e)||"childList"===t&&e instanceof HTMLElement&&e.contentEditable||n?.startsWith("data-")||r(new Error(`Unexpected mutation detected: \`${"attributes"===t?n:t}\``)))}),g.clear()}),o.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function l(){c&&(o?.disconnect(),o=void 0,Object.entries(s).forEach(([e,t])=>{const n=window[e];if(!n)return;const s="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach(t=>{const n=a.get(`${e}#${t}`);n&&Object.defineProperty(s,t,{get:n})}),"methods"in t&&t.methods.forEach(t=>{s[t]=a.get(`${e}#${t}`)})}),a.clear(),c=!1)}function f(e){if("mutate"!==i)throw new Error("The current phase is 'measure'");i="measure";const t=e();return i="mutate",t}const g=new Set;function p(e,t){if("measure"!==i)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach(e=>{g.add(e)}):g.add(t)),e()}function h(e){"measure"!==i&&r(new Error(`Unexpected measurement detected: \`${e}\``))}},76023(e,t,n){"use strict";n.d(t,{$:()=>c,$w:()=>_,AC:()=>f,Wd:()=>d,_e:()=>l,bu:()=>A,cf:()=>u,ck:()=>v,kn:()=>b,ky:()=>k,mr:()=>S,rO:()=>w,ri:()=>I,sk:()=>P,tP:()=>C,w4:()=>y,wy:()=>i});var s=n(31481),r=n(90709),a=n(96454),o=n(43503);const i="(max-height: 640px)",c=parseInt(getComputedStyle(document.documentElement).fontSize,10),d=240,u={width:640,height:640},l={width:800,height:800},f="4986041492570112461",g={width:100,height:100};let p,h,m;function y(e,t,n,s){const r=t?1.625:0,a=function(e,t,n){if(!n)return e?30:29;const{width:s}=o.A.get();return p||(p=Math.min(30,s/c-4.5)),h||(h=Math.min(29,s/c-7)),m||(m=Math.min(29,s/c-4.5)),e?p:t?m:h}(e,n,s)-r;return a*c}function b({width:e,height:t,fromOwnMessage:n,isWebPageMedia:s,isGif:r,noAvatars:a,isMobile:o}){const i=t/e,d=y(n,s,a,o),u=function(e,t){return e&&t&&t>=.75&&t<=1.25?20*c:27*c}(r,i),l=r?Math.max(300,e):e;return k(d,u,l,r?t*(l/e):t)}function _(e,t){const n=window.matchMedia(i),{width:s,height:r}=o.A.get();let d=t&&n.matches?10:8.25;return e&&!a.TF&&(d=n.matches?10:12.5),{width:s,height:r-d*c}}function v(e,t,n,s,a,o){const{width:i,height:c}=(0,r.xi)(e)||g;return b({width:i,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:s,noAvatars:a,isMobile:o})}function w(e,t,n,s,a,o){const{width:i,height:c}=(0,r.NZ)(e)||g;return b({width:i,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:s,isGif:e.isGif,noAvatars:a,isMobile:o})}function I(e,t,n,s,r,a){const{width:o=g.width,height:i=g.height}=e;return b({width:o,height:i,fromOwnMessage:t,asForwarded:n,isWebPageMedia:s,noAvatars:r,isMobile:a})}function S(){return{width:2*c,height:2*c}}function C(e){return e?{width:3*c,height:3*c}:{width:3.375*c,height:3.375*c}}function A(e,t){const{width:n}=e;let{height:r}=e;e.id===f&&(r=n);const a=r&&n&&r/n,o=c*(t?s.naf:s.H4O),i=a?o*a:o;return a&&i>o?{width:Math.round(o/a),height:o}:{width:o,height:i}}function P({width:e,height:t},n,s=!1){const{width:r,height:a}=_(n,s);return k(r,a,e,t)}function k(e,t,n,s){const r=s/n,a=Math.min(n,e);return Math.round(a*r)>t?{width:Math.round(t/r),height:t}:{width:a,height:Math.round(a*r)}}},76471(e,t,n){"use strict";n.d(t,{A:()=>f});var s=n(84051),r=n(31481),a=n(87357),o=n(90603),i=n(14242),c=n(4961),d=n(18276);const u="A72KeAmh";var l=n(20021);const f=(0,s.ph)(({className:e,letterClassName:t,topicId:n,iconColor:s,title:f,onClick:g})=>{const p=(0,o.GR)(s);return n===r.HxB?(0,l.Y)(d.A,{name:"hashtag",className:(0,a.A)(u,e,"general-forum-icon"),onClick:g}):(0,l.FD)("div",{className:(0,a.A)(u,e),onClick:g,children:[(0,l.Y)("img",{className:"eLEPgwPj",src:p,alt:"",draggable:!1}),(0,l.Y)("div",{className:(0,a.A)("ZQJO2BKn",t,"topic-icon-letter"),children:(0,c.A)((0,i.Qh)(f,1))})]})})},77312(e,t,n){"use strict";n.d(t,{$r:()=>ie,AB:()=>Y,Ax:()=>_,Ct:()=>O,Cz:()=>J,EO:()=>ce,JU:()=>se,KG:()=>Q,LK:()=>ne,Ml:()=>y,Mw:()=>q,NO:()=>I,NZ:()=>te,Op:()=>x,Pg:()=>L,Qm:()=>v,T_:()=>C,VD:()=>R,VO:()=>z,Xn:()=>Z,ZV:()=>d,cs:()=>w,cy:()=>j,eY:()=>k,eh:()=>de,fB:()=>S,fP:()=>h,gB:()=>p,hr:()=>b,iZ:()=>ae,ih:()=>H,lH:()=>re,lk:()=>f,mR:()=>c,mU:()=>D,mr:()=>V,nd:()=>P,qG:()=>A,rI:()=>N,rU:()=>T,r_:()=>i,rj:()=>M,rt:()=>U,sC:()=>F,sd:()=>oe,si:()=>X,wp:()=>g,xi:()=>ee,y2:()=>B,y3:()=>E,yl:()=>u,zC:()=>m,zX:()=>l,zb:()=>W});var s=n(23174),r=n(96454),a=n(91525),o=n(86525);function i(e){return e.content}function c(e){return Boolean(u(e)||l(e)||m(e)||h(e)||v(e)||w(e)||function(e){return e.content.todo}(e)||function(e){return e.content.action}(e)||g(e)||p(e))}function d(e){const{video:t,...n}=e.content;return!t?.isRound&&!Object.keys(n).length}function u(e){return e.content.photo}function l(e){return e.content.video}function f(e){const{video:t}=e.content;return t?.isRound?t:void 0}function g(e){return e.content.audio}function p(e){return e.content.voice}function h(e){return e.content.sticker}function m(e){return e.content.document}function y(e){return"photo"===e.innerMediaType}function b(e){return"video"===e.innerMediaType}function _(e){const t=m(e);return t?"image/webp"===t.mimeType:void 0}function v(e){return e.content.contact}function w(e){return e.content.pollId}function I(e){return e.content.invoice}function S(e){return e.content.location}function C(e){return e.content.webPage}function A(e){return e.content.paidMedia}function P(e){const t=m(e);return t&&y(t)?t:void 0}function k(e){return"full"===e?.webpageType?e.photo:void 0}function T(e){return"full"===e?.webpageType?e.video:void 0}function E(e){return"full"===e?.webpageType?e.audio:void 0}function M(e){return"full"===e?.webpageType?e.document:void 0}function x(e){const t=m(e);return t&&b(t)?t:void 0}function R(e){return e.thumbnail?.dataUri}function B(e){const t=u(e)||l(e),n=I(e)?.extendedMedia;return Boolean(n||t?.isSpoiler)}function U(e,t,n,s,r){const{long:a,lat:o,accessHash:i,accuracyRadius:c}=e;return`staticMap:${i}?lat=${o}&long=${a}&w=${t}&h=${n}&zoom=${s}&scale=${r}&accuracyRadius=${c}`}function N(e,t,n){const s=`photo${e.id}`,r="photo"===e.mediaType&&e.isVideo;switch(t){case"micro":case"pictogram":return`${s}?size=${n?"a":"m"}`;case"inline":return Q(e)?void 0:`${s}?size=${n?"b":"x"}`;case"preview":return`${s}?size=${n?"b":"x"}`;case"download":return r?L(e):s;default:return s}}function D(e){return`photo${e.id}?size=c`}function L(e){if(e.isVideo)return`photo${e.id}?size=u`}function F(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return`${n}?size=m`;case"inline":return Q(e)?void 0:K(e,n);case"preview":return`${n}?size=x`;case"download":return`${n}?download`;default:return K(e,n)}}function O(e){return e.hasVideoPreview?`document${e.id}?size=v`:void 0}function V(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":case"inline":case"preview":if(!(0,a.ON)(e)||Q(e))return;return`${n}?size=m`;default:return n}}function $(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return Y(e)?`${n}?size=m`:void 0;case"inline":return K(e,n);case"download":return`${n}?download`;default:return n}}function G(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return;case"download":return`${n}?download`;default:return n}}function j(e){if(e)return`webDocument:${e.url}`}function q(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return e.previewPhotoSizes?.some(e=>"s"===e.type)?`${n}?size=s`:q(e,"preview");case"preview":return`${n}?size=m`;case"download":return`${n}?download`;default:return n}}function z(e,t){switch(e.mediaType){case"photo":return N(e,t);case"video":return F(e,t);case"document":return V(e,t);case"audio":return $(e,t);case"voice":return G(e,t);case"sticker":return q(e,t);case"webDocument":return j(e);default:return}}function W(e){const{photo:t}=e;if(t)return`photo${t.id}?size=x`}function H(e){const{document:t}=e;if(t)return`document${t.id}`}function K(e,t){if(r.Uz&&r.Yw){const n=new URL(t,window.location.href);return n.searchParams.append("fileSize",e.size.toString()),n.searchParams.append("mimeType",e.mimeType),n.toString()}return t}function Y(e){return e.thumbnailSizes&&e.thumbnailSizes.length>0}function J(e,t){const n="document"===e.mediaType&&"video"===e.innerMediaType,a="video"===e.mediaType||n,o="audio"===e.mediaType,i="voice"===e.mediaType,c=X(e)||0;return"download"===t?r.Uz&&c>r.kn&&!r.l5?s.qZ.DownloadUrl:s.qZ.BlobUrl:a&&r.Uz&&("full"===t||"inline"===t)?s.qZ.Progressive:o||i?i&&!r.Oo?s.qZ.BlobUrl:s.qZ.Progressive:s.qZ.BlobUrl}function X(e){return"size"in e?e.size:void 0}function Q(e){return"blobUrl"in e?Boolean(e.blobUrl):"previewBlobUrl"in e&&Boolean(e.previewBlobUrl)}function Z(e){return e.sizes.find(e=>"w"===e.type)||e.sizes.find(e=>"y"===e.type)||ee(e)}function ee(e){return e.sizes.find(e=>"x"===e.type)||e.sizes.find(e=>"m"===e.type)||e.sizes.find(e=>"s"===e.type)||e.thumbnail}function te(e){if(e.width&&e.height)return e}function ne(e,t=!1,n=!1){return{isUploading:n,isTransferring:n||t,transferProgress:e||0}}function se(e){return"video"===e.mediaType?e.isRound?"voice":e.isGif?"gif":"media":"audio"===e.mediaType?"audio":"voice"===e.mediaType?"voice":"document"===e.mediaType?"documents":"photo"===e.mediaType?"media":void 0}function re(e,t,n){let s;switch(n){case"media":s=e=>{const t=l(e);return u(e)||t&&!t.isRound&&!t.isGif};break;case"documents":s=m;break;case"gif":s=e=>{const t=l(e);return t?.isGif};break;case"links":s=e=>C(e)||(0,o.xH)(e);break;case"audio":s=g;break;case"voice":s=e=>{const t=l(e);return p(e)||t&&t.isRound};break;default:return[]}return t.reduce((t,n)=>(e[n]&&s(e[n])&&t.push(n),t),[])}function ae(e){return!(!e.content||!e.content.photo&&(!e.content.video||e.content.video.isRound||e.content.video.isGif))}function oe(e){if("fileName"in e&&e.fileName)return e.fileName;if("sticker"===e.mediaType){const t=e.isLottie?"tgs":e.isVideo?"webm":"webp";return`${e.id}.${t}`}return"photo"===e.mediaType?`${e.id}.${e.isVideo?"mp4":"jpg"}`:"voice"===e.mediaType?`${e.id}.${r.Oo?"ogg":"wav"}`:"id"in e&&e.id?e.id:`${e.mediaType}-${Math.random().toString(36).slice(4)}`}function ie(e,t){const n=z(t,"download");return!!n&&Boolean(e[n])}function ce(e,t,n){const{video:s,sticker:r,audio:a,voice:o,document:i}=e.content,{webPage:c}=t,d=u(e)||k(c),l=function(e){return"suggestProfilePhoto"===e.content.action?.type?e.content.action.photo:void 0}(e),f=s||T(c),g=i||M(c),p=a||E(c);return f?F(f,n):d||l?N(d||l,n,Boolean(l)):g?V(g,n):r?q(r,n):p?$(p,n):o?G(o,n):void 0}function de(e,t){const n=Boolean(u(e)||l(e)),s=Boolean(g(e)||p(e)||m(e)),r=(0,o.ES)(t);return n&&("photo"===r||"video"===r)||s&&("audio"===r||"file"===r)}},78396(e,t,n){"use strict";n.d(t,{T8:()=>a,aL:()=>r,m4:()=>o});var s=n(23174);function r(e,t){const n=`sticker${e}`;return t?`${n}?size=m`:n}function a(e){return e.entities?.some(e=>e.type===s.C7.CustomEmoji)}function o(e){if(!e.entities)return e;const t=e.entities.filter(e=>e.type!==s.C7.CustomEmoji);return{...e,entities:t}}},79089(e,t,n){"use strict";n.d(t,{CD:()=>l,Gh:()=>h,Kl:()=>y,PF:()=>f,PL:()=>g,UB:()=>m,Yg:()=>u,kR:()=>b,tv:()=>p,u0:()=>d});var s=n(31481),r=n(17663),a=n(21309),o=n(87894),i=n(64713),c=n(80140);function d(e){if(e)switch(e.type){case"userTypeBot":return e.firstName;case"userTypeRegular":return e.firstName||e.lastName;case"userTypeDeleted":case"userTypeUnknown":return"Deleted";default:return}}function u(e){if(e){if(g(e))return"Deleted Account";switch(e.type){case"userTypeBot":case"userTypeRegular":if(e.firstName&&e.lastName)return`${e.firstName} ${e.lastName}`;if(e.firstName)return e.firstName;if(e.lastName)return e.lastName;if(e.phoneNumber)return`+${(0,i.n4)(e.phoneNumber)}`}}}function l(e,t,n){if(t.id===s.zv8)return e("ServiceNotifications");if(t.isSupport)return e("SupportStatus");if(t.type&&"userTypeBot"===t.type)return t.botActiveUsers?e("BotUsers",t.botActiveUsers,"i"):e("Bot");if(!n)return"";switch(n.type){case"userStatusEmpty":return e("ALongTimeAgo");case"userStatusLastMonth":return e("WithinAMonth");case"userStatusLastWeek":return e("WithinAWeek");case"userStatusOffline":{const{wasOnline:t}=n;if(!t)return e("LastSeen.Offline");const s=(0,c.SF)(),a=new Date(Date.now()+1e3*s),o=new Date(1e3*t);if(o>=a)return e("LastSeen.JustNow");const i=new Date(a.getTime()-o.getTime());if(i.getTime()/1e3<60)return e("LastSeen.JustNow");if(i.getTime()/1e3<3600)return e("LastSeen.MinutesAgo",Math.floor(i.getTime()/1e3/60));const d=new Date;if(d.setHours(0,0,0,0),o>new Date(d.getTime()+1e3*s))return i.getTime()/1e3<21600?e("LastSeen.HoursAgo",Math.floor(i.getTime()/1e3/60/60)):e("LastSeen.TodayAt",(0,r.fU)(e,o));const u=new Date;return u.setDate(a.getDate()-1),u.setHours(0,0,0,0),o>new Date(u.getTime()+1e3*s)?e("LastSeen.YesterdayAt",(0,r.fU)(e,o)):e("LastSeen.AtDate",(0,r.Lu)(e,o))}case"userStatusOnline":return e("Online");case"userStatusRecently":return e("Lately");default:return}}function f(e,t,n=!1){const{id:r,type:a}=e;return!(!t||r===s.zv8||e.isSelf&&!n||"userStatusOnline"!==t.type||"userTypeBot"===a)}function g(e){return("userTypeDeleted"===e.type||"userTypeUnknown"===e.type)&&e.id!==s.zv8}function p(e){return"userTypeBot"===e.type}function h(e){return!e.isSelf&&!e.isContact&&!p(e)&&e.id!==s.Ckz}function m(e,t,n,s){return(0,o.My)(e,e=>{const r=(0,c.Fm)();if(s&&s.includes(e))return r+172800-(s.length-s.indexOf(e));const o=t[e],i=n[e];if(!o||!i)return 0;if("userStatusOnline"===i.type)return i.expires;if("userStatusOffline"===i.type&&i.wasOnline)return i.wasOnline;switch(i.type){case"userStatusRecently":return r-a.d_;case"userStatusLastWeek":return r-7*a.d_;case"userStatusLastMonth":return r-7*a.d_*30;default:return 0}},"desc")}function y(e){return e.usernames?.find(e=>e.isActive)?.username}function b(e){return`peer-story${e}`}},79824(e,t,n){"use strict";n.d(t,{p:()=>s});const s=[]},80089(e,t,n){"use strict";n.d(t,{If:()=>g,Vw:()=>l,ar:()=>a,gt:()=>f,po:()=>u});var s=n(31481),r=n(46536);let a=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Calls=3]="Calls",e[e.Stars=4]="Stars",e}({});const o={},i={},{addCallback:c,runCallbacks:d}=(0,r.h)();async function u(e){if(!o[e]){switch(e){case a.Auth:o[a.Auth]=Promise.all([n.e(4765),n.e(7405)]).then(n.bind(n,32794));break;case a.Main:s.Oig&&console.log(">>> START LOAD MAIN BUNDLE"),o[a.Main]=Promise.all([n.e(4765),n.e(213),n.e(1670),n.e(3892),n.e(2859),n.e(7768)]).then(n.bind(n,13099));break;case a.Extra:o[a.Extra]=Promise.all([n.e(4765),n.e(213),n.e(1670),n.e(3892),n.e(7426),n.e(9451)]).then(n.bind(n,51734));break;case a.Calls:o[a.Calls]=Promise.all([n.e(4765),n.e(213),n.e(2859),n.e(2394)]).then(n.bind(n,83320));break;case a.Stars:o[a.Stars]=Promise.all([n.e(4765),n.e(213),n.e(1670),n.e(7426),n.e(6930)]).then(n.bind(n,46544))}o[e].then(d)}const t=await o[e];return i[e]||(i[e]=t),t}async function l(e){await u(e)}function f(e,t){const n=i[e];if(n)return n[t]}const g=c},80140(e,t,n){"use strict";n.d(t,{Fm:()=>o,SF:()=>a,SH:()=>r});let s=0;function r(e){s=e}function a(){return s}function o(){return Math.floor(Date.now()/1e3)+s}},80464(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(31481),a=n(80089),o=n(30857);const i=(e,t,n=!1,i=!1)=>{const c=(0,a.gt)(e,t),d=(0,o.A)();return(0,s.vJ)(()=>{if(i)return(0,a.If)(d)},[i,d]),(0,s.vJ)(()=>{n||c||(r.Oig&&console.log("Module load triggered",e,t),(0,a.Vw)(e).then(d))},[e,d,c,t,n]),c}},80853(e,t,n){"use strict";function s(e){e.dataset.patchedForSafari||(e.addEventListener("play",()=>{const t=e.currentTime;e.dataset.patchForSafariInProgress="true",e.addEventListener("progress",function n(){e.buffered.length&&(e.currentTime=e.duration-1,e.addEventListener("progress",()=>{delete e.dataset.patchForSafariInProgress,e.currentTime=t,e.paused&&!e.dataset.preventPlayAfterPatch&&e.play()},{once:!0}),e.removeEventListener("progress",n))})},{once:!0}),e.dataset.patchedForSafari="true")}function r(e){return Boolean(e.dataset.patchForSafariInProgress)}n.d(t,{C:()=>s,f:()=>r})},82117(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(84051);const r=(e,t,n)=>{const r=(0,s.li)();return(0,s.vJ)(()=>{const n=r.current;return r.current=t,e(n||[])},t,n)}},82150(e,t,n){"use strict";n.d(t,{iR:()=>Y,o4:()=>A,Kc:()=>S,fg:()=>N,Iw:()=>J,AH:()=>M,XA:()=>x,hj:()=>Z,v:()=>E,It:()=>q,l3:()=>z,T4:()=>H,qK:()=>B,tT:()=>C,n4:()=>w,ew:()=>I,o7:()=>te,gz:()=>L,s3:()=>D,yr:()=>W,r3:()=>P,MN:()=>y,kV:()=>G,Cf:()=>ee,d4:()=>R,E0:()=>U,J8:()=>ne,DL:()=>se,xA:()=>Q,QN:()=>T,tM:()=>$,Eg:()=>k,Ff:()=>V,EK:()=>j,e4:()=>_,eA:()=>F,Ng:()=>O,Ww:()=>K,mR:()=>X});var s=n(23174),r=n(31481),a=n(22986),o=n(70874),i=n(14487),c=n(87894),d=n(60343),u=n(90709),l=n(17237);function f(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some(e=>e.type!==s.C7.CustomEmoji)&&(0,l.A)(e.text.text)||void 0}var g=n(91048),p=n(68344),h=n(32989),m=n(95753);function y(e,t,n=s.l3,a="thread",o,c,...[d=(0,i.g0)()]){const{messageLists:u}=(0,g.nTw)(e,d);let l=u;if(o||r.W75&&!r.fng)l=t?[{chatId:t,threadId:n,type:a}]:[];else if(t){const s=u[u.length-1];if(s?.chatId===t&&s.threadId===n&&s.type===a)return e;if(s&&(s.chatId===r.Xab||c))l=[...u.slice(0,-1),{chatId:t,threadId:n,type:a}];else{const e=u[u.length-2];l=e?.chatId===t&&e.threadId===n&&e.type===a?u.slice(0,-1):[...u,{chatId:t,threadId:n,type:a}]}}else l=u.slice(0,-1);return(0,h.w)(e,{messageLists:l},d)}function b(e,t,n){return v(e,t,{byId:n})}function _(e,t,n,s){if(!s)return v(e,t,{threadsById:(0,c.cJ)(e.messages.byChatId[t]?.threadsById,[n])});const r=e.messages.byChatId[t];return v(e,t,{threadsById:{...r?.threadsById,[n]:{...r?.threadsById[n],...s}}})}function v(e,t,n){const s=e.messages.byChatId[t]||{byId:{},threadsById:{}};return{...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...s,...n}}}}}function w(e,t,n,s,r,...[a=(0,i.g0)()]){return"viewportIds"===s&&(e=I(e,t,n,"lastViewportIds",r)),function(e,t,n,s,...[r=(0,i.g0)()]){const a=(0,g.nTw)(e,r),o=a.tabThreads[t]?.[n]||{};return(0,h.w)(e,{tabThreads:{...a.tabThreads,[t]:{...a.tabThreads[t],[n]:{...o,...s}}}},r)}(e,t,n,{[s]:r},a)}function I(e,t,n,s,r){return _(e,t,n,{[s]:r})}function S(e,t){const n=t.reduce((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e),{});return Object.keys(n).forEach(t=>{e=A(e,t,n[t])}),e}function C(e,t){const n=t.reduce((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e),{});return Object.keys(n).forEach(t=>{const s={...(0,g.zeq)(e,t)||{},...n[t]};e=b(e,t,s)}),e}function A(e,t,n){const s=(0,g.zeq)(e,t);return s&&Object.keys(n).every(e=>Boolean(s[Number(e)]))?e:b(e,t,{...n,...s})}function P(e,t,n,s,r=!1){const i=(0,g.zeq)(e,t)||{},d=i[n];if(r&&d){const t=Object.keys(s);if((0,a.T)((0,c.Up)(d,t),s))return e}d&&!1===s.isMediaUnread&&(0,u.G5)(d)&&(d.content.voice?s.content={action:{mediaType:"action",type:"expired",isVoice:!0}}:d.content.video?.isRound&&(s.content={action:{mediaType:"action",type:"expired",isRoundVideo:!0}}));let l=d?.content?.text;if(s.content){const e=f(s.content,d?.groupedId||s.groupedId);l=s.content.text?(0,o.j)(s.content.text):l,l&&(l.emojiOnlyCount=e)}const p=(0,c.Oy)({...d,...s,text:l});return p.id?b(e,t,{...i,[n]:p}):e}function k(e,t,n,s){const r=(0,g.Jl6)(e,t,n);let a=r?.content?.text;if(s.content){const e=f(s.content,r?.groupedId||s.groupedId);a=s.content.text?(0,o.j)(s.content.text):a,a&&(a.emojiOnlyCount=e)}const i={...r,...s,text:a};return i.id?V(e,t,{[n]:i}):e}function T(e,t,n){const s={...(0,g.N1i)(e,t),...n};return s.id?$(e,{[t]:s}):e}function E(e,t){const n=e.quickReplies.messagesById,s=(0,c.cJ)(n,t);return{...e,quickReplies:{...e.quickReplies,messagesById:s}}}function M(e,t,n){const r=(0,g.zeq)(e,t);if(!r)return e;(0,u.Ld)(n);const a=new Map;a.set(s.l3,n);const o=[];n.forEach(n=>{const i=r[n];if(!i)return;(0,u.iZ)(i)&&o.push(n);const c=(0,g.L_2)(e,i);if(!c||c===s.l3)return;const d=a.get(c)||[];d.push(n),a.set(c,d),e=(0,m.gt)(e,t,n)});const i=Object.values((0,c._E)(r,n)).filter(({forwardInfo:e})=>e?.isLinkedChannelPost);a.forEach((s,r)=>{const a=(0,g.Vw0)(e,t,r);let i=(0,g.gCU)(e,t,r),l=(0,g.fcC)(e,t,r),f=(0,g.JiE)(e,t,r),h=a?.messagesCount;i&&(i=(0,c.lK)(i,s)),f&&(f=f.map(e=>(0,c.lK)(e,s))),l&&(l=(0,c.lK)(l,(0,u.vp)(s)));const m=s.filter(e=>!(0,d.iL)(e)).length;void 0!==h&&(h-=m),Object.values(e.byTabId).forEach(({id:s})=>{const a=(0,g.nTw)(e,s);Object.entries(a.activeDownloads).filter(([,{originChatId:e,originMessageId:n}])=>e===t&&n).forEach(([t,r])=>{n.includes(r.originMessageId)&&(e=J(e,[t],s))}),o.forEach(n=>{e=(0,p.cs)(e,t,r,n,s)});const i=(0,g.rA3)(e,t,r,s);if(!i)return;const d=(0,c.lK)(i,n);e=w(e,t,r,"viewportIds",0===d.length?void 0:d,s)}),e=I(e,t,r,"listedIds",i),e=I(e,t,r,"outlyingLists",f),e=I(e,t,r,"pinnedIds",l),a&&void 0!==h&&(e=F(e,t,r,{messagesCount:h}))}),i.length&&Object.values(e.byTabId).forEach(({id:n})=>{const s=(0,g.Xf0)(e,n),r=s&&s.chatId===t&&"thread"===s.type,a=s?.threadId;i.forEach(s=>{const{fromChatId:o,fromMessageId:i}=s.forwardInfo,c=(0,g.O5q)(e,o,i);r&&a===s.id&&(e=y(e,t,void 0,void 0,void 0,void 0,n)),c&&(e=_(e,o,i,void 0))})});const l=(0,c.cJ)(r,n);return e=b(e,t,l)}function x(e,t,n){const r=(0,g.yFI)(e,t);if(!r)return e;const a=(0,c.cJ)(r,n);let o=(0,g.K3w)(e,t,s.l3);return o&&(n.forEach(e=>{o.includes(e)&&(o=o.filter(t=>t!==e))}),e=I(e,t,s.l3,"scheduledIds",o),Object.entries(e.messages.byChatId[t].threadsById).forEach(([s,r])=>{if(r.scheduledIds){const a=r.scheduledIds.filter(e=>!n.includes(e));e=I(e,t,Number(s),"scheduledIds",a)}})),e={...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{byId:a}}}}}function R(e,t,n,s){const r=(0,g.gCU)(e,t,n),a=r?.length?s.filter(e=>!r.includes(e)):s;return r&&!a.length?e:I(e,t,n,"listedIds",(0,u.Ld)([...r||[],...a]))}function B(e,t,n,s){const r=(0,g.JiE)(e,t,n);return r?I(e,t,n,"outlyingLists",r.filter(e=>e!==s)):e}function U(e,t,n,s){if(!s.length)return e;const r=(0,g.JiE)(e,t,n);return I(e,t,n,"outlyingLists",(0,u.cR)(r||[],s))}function N(e,t,n,s,...[a=(0,i.g0)()]){const o=(0,g.rA3)(e,t,n,a)||[];return o.includes(s)?e:w(e,t,n,"viewportIds",(0,u.Ld)([...o.length<r.IRc?o:o.slice(-r.yo2/2),s]),a)}function D(e,t,n,s,...[r=(0,i.g0)()]){const a=(0,g.rA3)(e,t,n,r)||[],o=(0,u.Ld)(s);return w(e,t,n,"viewportIds",(0,c.k)(a,o)?a:o,r)}function L(e,t,n,s){const r=(0,g.fcC)(e,t,n)||[],a=(0,u.vp)(s);return I(e,t,n,"pinnedIds",(0,c.k)(r,a)?r:a)}function F(e,t,n,s,r){const a={...(0,g.Vw0)(e,t,n),...s};if(!r&&!a.isCommentsInfo){const t=(0,c.Up)(a,["messagesCount","lastMessageId","lastReadInboxMessageId"]);a.fromChannelId&&a.fromMessageId&&(e=F(e,a.fromChannelId,a.fromMessageId,t,!0))}return I(e,t,n,"threadInfo",a)}function O(e,t){return t.forEach(t=>{e=F(e,t.isCommentsInfo?t.originChannelId:t.chatId,t.isCommentsInfo?t.originMessageId:t.threadId,t)}),e}function V(e,t,n){const s=e.scheduledMessages.byChatId[t]||{byId:{},hash:0};return{...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{...s,byId:{...s.byId,...n}}}}}}function $(e,t){return{...e,quickReplies:{...e.quickReplies,messagesById:{...e.quickReplies.messagesById,...t}}}}function G(e,t,...[n=(0,i.g0)()]){return t?(0,h.w)(e,{focusedMessage:{...(0,g.nTw)(e,n).focusedMessage,...t}},n):(0,h.w)(e,{focusedMessage:void 0},n)}function j(e,t,n){return{...e,messages:{...e.messages,sponsoredByChatId:{...e.messages.sponsoredByChatId,[t]:n}}}}function q(e,t){const n=e.messages.sponsoredByChatId;return n[t]?{...e,messages:{...e.messages,sponsoredByChatId:(0,c.cJ)(n,[t])}}:e}function z(e,t,n,...[s=(0,i.g0)()]){const r=n?Array.prototype.concat([],n):[];return(0,h.w)(e,{selectedMessages:{chatId:t,messageIds:r}},s)}function W(e,t,n,s,r,a,o,d=!1,...[u=(0,i.g0)()]){const{selectedMessages:l}=(0,g.nTw)(e,u);a&&(o=(0,g.D_S)(e,t,a));const f=o||[r];if(!l)return z(e,t,f,u);const{messageIds:p}=l;let m;const y=f.filter(e=>!p.includes(e));if(y&&!y.length)m=p.filter(e=>!f.includes(e));else if(d&&p.length){const a=(0,g.vRX)(e,t,n,s,u),o=a.indexOf(p[p.length-1]),i=a.indexOf(r),d=Math.min(o,i),l=Math.max(o,i),f=a.slice(d,l+1);m=(0,c.Am)([...p,...f])}else m=[...p,...y];return m.length?(0,h.w)(e,{selectedMessages:{...l,messageIds:m}},u):H(e,u)}function H(e,...[t=(0,i.g0)()]){return(0,h.w)(e,{selectedMessages:void 0},t)}function K(e,t,n,s,r){const{channelPostId:a,fromChatId:o}=t.forwardInfo||{};if(a&&o){const t=(0,g.Vw0)(e,n,a);t&&(e=I(e,n,a,"threadInfo",{...t,lastMessageId:s,messagesCount:(t.messagesCount||0)+(r?-1:1)}))}return e}function Y(e,t,n,...[s=(0,i.g0)()]){const r=(0,g.nTw)(e,s);return(0,h.w)(e,{activeDownloads:{...r.activeDownloads,[t]:n}},s)}function J(e,t,...[n=(0,i.g0)()]){const s=(0,g.nTw)(e,n),r=(0,c.cJ)(s.activeDownloads,t);return(0,h.w)(e,{activeDownloads:r},n)}function X(e,t,n){return{...e,fileUploads:{byMessageKey:void 0!==n?{...e.fileUploads.byMessageKey,[t]:{progress:n}}:(0,c.cJ)(e.fileUploads.byMessageKey,[t])}}}function Q(e,t){return{...e,quickReplies:{...e.quickReplies,byId:{...e.quickReplies.byId,...t}}}}function Z(e,t){return{...e,quickReplies:{...e.quickReplies,byId:(0,c.cJ)(e.quickReplies.byId,[t])}}}function ee(e,t,n){const s=(0,g.kgA)(e,t),r="full"===s?.webpageType?{...s,...n}:{webpageType:"full",mediaType:"webpage",...n};return r.id?te(e,t,r):e}function te(e,t,n){return{...e,messages:{...e.messages,webPageById:{...e.messages.webPageById,[t]:n}}}}function ne(e,t,n){const s=(0,g.KQQ)(e,t),r=s?.results;let a=r||n.results;s&&n.results?.results&&(s.results&&n.results.isMin?r.results&&(a={...n.results,results:n.results.results.map(e=>({...e,isChosen:r.results.find(t=>t.option===e.option)?.isChosen})),isMin:void 0}):a=n.results);const o={...s,...n,results:a};return o.id?{...e,messages:{...e.messages,pollById:{...e.messages.pollById,[t]:o}}}:e}function se(e,t,n,s){const r=(0,g.KQQ)(e,t);if(!r)return e;const{recentVoterIds:a,totalVoters:o,results:i}=r.results,c=a?[...a]:[],d=o?o+1:1,u=i?[...i]:[];return c.push(n),s.forEach(t=>{const s=u.findIndex(e=>e.option===t),r=u[s],a=r?{...r}:{option:t,votersCount:0};a.votersCount+=1,n===e.currentUserId&&(a.isChosen=!0),s?u[s]=a:u.push(a)}),ne(e,t,{results:{...r.results,recentVoterIds:c,totalVoters:d,results:u}})}},82855(e,t,n){"use strict";n.d(t,{A:()=>A});var s=n(84051),r=n(13439),a=n(90709),o=n(91048),i=n(96454),c=n(87357),d=n(58554),u=n(2338),l=n(37479),f=n(94519),g=n(37661),p=n(5912),h=n(62587),m=n(37960),y=n(19129),b=n(14745),_=n(38691),v=n(65843),w=n(18104);const I="AvU_FtMd",S="RrEzFxte";var C=n(20021);const A=(0,s.ph)(({containerRef:e,sticker:t,thumbClassName:n,fullMediaHash:A,fullMediaClassName:P,isSmall:k,size:T=24,customColor:E,loopLimit:M,shouldLoop:x=!1,shouldPreloadPreview:R,forceAlways:B,forceOnHeavyAnimation:U,observeIntersectionForLoading:N,observeIntersectionForPlaying:D,noLoad:L,noPlay:F,noVideoOnMobile:O,withSharedAnimation:V,withTranslucentThumb:$,sharedCanvasRef:G,onVideoEnded:j,onAnimatedStickerLoop:q})=>{const{id:z,isLottie:W,stickerSetInfo:H,emoji:K}=t,[Y,J]=(0,g.A)(),X=t.isVideo&&(!i.OF||O&&(i.pz||i.Ni)),Q=t.isVideo,Z=!W&&!Q,ee=(0,a.Mw)(t,"preview"),te=(0,_.A)(),ne=(0,l.A)(E),se=(0,p.Vz)(e,N),re=se&&!L,ae=(0,p.Vz)(e,D)&&se,oe=ae&&!F,ie=(0,s.li)(ae);!ie.current&&ae&&(ie.current=!0);const ce=d.Ih(ee),de=function(e){const[t,n]=(0,s.Ul)(!1),r=s.OV;return(0,s.vJ)(()=>{r()||n(!0)},[r,n]),(0,y.A)(()=>t()&&e,[t,e])}(ie.current),ue=X||(Z?k:F),le=!E&&!ce&&(!de||ue),fe=(0,h.A)(ee,!le),ge=le||ce,pe=Boolean(ue||A===ee&&(ce||fe)),he=(0,h.A)(A||`sticker${z}`,!re||pe),me=de&&Boolean(he)&&!Y,[ye,be]=(0,g.A)(),_e=me&&(Z||ye),ve=(0,u.A)(t.thumbnail),we=ce||fe||ve,Ie=G&&!$,Se=Boolean(W&&ge),{ref:Ce}=(0,m.A)({hasMediaData:Boolean(we&&!_e),noCloseTransition:Se}),{ref:Ae}=(0,m.A)({hasMediaData:_e,noOpenTransition:Se}),Pe=(0,f.A)(e,G);(0,h.A)(ee,!re||!R);const ke=(0,b.A)(),Te=(0,s.Kr)(()=>[V?"shared":ke,z,T,V?E:void 0,te].filter(Boolean).join("_"),[z,T,E,te,V,ke]);return(0,C.FD)(C.FK,{children:[(0,C.Y)("img",{ref:Ce,src:we,className:(0,c.A)("gYSfUe37",Se&&I,Ie&&"vbcXDDxa",n,"sticker-media"),style:ne,alt:"",draggable:!1}),me&&(W?(0,C.Y)(w.A,{ref:Ae,renderId:Te,size:T,className:(0,c.A)(S,(Se||Ie)&&I,P),tgsUrl:he,play:oe,noLoop:!x,forceOnHeavyAnimation:B||U,forceAlways:B,isLowPriority:k&&!(0,o.CzR)((0,r.mS)(),H),sharedCanvas:G?.current||void 0,sharedCanvasCoords:Pe,onLoad:be,onLoop:q,onEnded:q,color:E},Te):Q?(0,C.Y)(v.A,{ref:Ae,canPlay:oe,className:(0,c.A)(S,P,"sticker-media"),src:he,playsInline:!0,muted:!0,loop:x&&!M,isPriority:B,disablePictureInPicture:!0,onReady:be,onBroken:J,onEnded:j,style:ne}):(0,C.Y)("img",{ref:Ae,className:(0,c.A)(S,P,"sticker-media"),src:he,alt:K,style:ne,draggable:!1}))]})})},83057(e,t,n){"use strict";n.d(t,{A:()=>r});var s=n(50680);function r(e){const t=Boolean(e),{transitionClassNames:n}=(0,s.A)(t,void 0,t,"slow");return n}},83414(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(5718),a=n(41257),o=n(35297);const i=function(e,t,n=!1){const i=t?e:()=>e;t??=[e];const[c,d]=(0,s.Ul)(),u=(0,a.i)(i);function l(){const e=u.current;n?e(d):d(e())}return(0,o.A)(l,t),(0,r.R)(l,t),c}},83649(e,t,n){"use strict";function s(e){return"object"==typeof e&&"isDeleted"in e}function r(e){return!function(e){return"string"==typeof e}(e)&&!s(e)}function a(e){return Boolean(e)&&"object"==typeof e&&"key"in e&&!("type"in e)}function o(e){return"withNodes"in e&&Boolean(e.withNodes)}n.d(t,{JR:()=>s,Qw:()=>r,Yw:()=>a,Zh:()=>o})},83868(e,t,n){"use strict";n.d(t,{A:()=>s});const s=e=>{e.stopPropagation(),e.preventDefault()}},84051(e,t,n){"use strict";n.d(t,{$Z:()=>te,pT:()=>y,wr:()=>m,VK:()=>h.VK,ek:()=>F,Ay:()=>ne,OV:()=>h.OV,rO:()=>$,jo:()=>I,ph:()=>ee,bF:()=>G,qF:()=>h.qF,Cc:()=>V,s4:()=>j,hb:()=>X,vJ:()=>H,Nf:()=>K,Kr:()=>J,li:()=>Q,Ul:()=>Z,J0:()=>z,_W:()=>Y});var s=n(31481),r=n(5930),a=n(37836);const o=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let i={};const c=(0,a.nF)(function(){d||function(){d=document.createElement("div"),d.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(d);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="ðŸ”„",e.addEventListener("click",()=>{i={},c()}),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(i).reduce((e,[t,{value:n}])=>(o.has(t)||(t.includes("renders")&&n>e[0]&&(e[0]=n),t.includes("duration")&&n>e[1]&&(e[1]=n)),e),[0,0]);d.innerHTML=Object.entries(i).filter(([e,{value:t}])=>!o.has(e)&&(e.includes("renders")&&t>5||e.includes("duration")&&t>2)).sort((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt).map(([s,{value:r,lastUpdateAt:a}])=>{return[`<div style="background: #ff0000${o=r/(s.includes("renders")?t:n),Math.round(255*o).toString(16).padStart(2,"0")}">`,`  <span${a>e?' style="background: lightgreen"':""}>${s}: ${Math.round(r)}</span>`,"</div>"].join("\n");var o}).join("\n")},500,!1);let d;function u(e,t=1){const n=Date.now();i[e]?(i[e].value+=t,i[e].lastUpdateAt=n):i[e]={value:t,lastUpdateAt:n},c()}var l=n(87894),f=n(50110),g=n(22237),p=n(66644),h=n(8718);let m=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),y=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const b=Symbol("Fragment"),_=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let v,w=0;function I(e){return e.type===m.Tag||e.type===m.Component||e.type===m.Fragment}function S(e,t,...n){return e===b?function(e){return{type:m.Fragment,children:A(e,!0)}}(n):"function"==typeof e?function(e,t,n){n?.length&&(t.children=1===n.length?n[0]:n);const s={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:y.Unmounted};return s.$element=C(s),s.$element}(e,t||{},n):function(e,t,n){return{type:m.Tag,tag:e,props:t,children:A(n)}}(e,t||{},n)}function C(e,t){return{type:m.Component,componentInstance:e,props:e.props,children:t?A(t,!0):[]}}function A(e,t=!1){const n=function(e,t=!1){let n=e.length-1;for(;n>=0&&P(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),s=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];Array.isArray(r)?s.push(...A(r,t)):s.push(k(r))}return s}function P(e){return!e&&0!==e}function k(e){return P(e)?{type:m.Empty}:I(e)?e:{type:m.Text,value:String(e)}}const T={TOTAL:{name:"TOTAL",renders:0}},E={};s.Oig&&document.addEventListener("dblclick",()=>{console.warn("COMPONENTS",(0,l.My)(Object.values(T).map(({avgRenderTime:e,...t})=>({...t,...void 0!==e&&{avgRenderTime:Number(e.toFixed(2))}})),"renders","desc")),console.warn("MEMOS",(0,l.My)(Object.values(E).filter(({calls:e})=>e>=20).map(e=>({...e,hitRate:Number(e.hitRate.toFixed(2))})),"hitRate","asc"))});let M=new Set,x=new Set,R=new Map,B=new Map,U=new Map,N=new Map,D=!1;const L=(0,a.nb)(p.YS,()=>{if((0,h.Mb)())return void h.Mb.once(L);const e=F();x=new Set;const t=Array.from(M).sort((e,t)=>e.id-t.id);M=new Set;const n=B;B=new Map,n.forEach(e=>e());const s=R;R=new Map,s.forEach(e=>e()),(0,p.RK)(()=>{t.forEach(q),t.forEach(e=>{x.has(e.id)||function(e){if(e.mountState===y.Unmounted||!e.onUpdate)return;const t=e.$element;V(e),e.$element!==t&&e.onUpdate()}(e)}),e?.()})});function F(){if(!D)return D=!0,O}function O(){const e=N;N=new Map,e.forEach(e=>e());const t=U;U=new Map,t.forEach(e=>e()),D=!1}function V(e){x.add(e.id);const{Component:t,props:n}=e;let r;if((0,f.A)(()=>{let a;if(v=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),s.Oig){const e=te(t);T[e]||(T[e]={name:e,renders:0,avgRenderTime:0}),s.MVx&&(_.has(e)||console.log(`[Teact] Render ${e}`)),a=performance.now()}if(r=t(n),s.Oig){const e=performance.now()-a,n=te(t);e>7&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:r,avgRenderTime:o}=T[n];T[n].avgRenderTime=(o*r+e)/(r+1),T[n].renders++,T.TOTAL.renders++,s.MVx&&(u(`${n} renders`),u(`${n} duration`,e))}},{rescue:()=>{console.error(`[Teact] Error while rendering component ${e.name}`,e),r=e.renderedValue}}),e.mountState===y.Mounted&&r===e.renderedValue)return e.$element;e.renderedValue=r;const a=Array.isArray(r)?r:[r];return e.$element=C(e,a),e.$element}function $(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===m.Text&&t.type===m.Text?e.value!==t.value:e.type===m.Tag&&t.type===m.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===m.Component&&t.type===m.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function G(e){return e.id=++w,e.mountState=y.Mounting,V(e),e.mountState=y.Mounted,e.$element}function j(e){if(e.mountState!==y.Unmounted){if(x.add(e.id),e.hooks?.effects)for(const t of e.hooks.effects.byCursor)t.cleanup&&(0,f.A)(t.cleanup),t.cleanup=void 0,t.releaseSignals?.();e.mountState=y.Unmounted,function(e){const{effects:t,state:n,memos:s,refs:r}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(s)for(const e of s.byCursor)e.value=void 0,e.dependencies=void 0;if(r)for(const e of r.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function q(e){if(e.mountState!==y.Unmounted&&e.hooks?.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function z(e,t){v.hooks||(v.hooks={}),v.hooks.state||(v.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:r}=v.hooks.state,a=v;if(void 0===r[n]){const o="function"==typeof e?e():e;r[n]={value:o,nextValue:o,setter:e=>{a.mountState!==y.Unmounted&&("function"==typeof e&&(e=e(r[n].nextValue)),r[n].nextValue!==e&&(r[n].nextValue=e,M.add(a),L(),s.MVx&&console.log("[Teact.useState]",te(a.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,r[n].nextValue)))}}}return v.hooks.state.cursor++,[r[n].value,r[n].setter]}function W(e,t,n,r){v.hooks||(v.hooks={}),v.hooks.effects||(v.hooks.effects={cursor:0,byCursor:[]});const{cursor:a,byCursor:o}=v.hooks.effects,i=o[a],c=v;function d(){!function(e,t,n,r){const{byCursor:a}=e.hooks.effects,o=a[t]?.cleanup,i=r?N:B,c=r?U:R,d=`${e.id}_${t}`;if(o){const n=()=>(0,f.A)(()=>{if(e.mountState===y.Unmounted)return;let n;if(s.Oig&&(n=performance.now()),o(),s.Oig){const s=performance.now()-n,r=te(e.Component);s>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${t}: ${r}, ${Math.round(s)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${t} in ${e.name}`,e)},always:()=>{a[t].cleanup=void 0}});i.set(d,n)}c.set(d,()=>(0,f.A)(()=>{if(e.mountState===y.Unmounted)return;let r;s.Oig&&(r=performance.now());const o=n();if("function"==typeof o&&(a[t].cleanup=o),s.Oig){const n=performance.now()-r,s=te(e.Component);n>7&&console.warn(`[Teact] Slow effect at cursor #${t}: ${s}, ${Math.round(n)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${t} in ${e.name}`,e)}})),L()}(c,a,t,e)}if(n&&i?.dependencies){if(n.some((e,t)=>e!==i.dependencies[t])){if(s.Oig&&r){const e=n.reduce((e,t,n)=>{const s=i.dependencies[n];return t!==s&&e.push(`${n}: ${String(s)} => ${String(t)}`),e},[]);console.log(`[Teact] Effect "${r}" caused by dependencies.`,e.join(", "))}d()}}else r&&console.log(`[Teact] Effect "${r}" caused by missing dependencies.`),d();i&&(i.schedule=void 0),o[a]={...i,dependencies:n,schedule:d},i||(o[a].releaseSignals=function(){const e=n?.filter(g.Hp).map((e,t)=>e.subscribe(()=>{r&&console.log(`[Teact] Effect "${r}" caused by signal #${t} new value:`,e()),o[a].schedule()}));if(e?.length)return()=>{for(const t of e)t()}}()),v.hooks.effects.cursor++}function H(e,t,n){return W(!1,e,t,n)}function K(e,t,n){return W(!0,e,t,n)}function Y(e){v.hooks||(v.hooks={}),v.hooks.effects||(v.hooks.effects={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=v.hooks.effects;n[t]||(n[t]={cleanup:e}),v.hooks.effects.cursor++}function J(e,t,n,a){v.hooks||(v.hooks={}),v.hooks.memos||(v.hooks.memos={cursor:0,byCursor:[]});const{cursor:o,byCursor:i}=v.hooks.memos;let c,{value:d}=i[o]||{};if(s.Oig&&a){const e=`${a}#${v.id}`;c=E[e],c||(c={key:e,calls:0,misses:0,hitRate:0},E[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===i[o]||t.length!==i[o].dependencies.length||t.some((e,t)=>e!==i[o].dependencies[t])){if(s.Oig){if(n){const e=`[Teact.useMemo] ${v.name} (${n}): Update is caused by:`;i[o]?(0,r.q)(i[o].dependencies,t,e,n):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=20&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}d=e()}return i[o]={value:d,dependencies:t},v.hooks.memos.cursor++,d}function X(e,t,n){return J(()=>e,t,n)}function Q(e){v.hooks||(v.hooks={}),v.hooks.refs||(v.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=v.hooks.refs;return n[t]||(n[t]={current:e}),v.hooks.refs.cursor++,n[t]}function Z(e){const t=Q();return t.current??=(0,g.n5)(e),t.current}function ee(e,t){function n(n){return J(()=>S(e,n),Object.values(n),t,s.MVx?te(v.Component):void 0)}return n.DEBUG_contentComponentName=te(e),n}function te(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const ne={createElement:S,Fragment:b}},84080(e,t,n){"use strict";n.d(t,{Ay:()=>c,KE:()=>d});var s=n(84051),r=n(46536),a=n(17712);const o=(0,r.h)(),i=(0,r.h)();function c(e,t,n=!1){const r=(0,a.A)(e),c=(0,a.A)(t);(0,s.vJ)(()=>{if(!n)return(0,s.OV)()&&r(),o.addCallback(r),i.addCallback(c),()=>{i.removeCallback(c),o.removeCallback(r)}},[n,c,r])}function d(e,t){const n=(0,s.hb)(e,t),r=(0,s.li)();return(0,s.vJ)(()=>()=>{r.current&&(i.removeCallback(r.current),r.current=void 0)},[n]),(0,s.hb)((...e)=>{r.current&&i.removeCallback(r.current);const t=()=>{r.current=void 0,n(...e)};(0,s.OV)()?(r.current=t,i.addCallback(t)):t()},[n])}s.OV.subscribe(()=>{(0,s.OV)()?o.runCallbacks():i.runCallbacks()})},84382(e,t,n){"use strict";n.d(t,{S:()=>o,V:()=>a});let s,r=window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";function a(){return r}function o(e){s=e}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){r=e.matches?"dark":"light",s?.(r)})},84448(e,t,n){"use strict";n.d(t,{C7:()=>s,K1:()=>a,l3:()=>r});let s=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Timestamp="MessageEntityTimestamp",e.QuoteFocus="MessageEntityQuoteFocus",e.Unknown="MessageEntityUnknown",e}({});const r=-1,a="MESSAGE_DELETED"},84553(e,t,n){"use strict";n.d(t,{KX:()=>g,VH:()=>h,ii:()=>p,nv:()=>f});var s=n(13439),r=n(31481),a=n(63495),o=n(57751);const i=["t.me","telegram.me"].map(e=>`https://${e}/_websync_?`),c=`12.17.0 ${r.cK8}`,d="tgme_sync",u=()=>Math.floor(Number(new Date)/1e3);let l;const f=e=>{if(r.fng||a.Vq)return;const t=u(),{canRedirect:n,ts:s}=JSON.parse(localStorage.getItem(d)||"{}");return n!==e||s+86400<=t?Promise.all(i.map(t=>new Promise((n,s)=>{const r=document.createElement("script"),a=()=>Boolean(document.body.removeChild(r));r.src=t+new URLSearchParams({authed:Number(e).toString(),version:c}).toString(),document.body.appendChild(r),r.onload=()=>{(e=>{const t=u();localStorage.setItem(d,JSON.stringify({canRedirect:e,ts:t}))})(e),a(),l&&(clearTimeout(l),l=void 0),p(),n()},r.onerror=()=>{a(),s()}}))):Promise.resolve()};function g(){r.Oig||a.Vq||l&&clearTimeout(l)}function p(){if(r.Oig||a.Vq)return;if(void 0!==l)return;const e=u(),{ts:t}=JSON.parse(localStorage.getItem(d)||"{}"),n=86400-(e-t);l=setTimeout(()=>{const{auth:e}=(0,s.mS)(),t="authorizationStateReady"===e.state||(0,o.wr)();f(t)},Math.max(0,1e3*n))}function h(){localStorage.removeItem(d)}},84685(e,t,n){"use strict";n.d(t,{A:()=>u});var s=n(13439),r=n(23174),a=n(63495),o=n(24585),i=n(87357),c=n(17712),d=n(20021);const u=({url:e,text:t,className:n,children:u,isRtl:l,shouldSkipModal:f,chatId:g,messageId:p,threadId:h,entityType:m=r.C7.Url})=>{const{openUrl:y}=(0,s.ko)(),b=u||t,_=e===t,v=(0,c.A)(t=>{if(!e)return!0;t.preventDefault();const n=_&&!(0,o._G)(e);return y({url:e,shouldSkipModal:f||n,...g&&p&&{linkContext:{type:"message",chatId:g,threadId:h,messageId:p}}}),!1});if(!e)return;const w=(0,i.A)(n||"text-entity-link",_&&"word-break-all");return(0,d.Y)("a",{href:(0,o.Tc)(e),title:(0,o.Dc)(e),target:a.Vq?"_self":"_blank",rel:"noopener noreferrer",className:w,onClick:v,dir:l?"rtl":"auto","data-entity-type":m,children:b})}},84748(e,t,n){"use strict";n.d(t,{hc:()=>o,te:()=>c});var s=n(57941),r=n(16841),a=n(13439);function o(e,t){return{...e,alphahuman:{...e.alphahuman||{},...t}}}function i(e,t){return o(e,{threadsLoading:t})}function c(e,t){return o(e,{activeThreadId:t})}(0,a.aJ)("loadAlphahumanMe",async(e,t)=>{e=function(e){return o(e,{meLoading:!0})}(e),(0,a.UF)(e),e=(0,a.mS)();try{const t=await(0,r.vo)();e=function(e,t){return o(e,{me:t,meError:void 0})}(e=(0,a.mS)(),t),(0,a.UF)(e)}catch(t){(0,s.R)("BACKEND ERROR","Failed to load alphahuman me:",t),e=function(e,t){return o(e,{meError:t,meLoading:!1})}(e=(0,a.mS)(),t instanceof Error?t:new Error("Failed to fetch user data")),(0,a.UF)(e)}}),(0,a.aJ)("loadAlphahumanThreads",async(e,t)=>{e=i(e,!0),(0,a.UF)(e),e=(0,a.mS)();try{const{threads:t,count:n}=await(0,r.md)();e=function(e,t,n){return o(e,{threads:t,threadsCount:n,threadsError:void 0})}(e=(0,a.mS)(),t,n),e=i(e,!1),(0,a.UF)(e)}catch(t){(0,s.R)("BACKEND ERROR","Failed to load alphahuman threads:",t),e=function(e,t){return o(e,{threadsError:t,threadsLoading:!1})}(e=(0,a.mS)(),t instanceof Error?t:new Error("Failed to fetch threads")),(0,a.UF)(e)}}),(0,a.aJ)("loadAlphahumanThreadMessages",async(e,t,n)=>{const{threadId:i}=n;e=function(e,t){const n=e.alphahuman;return n?o(e,{threadMessagesLoading:{...n.threadMessagesLoading,[t]:!0}}):e}(e,i),(0,a.UF)(e),e=(0,a.mS)();try{const{messages:t,count:n}=await(0,r.vn)(i);e=function(e,t,n,s){const r=e.alphahuman;return r?o(e,{threadMessages:{...r.threadMessages,[t]:{messages:n,count:s}},threadMessagesError:{...r.threadMessagesError,[t]:void 0}}):e}(e=(0,a.mS)(),i,t,n),(0,a.UF)(e)}catch(t){(0,s.R)("BACKEND ERROR",`Failed to load thread messages for ${i}:`,t),e=function(e,t,n){const s=e.alphahuman;return s?o(e,{threadMessagesError:{...s.threadMessagesError,[t]:n},threadMessagesLoading:{...s.threadMessagesLoading,[t]:!1}}):e}(e=(0,a.mS)(),i,t instanceof Error?t:new Error("Failed to fetch thread messages")),(0,a.UF)(e)}}),(0,a.aJ)("loadAlphahumanHighlights",async(e,t,n)=>{const{timeframe:i}=n;e=function(e,t){const n=e.alphahuman;return n?o(e,{highlightsLoading:{daily:n.highlightsLoading?.daily||!1,weekly:n.highlightsLoading?.weekly||!1,[t]:!0}}):e}(e,i),(0,a.UF)(e),e=(0,a.mS)();try{const t=await(0,r.sT)(i);e=function(e,t,n){const s=e.alphahuman;return s?o(e,{highlights:{daily:s.highlights?.daily||[],weekly:s.highlights?.weekly||[],[t]:n},highlightsError:{daily:s.highlightsError?.daily||void 0,weekly:s.highlightsError?.weekly||void 0,[t]:void 0}}):e}(e=(0,a.mS)(),i,t),(0,a.UF)(e)}catch(t){(0,s.R)("BACKEND ERROR",`Failed to load highlights for ${i}:`,t),e=function(e,t,n){const s=e.alphahuman;return s?o(e,{highlightsError:{daily:s.highlightsError?.daily||void 0,weekly:s.highlightsError?.weekly||void 0,[t]:n},highlightsLoading:{daily:s.highlightsLoading?.daily||!1,weekly:s.highlightsLoading?.weekly||!1,[t]:!1}}):e}(e=(0,a.mS)(),i,t instanceof Error?t:new Error("Failed to fetch highlights")),(0,a.UF)(e)}}),(0,a.aJ)("createAlphahumanThread",async(e,t)=>{try{const t=(await(0,r.J9)()).id;e=c(e=(0,a.mS)(),t);const{ensureThreadsInitialized:s,selectAlphahumanThreadById:o}=await Promise.resolve().then(n.bind(n,72696));e=s(e=(0,a.mS)()),e=o(e=(0,a.mS)(),t),(0,a.UF)(e)}catch(e){(0,s.R)("BACKEND ERROR","Failed to create alphahuman thread:",e)}})},84947(e,t,n){"use strict";n.d(t,{A:()=>s});class s{constructor(e){this.limit=e,this.map=new Map,this.insertionQueue=new Set}get(e){return this.map.get(e)}set(e,t){if(this.map.size===this.limit){const e=Array.from(this.insertionQueue).shift();e&&(this.map.delete(e),this.insertionQueue.delete(e))}return this.map.set(e,t),this.insertionQueue.add(e),this}has(e){return this.map.has(e)}delete(e){const t=this.map.delete(e);return t&&this.insertionQueue.delete(e),t}clear(){this.map.clear(),this.insertionQueue.clear()}forEach(e,t){this.map.forEach(e,t)}get size(){return this.map.size}get[Symbol.toStringTag](){return this.map[Symbol.toStringTag]}[Symbol.iterator](){return this.map[Symbol.iterator]()}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}}},85118(e,t,n){"use strict";n.d(t,{A:()=>l});var s=n(84051),r=n(87357),a=n(95807);const o="fWE9Tkfe",i="wapdILU7";var c=n(20021);const d=[{x:20,y:0,size:100,durationShift:10},{x:15,y:15,size:75,durationShift:70},{x:10,y:35,size:75,durationShift:90},{x:20,y:70,size:125,durationShift:30},{x:40,y:10,size:125,durationShift:0},{x:45,y:60,size:75,durationShift:60},{x:60,y:-10,size:100,durationShift:20},{x:55,y:40,size:75,durationShift:60},{x:70,y:65,size:100,durationShift:90},{x:80,y:10,size:75,durationShift:30},{x:80,y:45,size:125,durationShift:0}],u=function(){const e=[];for(let t=0;t<100;t++)e.push({x:100*Math.random(),y:100*Math.random(),velocityX:100*(5*Math.random()+15),velocityY:100*(10*Math.random()-5),scale:100*(.5*Math.random()+.5),durationShift:100*Math.random()});return e}(),l=(0,s.ph)(({className:e,style:t,noAnimation:n,...l})=>{const f=(0,s.li)();return"button"===l.preset?(0,c.Y)("div",{ref:f,className:(0,r.A)(o,"B94KQ3c0",e,n&&"caUR_u_a"),style:t,children:d.map(e=>{const t=100*Math.cos(Math.atan2(-50+e.y,-50+e.x)),n=100*Math.sin(Math.atan2(-50+e.y,-50+e.x));return(0,c.Y)("div",{className:i,style:(0,a.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_duration-shift: ${-e.durationShift/100*5}s`,`--_shift-x: ${t}%`,`--_shift-y: ${n}%`,`scale: ${e.size}%`),"aria-hidden":"true",children:"âœ¦"})})}):"progress"===l.preset?(0,c.Y)("div",{ref:f,className:(0,r.A)(o,"F0JPgXgb",e),style:t,children:u.map(e=>(0,c.Y)("div",{className:i,style:(0,a.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_shift-x: ${e.velocityX}%`,`--_shift-y: ${e.velocityY}%`,`scale: ${e.scale}%`,`--_duration-shift: ${-e.durationShift/100*5}s`),"aria-hidden":"true",children:"âœ¦"}))}):void 0})},85982(e,t,n){"use strict";n.d(t,{A:()=>i,LD:()=>d,WO:()=>r,eM:()=>o,qp:()=>c});var s=n(31481);const r=window.navigator.clipboard&&window.ClipboardItem,a=document.createElement("textarea");a.setAttribute("readonly",""),a.tabIndex=-1,a.className="visually-hidden";const o=e=>{a.value=e,document.body.appendChild(a);const t=document.getSelection();if(t){const e=t.rangeCount>0&&t.getRangeAt(0);a.select(),document.execCommand("copy"),e&&(t.removeAllRanges(),t.addRange(e))}document.body.removeChild(a)},i=(e,t)=>{window.navigator.clipboard?.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"}),"text/html":new Blob([e],{type:"text/html"})})]):o(t)},c=e=>{if(!e)return;const t=document.createElement("canvas"),n=t.getContext("2d"),s=new Image;s.onload=e=>{if(n&&e.currentTarget){const s=e.currentTarget;t.width=s.width,t.height=s.height,n.drawImage(s,0,0,s.width,s.height),t.toBlob(u,"image/png",1)}},s.src=e},d=async(e,t,n)=>{const s=async()=>{try{const t=await e;return t?o(t):n(),Boolean(t)}catch{return n(),!1}};if(r&&navigator.clipboard.write){try{let t=!1;const s=()=>Promise.reject(new Error("GET_DATA_ERROR")),r=new ClipboardItem({"text/plain":e.then(e=>e||s()).catch(()=>(t=!0,""))});if(await navigator.clipboard.write([r]),t)return void n()}catch{if(!await s())return}t()}else await s()&&t()};async function u(e){if(e&&r)try{await(window.navigator.clipboard.write?.([new ClipboardItem({[e.type]:e})]))}catch(e){s.Oig&&console.error(e)}}},86070(e,t,n){"use strict";n.d(t,{A:()=>g});var s=n(84051),r=n(91048),a=n(87357),o=n(76023),i=n(63527),c=n(39996),d=n(87412),u=n(39877);var l=n(20021);const f=1.25*o.$,g=(0,s.ph)(function({ref:e,peer:t,peerColor:n,isReply:s,noBar:o,noUserColors:g,shouldReset:p,className:h,emojiIconClassName:m,children:y,...b}){const _=n||t?.color,v=(0,i.A)(r.SJA),{style:w,className:I,backgroundEmojiId:S,giftEmojiId:C}=(0,c.Ay)({peer:t,color:_,noUserColors:g,shouldReset:p,theme:v}),A=s&&Boolean(C);return(0,l.FD)("div",{ref:e,className:(0,a.A)("nRjVJOQv",I,A&&"nsd0qT3V",!o&&"_9jsufX2y",h),style:w,...b,children:[S&&(0,l.Y)(u.A,{className:m,emojiDocumentId:S,withEmojiSpace:A}),A&&(0,l.Y)(d.A,{className:"UAOeEYzU",documentId:C,size:f,noPlay:!0}),y]})})},86525(e,t,n){"use strict";n.d(t,{Ak:()=>M,BN:()=>I,Do:()=>X,EQ:()=>Q,ES:()=>H,FE:()=>v,G5:()=>W,GZ:()=>h,HN:()=>D,Ie:()=>T,Jw:()=>A,Ld:()=>$,NK:()=>K,Nb:()=>N,P5:()=>w,Sb:()=>q,Tv:()=>E,WD:()=>y,XR:()=>b,X_:()=>L,Yh:()=>Z,ZD:()=>P,ZR:()=>O,_I:()=>U,_P:()=>x,aN:()=>S,cR:()=>j,ni:()=>_,r$:()=>z,rK:()=>V,sj:()=>m,u7:()=>R,v$:()=>J,vp:()=>G,vz:()=>F,wb:()=>C,xH:()=>k,yt:()=>Y,zP:()=>B});var s=n(23174),r=n(31481),a=n(22986),o=n(9716),i=n(87894),c=n(60343),d=n(80140),u=n(13439),l=n(91048),f=n(79089);const g=new RegExp(r.kNZ,"i");let p=0;function h(e,t){return["message",e.toString().replace(".","-"),t].filter(Boolean).join("-")}function m(e){return e.previousLocalId||e.id}function y(e){const{transcriptionId:t}=e,n=(0,u.mS)();return t&&n.transcriptions[t]?.text}function b(e){const{action:t,text:n,sticker:s,photo:r,video:a,audio:o,voice:i,document:c,pollId:d,todo:u,webPage:l,contact:f,invoice:g,location:p,game:h,storyData:m,giveaway:y,giveawayResults:b,paidMedia:_}=e.content;return Boolean(n)||!(s||r||a||o||i||c||f||d||u||l||g||p||h||m||y||b||_||"phoneCall"===t?.type)}function _(e,t){const n=(0,l.zcZ)(e,t),s=(0,l.Pn$)(e,t),{peerId:r,id:a}=t.content.storyData||{};return v({poll:n,story:a&&r?e.stories.byPeerId[r]?.byId[a]:void 0,webPage:s})}function v({poll:e,story:t,webPage:n}){return{poll:e,story:t&&"content"in t?t:void 0,webPage:n}}function w(e){return b(e)?e.content.text:void 0}function I(e,t){return b(t)?t.content.text||{text:e("MessageUnsupported")}:void 0}function S(e){const{text:t,sticker:n,photo:r,video:a,audio:o,voice:i,document:c,pollId:d,webPage:u,contact:l,action:f,game:g,invoice:p,location:h,storyData:m}=e.content;if(n||a?.isRound)return!0;if(!t||r||a||o||i||c||d||u||l||f||g||p||h||m)return!1;const y=t?.entities?.some(e=>e.type!==s.C7.CustomEmoji);return Boolean(t.emojiOnlyCount&&!y)}function C(e){const{text:t}=e.content;if(t&&!t.entities?.length&&1===t.emojiOnlyCount)return t.text}function A(e){const{text:t}=e.content,n=t?.entities?.[0];if(1===t?.entities?.length&&n?.type===s.C7.CustomEmoji&&0===n.offset&&n.length===t.text.length)return n.documentId}function P(e){const{text:t}=e.content;let n;if(t?.entities){const e=t.entities.find(e=>e.type===s.C7.TextUrl);if(e&&(n=e.url.match(g)),!n){const e=t.entities.find(e=>e.type===s.C7.Url);if(e){const{offset:s,length:r}=e;n=t.text.substring(s,s+r).match(g)}}}if(!n&&t&&(n=t.text.match(g)),n)return{url:n[0],domain:n[3]}}function k(e){const{text:t}=e.content,n=t&&t.text.match(g);if(n)return{url:n[0],domain:n[3]}}function T(e){return e.isOutgoing}function E(e){return Boolean("message"===e.replyInfo?.type)}function M(e){return Boolean(e.forwardInfo||e.content.storyData)}function x(e){return Boolean(e.content.action)}function R(e){return e.chatId===r.zv8&&Math.round(e.id)!==e.id}function B(e){return Boolean(e.senderId)&&!(0,o.L8)(e.senderId)&&T(e)}function U(e){return e.sendingState?"messageSendingStateFailed"===e.sendingState?"failed":"pending":"succeeded"}function N(e){return(0,c.iL)(e.id)}function D(e){return"messageSendingStateFailed"===e.sendingState}function L(e){return e.content.action&&"historyClear"===e.content.action.type}function F(e){const{location:t}=e.content;return"geoLive"===t?.mediaType&&(0,d.Fm)()-(e.date||0)>=t.period}function O(e,t){const{text:n,game:s}=e.content,r=N(e),a=R(e),o=x(e);return Boolean(n?.text.length&&!n.emojiOnlyCount&&!s&&(t||!e.isOutgoing)&&!r&&!a&&!o&&!e.isScheduled)}function V(e){return 1===e.inlineButtons?.length&&1===e.inlineButtons[0].length&&e.inlineButtons[0][0]}function $(e){return e.sort((e,t)=>e-t)}function G(e){return e.sort((e,t)=>t-e)}function j(e,t){let n=!1,s=e.length?e.map(e=>(0,i.h8)(e,t)&&!n?(n=!0,$((0,i.Am)(e.concat(t)))):e):[t];n||(s=s.concat([t])),s.sort((e,t)=>e[0]-t[0]);let r=s.length;for(let e=0;e<r;e++){const t=s[e],n=s[e-1];n&&(n.includes(t[0])||n.includes(t[0]-1))&&(s[e-1]=$((0,i.Am)(t.concat(n))),s.splice(e,1),r--,e--)}return s}function q(e,t=!1){const n=e.content.text;if(!n)return;const{text:a}=n;let{entities:o}=n;if(a&&"chatId"in e){if(e.chatId===r.zv8){const e=a.match(/^\D*([\d-]{5,7})\D/)?.[1];e&&(o=[...o||[],{type:t?s.C7.Spoiler:s.C7.Code,offset:a.indexOf(e),length:e.length}],o.sort((e,t)=>e.offset>t.offset?1:-1))}if(t&&e.chatId===r.b5_&&o&&o.some(e=>e.type===s.C7.Code)){const e=o;o=[];for(let t=0;t<e.length;t++){const n=e[t];n.type===s.C7.Code&&o.push({type:s.C7.Spoiler,offset:n.offset,length:n.length}),o.push(n)}}}return{text:a,entities:o}}function z(e){return"expired"===e.content.action?.type}function W(e){return void 0!==e.content?.ttlSeconds}function H(e){return r.IH3.has(e.mimeType)?"audio":e.shouldSendAsFile?"file":r.gex.has(e.mimeType)?"photo":r.fNs.has(e.mimeType)?"video":"file"}function K(e){return e?"image/webp"===e.mimeType||e.mimeType===r.ikg||e.mimeType===r.Msx:void 0}function Y(e,t,n){const a=(0,f.Kl)(e),i=(0,o.A2)(e.id).toString(),c=a||`c/${i}`,d=t&&t!==s.l3?`/${t}`:"",u=n?`/${n}`:"";return`${r.jsp}${c}${d}${u}`}function J(e,t){const n=[];let s=[];return e.reduce((e,t)=>{const n=e[e.length-1];return t.groupedId&&n?.[0]?.groupedId===t.groupedId?(n.push(t),e):(e.push([t]),e)},[]).forEach(e=>{s.length+e.length>t&&(n.push(s),s=[]),s.push(...e)}),s.length&&n.push(s),n}function X(e,t){if(!e.suggestedPostInfo||"message"!==e.replyInfo?.type||!e.replyInfo?.replyToMsgId||!t)return;if(!t.suggestedPostInfo)return;const n=t.suggestedPostInfo,s=e.suggestedPostInfo,r=t.content,o=e.content,{text:i,...c}=r,{text:d,...u}=o,l=!(0,a.T)(i,d),f=!(0,a.T)(c,u),g=n.price?.amount,p=s.price?.amount,h=g!==p,m=n.scheduleDate!==s.scheduleDate;return l||h||m||f?{isNewText:l,isNewPrice:h,isNewTime:m,isNewMedia:f}:void 0}function Q(e,t,n,s,r){const a=X(t,n);if(!a)return;const o=[];a.isNewPrice&&o.push(e("ActionSuggestedChangesPrice")),a.isNewTime&&o.push(e("ActionSuggestedChangesTime")),a.isNewText&&o.push(e("ActionSuggestedChangesText")),a.isNewMedia&&o.push(e("ActionSuggestedChangesMedia"));const i=e.conjunction(o);return e(s?"ActionSuggestedChangesOutgoing":"ActionSuggestedChangesIncoming",{changes:i,user:r},{withNodes:!0,withMarkdown:!0})}function Z({lastMessageId:e,chatId:t,threadId:n,text:a}){const o=function(e=0){return e+ ++p/r.VCe}(e);return{id:o,chatId:t,replyInfo:"number"==typeof n&&n!==s.l3?{type:"message",replyToMsgId:n,replyToTopId:n,isForumTopic:!0}:void 0,isOutgoing:!1,date:(0,d.Fm)(),content:{text:a},isSilent:!0,isTypingDraft:!0,editDate:(0,d.Fm)()}}},87094(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(59852),a=n(17712),o=n(93545);function i(e,t="color",n){const i=function(e,t,n=50,r){const[i,c]=(0,s.J0)(),d=(0,a.A)(()=>{if(!e.current||r)return void c(void 0);const n=getComputedStyle(e.current).getPropertyValue(t).trim();c(n)});return(0,o.A)(e,d,r),(0,s.Nf)(()=>{const s=e.current;if(s&&!r)return s.style.setProperty("transition",`${n}ms ${t} linear`,"important"),()=>{s.style.removeProperty("transition")}},[n,r,t,e]),(0,s.vJ)(()=>{const n=e.current;if(n&&(d(),!r))return n.addEventListener("transitionend",s),()=>{n.removeEventListener("transitionend",s)};function s(e){e.propertyName===t&&d()}},[r,t,e,d]),i}(e,t,50,n);return(0,s.Kr)(()=>i?(0,r.yY)(i):void 0,[i])}},87357(e,t,n){"use strict";function s(...e){return e.filter(Boolean).join(" ")}function r(e){return(t,...n)=>{const s="&"===t?e:`${e}__${t}`;return n.reduce((e,t)=>(t&&(Array.isArray(t)?e.push(...t):e.push(`${s}--${t}`)),e),[s]).join(" ")}}n.d(t,{A:()=>s,x:()=>r})},87412(e,t,n){"use strict";n.d(t,{A:()=>h});var s=n(84051),r=n(13439),a=n(23174),o=n(91048),i=n(87357),c=n(41733),d=n(87094),u=n(17712),l=n(45294),f=n(82855);var g=n(61911),p=n(20021);const h=(0,s.ph)(({ref:e,documentId:t,className:n,style:h,size:m=20,isBig:y,noPlay:b,noVideoOnMobile:_,loopLimit:v,shouldNotLoop:w,isSelectable:I,withSharedAnimation:S,sharedCanvasRef:C,sharedCanvasHqRef:A,withTranslucentThumb:P,shouldPreloadPreview:k,forceAlways:T,forceOnHeavyAnimation:E,observeIntersectionForLoading:M,observeIntersectionForPlaying:x,onClick:R,onAnimationEnd:B})=>{let U=(0,s.li)();e&&(U=e);const{customEmoji:N,canPlay:D}=(0,l.A)(t),L=(0,s.li)(0),[F,O]=(0,s.J0)(!0),V=N?.shouldUseTextColor,$=(0,d.A)(U,void 0,!V),G=(0,u.A)(e=>{v&&(L.current+=1,L.current>=v?(O(!1),e.currentTarget.currentTime=0):(0,c.A)(e.currentTarget))}),j=(0,u.A)(()=>{v&&(L.current+=1,L.current>=v&&O(!1))}),q=N?.stickerSetInfo&&(0,o.CzR)((0,r.mS)(),N.stickerSetInfo);return(0,p.FD)("div",{ref:U,className:(0,i.A)("CEFe1FhH",n,"custom-emoji","emoji"),onClick:R,onAnimationEnd:B,"data-entity-type":a.C7.CustomEmoji,"data-document-id":t,"data-alt":N?.emoji,style:h,children:[I&&(0,p.Y)("img",{className:"a8dMNkh3",src:g,alt:N?.emoji,"data-entity-type":a.C7.CustomEmoji,"data-document-id":t,draggable:!1}),N?(0,p.Y)(f.A,{containerRef:U,sticker:N,isSmall:!y,size:m,noPlay:b||!(F&&D),noVideoOnMobile:_,thumbClassName:"O_TaDxWg",fullMediaClassName:"wqju02hR",shouldLoop:!w,loopLimit:v,shouldPreloadPreview:k||b||!D,forceOnHeavyAnimation:E,forceAlways:T,observeIntersectionForLoading:M,observeIntersectionForPlaying:x,withSharedAnimation:S,sharedCanvasRef:q?A:C,withTranslucentThumb:P,onVideoEnded:G,onAnimatedStickerLoop:j,customColor:$}):(0,p.Y)("div",{className:(0,i.A)("DKi1177s"),draggable:!1})]})})},87679(e,t,n){"use strict";n.d(t,{FW:()=>o,NN:()=>a,PR:()=>d,eT:()=>i,kc:()=>u,sZ:()=>c,ti:()=>r}),n(31481);var s=n(37836);function r(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}function a(e){return new Promise((t,n)=>{const s=new Image;s.onload=()=>t(s),s.onerror=n,s.src=e})}function o(e){return new Promise((t,n)=>{const s=document.createElement("video");s.volume=0,s.onloadedmetadata=()=>t(s),s.onerror=n,s.src=e})}async function i(e){try{const t=await o(e);return await Promise.race([(0,s.v7)(2e3),new Promise((e,n)=>{t.onseeked=()=>{t.videoWidth&&t.videoHeight||e(void 0);const n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toBlob(t=>{e(t?URL.createObjectURL(t):void 0)})},t.onerror=n,t.currentTime=Math.min(t.duration,1)})])}catch(e){return}}async function c(e){return(await fetch(e)).blob()}function d(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function u(e){if(e?.length)return Array.from(e).map(l).filter(e=>e.size)}function l(e){const t=e.name.split(".").pop();return e.type||"mov"!==t.toLowerCase()?e:new File([e],e.name,{type:"video/quicktime"})}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...s}=n;super(e,{type:t}),Object.assign(this,s)}else super(e);this.name=t}})},87784(e,t){!function(e){"use strict";var t=(e,t,n,s)=>{let r=65535&e,a=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{r=r+t[s++]|0,a=a+r|0}while(--o);r%=65521,a%=65521}return r|a<<16};const n=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var s=0;s<8;s++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var s=(e,t,s,r)=>{const a=n,o=r+s;e^=-1;for(let n=r;n<o;n++)e=e>>>8^a[255&(e^t[n])];return-1^e};const r=16209;var a=function(e,t){let n,s,a,o,i,c,d,u,l,f,g,p,h,m,y,b,_,v,w,I,S,C,A,P;const k=e.state;n=e.next_in,A=e.input,s=n+(e.avail_in-5),a=e.next_out,P=e.output,o=a-(t-e.avail_out),i=a+(e.avail_out-257),c=k.dmax,d=k.wsize,u=k.whave,l=k.wnext,f=k.window,g=k.hold,p=k.bits,h=k.lencode,m=k.distcode,y=(1<<k.lenbits)-1,b=(1<<k.distbits)-1;e:do{p<15&&(g+=A[n++]<<p,p+=8,g+=A[n++]<<p,p+=8),_=h[g&y];t:for(;;){if(v=_>>>24,g>>>=v,p-=v,v=_>>>16&255,0===v)P[a++]=65535&_;else{if(!(16&v)){if(64&v){if(32&v){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=r;break e}_=h[(65535&_)+(g&(1<<v)-1)];continue t}for(w=65535&_,v&=15,v&&(p<v&&(g+=A[n++]<<p,p+=8),w+=g&(1<<v)-1,g>>>=v,p-=v),p<15&&(g+=A[n++]<<p,p+=8,g+=A[n++]<<p,p+=8),_=m[g&b];;){if(v=_>>>24,g>>>=v,p-=v,v=_>>>16&255,16&v){if(I=65535&_,v&=15,p<v&&(g+=A[n++]<<p,p+=8,p<v&&(g+=A[n++]<<p,p+=8)),I+=g&(1<<v)-1,I>c){e.msg="invalid distance too far back",k.mode=r;break e}if(g>>>=v,p-=v,v=a-o,I>v){if(v=I-v,v>u&&k.sane){e.msg="invalid distance too far back",k.mode=r;break e}if(S=0,C=f,0===l){if(S+=d-v,v<w){w-=v;do{P[a++]=f[S++]}while(--v);S=a-I,C=P}}else if(l<v){if(S+=d+l-v,v-=l,v<w){w-=v;do{P[a++]=f[S++]}while(--v);if(S=0,l<w){v=l,w-=v;do{P[a++]=f[S++]}while(--v);S=a-I,C=P}}}else if(S+=l-v,v<w){w-=v;do{P[a++]=f[S++]}while(--v);S=a-I,C=P}for(;w>2;)P[a++]=C[S++],P[a++]=C[S++],P[a++]=C[S++],w-=3;w&&(P[a++]=C[S++],w>1&&(P[a++]=C[S++]))}else{S=a-I;do{P[a++]=P[S++],P[a++]=P[S++],P[a++]=P[S++],w-=3}while(w>2);w&&(P[a++]=P[S++],w>1&&(P[a++]=P[S++]))}break}if(64&v){e.msg="invalid distance code",k.mode=r;break e}_=m[(65535&_)+(g&(1<<v)-1)]}}break}}while(n<s&&a<i);w=p>>3,n-=w,p-=w<<3,g&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<s?s-n+5:5-(n-s),e.avail_out=a<i?i-a+257:257-(a-i),k.hold=g,k.bits=p};const o=15,i=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),d=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var l=(e,t,n,s,r,a,l,f)=>{const g=f.bits;let p,h,m,y,b,_,v=0,w=0,I=0,S=0,C=0,A=0,P=0,k=0,T=0,E=0,M=null;const x=new Uint16Array(16),R=new Uint16Array(16);let B,U,N,D=null;for(v=0;v<=o;v++)x[v]=0;for(w=0;w<s;w++)x[t[n+w]]++;for(C=g,S=o;S>=1&&0===x[S];S--);if(C>S&&(C=S),0===S)return r[a++]=20971520,r[a++]=20971520,f.bits=1,0;for(I=1;I<S&&0===x[I];I++);for(C<I&&(C=I),k=1,v=1;v<=o;v++)if(k<<=1,k-=x[v],k<0)return-1;if(k>0&&(0===e||1!==S))return-1;for(R[1]=0,v=1;v<o;v++)R[v+1]=R[v]+x[v];for(w=0;w<s;w++)0!==t[n+w]&&(l[R[t[n+w]]++]=w);if(0===e?(M=D=l,_=20):1===e?(M=i,D=c,_=257):(M=d,D=u,_=0),E=0,w=0,v=I,b=a,A=C,P=0,m=-1,T=1<<C,y=T-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){B=v-P,l[w]+1<_?(U=0,N=l[w]):l[w]>=_?(U=D[l[w]-_],N=M[l[w]-_]):(U=96,N=0),p=1<<v-P,h=1<<A,I=h;do{h-=p,r[b+(E>>P)+h]=B<<24|U<<16|N}while(0!==h);for(p=1<<v-1;E&p;)p>>=1;if(0!==p?(E&=p-1,E+=p):E=0,w++,0===--x[v]){if(v===S)break;v=t[n+l[w]]}if(v>C&&(E&y)!==m){for(0===P&&(P=C),b+=I,A=v-P,k=1<<A;A+P<S&&(k-=x[A+P],!(k<=0));)A++,k<<=1;if(T+=1<<A,1===e&&T>852||2===e&&T>592)return 1;m=E&y,r[m]=C<<24|A<<16|b-a}}return 0!==E&&(r[b+E]=v-P<<24|64<<16),f.bits=C,0},f={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:g,Z_BLOCK:p,Z_TREES:h,Z_OK:m,Z_STREAM_END:y,Z_NEED_DICT:b,Z_STREAM_ERROR:_,Z_DATA_ERROR:v,Z_MEM_ERROR:w,Z_BUF_ERROR:I,Z_DEFLATED:S}=f,C=16180,A=16190,P=16191,k=16192,T=16194,E=16199,M=16200,x=16206,R=16209,B=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function U(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const N=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<C||t.mode>16211?1:0},D=e=>{if(N(e))return _;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=C,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,m},L=e=>{if(N(e))return _;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,D(e)},F=(e,t)=>{let n;if(N(e))return _;const s=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_:(null!==s.window&&s.wbits!==t&&(s.window=null),s.wrap=n,s.wbits=t,L(e))},O=(e,t)=>{if(!e)return _;const n=new U;e.state=n,n.strm=e,n.window=null,n.mode=C;const s=F(e,t);return s!==m&&(e.state=null),s};let V,$,G=!0;const j=e=>{if(G){V=new Int32Array(512),$=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(1,e.lens,0,288,V,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(2,e.lens,0,32,$,0,e.work,{bits:5}),G=!1}e.lencode=V,e.lenbits=9,e.distcode=$,e.distbits=5},q=(e,t,n,s)=>{let r;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),s>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>s&&(r=s),a.window.set(t.subarray(n-s,n-s+r),a.wnext),(s-=r)?(a.window.set(t.subarray(n-s,n),0),a.wnext=s,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0};var z=L,W=O,H=(e,n)=>{let r,o,i,c,d,u,f,U,D,L,F,O,V,$,G,z,W,H,K,Y,J,X,Q=0;const Z=new Uint8Array(4);let ee,te;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(N(e)||!e.output||!e.input&&0!==e.avail_in)return _;r=e.state,r.mode===P&&(r.mode=k),d=e.next_out,i=e.output,f=e.avail_out,c=e.next_in,o=e.input,u=e.avail_in,U=r.hold,D=r.bits,L=u,F=f,X=m;e:for(;;)switch(r.mode){case C:if(0===r.wrap){r.mode=k;break}for(;D<16;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(2&r.wrap&&35615===U){0===r.wbits&&(r.wbits=15),r.check=0,Z[0]=255&U,Z[1]=U>>>8&255,r.check=s(r.check,Z,2,0),U=0,D=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&U)<<8)+(U>>8))%31){e.msg="incorrect header check",r.mode=R;break}if((15&U)!==S){e.msg="unknown compression method",r.mode=R;break}if(U>>>=4,D-=4,J=8+(15&U),0===r.wbits&&(r.wbits=J),J>15||J>r.wbits){e.msg="invalid window size",r.mode=R;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&U?16189:P,U=0,D=0;break;case 16181:for(;D<16;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(r.flags=U,(255&r.flags)!==S){e.msg="unknown compression method",r.mode=R;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=R;break}r.head&&(r.head.text=U>>8&1),512&r.flags&&4&r.wrap&&(Z[0]=255&U,Z[1]=U>>>8&255,r.check=s(r.check,Z,2,0)),U=0,D=0,r.mode=16182;case 16182:for(;D<32;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}r.head&&(r.head.time=U),512&r.flags&&4&r.wrap&&(Z[0]=255&U,Z[1]=U>>>8&255,Z[2]=U>>>16&255,Z[3]=U>>>24&255,r.check=s(r.check,Z,4,0)),U=0,D=0,r.mode=16183;case 16183:for(;D<16;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}r.head&&(r.head.xflags=255&U,r.head.os=U>>8),512&r.flags&&4&r.wrap&&(Z[0]=255&U,Z[1]=U>>>8&255,r.check=s(r.check,Z,2,0)),U=0,D=0,r.mode=16184;case 16184:if(1024&r.flags){for(;D<16;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}r.length=U,r.head&&(r.head.extra_len=U),512&r.flags&&4&r.wrap&&(Z[0]=255&U,Z[1]=U>>>8&255,r.check=s(r.check,Z,2,0)),U=0,D=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(O=r.length,O>u&&(O=u),O&&(r.head&&(J=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(o.subarray(c,c+O),J)),512&r.flags&&4&r.wrap&&(r.check=s(r.check,o,O,c)),u-=O,c+=O,r.length-=O),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===u)break e;O=0;do{J=o[c+O++],r.head&&J&&r.length<65536&&(r.head.name+=String.fromCharCode(J))}while(J&&O<u);if(512&r.flags&&4&r.wrap&&(r.check=s(r.check,o,O,c)),u-=O,c+=O,J)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===u)break e;O=0;do{J=o[c+O++],r.head&&J&&r.length<65536&&(r.head.comment+=String.fromCharCode(J))}while(J&&O<u);if(512&r.flags&&4&r.wrap&&(r.check=s(r.check,o,O,c)),u-=O,c+=O,J)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;D<16;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(4&r.wrap&&U!==(65535&r.check)){e.msg="header crc mismatch",r.mode=R;break}U=0,D=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=P;break;case 16189:for(;D<32;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}e.adler=r.check=B(U),U=0,D=0,r.mode=A;case A:if(0===r.havedict)return e.next_out=d,e.avail_out=f,e.next_in=c,e.avail_in=u,r.hold=U,r.bits=D,b;e.adler=r.check=1,r.mode=P;case P:if(n===p||n===h)break e;case k:if(r.last){U>>>=7&D,D-=7&D,r.mode=x;break}for(;D<3;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}switch(r.last=1&U,U>>>=1,D-=1,3&U){case 0:r.mode=16193;break;case 1:if(j(r),r.mode=E,n===h){U>>>=2,D-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=R}U>>>=2,D-=2;break;case 16193:for(U>>>=7&D,D-=7&D;D<32;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if((65535&U)!=(U>>>16^65535)){e.msg="invalid stored block lengths",r.mode=R;break}if(r.length=65535&U,U=0,D=0,r.mode=T,n===h)break e;case T:r.mode=16195;case 16195:if(O=r.length,O){if(O>u&&(O=u),O>f&&(O=f),0===O)break e;i.set(o.subarray(c,c+O),d),u-=O,c+=O,f-=O,d+=O,r.length-=O;break}r.mode=P;break;case 16196:for(;D<14;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(r.nlen=257+(31&U),U>>>=5,D-=5,r.ndist=1+(31&U),U>>>=5,D-=5,r.ncode=4+(15&U),U>>>=4,D-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=R;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;D<3;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}r.lens[ne[r.have++]]=7&U,U>>>=3,D-=3}for(;r.have<19;)r.lens[ne[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ee={bits:r.lenbits},X=l(0,r.lens,0,19,r.lencode,0,r.work,ee),r.lenbits=ee.bits,X){e.msg="invalid code lengths set",r.mode=R;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;Q=r.lencode[U&(1<<r.lenbits)-1],G=Q>>>24,z=Q>>>16&255,W=65535&Q,!(G<=D);){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(W<16)U>>>=G,D-=G,r.lens[r.have++]=W;else{if(16===W){for(te=G+2;D<te;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(U>>>=G,D-=G,0===r.have){e.msg="invalid bit length repeat",r.mode=R;break}J=r.lens[r.have-1],O=3+(3&U),U>>>=2,D-=2}else if(17===W){for(te=G+3;D<te;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}U>>>=G,D-=G,J=0,O=3+(7&U),U>>>=3,D-=3}else{for(te=G+7;D<te;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}U>>>=G,D-=G,J=0,O=11+(127&U),U>>>=7,D-=7}if(r.have+O>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=R;break}for(;O--;)r.lens[r.have++]=J}}if(r.mode===R)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=R;break}if(r.lenbits=9,ee={bits:r.lenbits},X=l(1,r.lens,0,r.nlen,r.lencode,0,r.work,ee),r.lenbits=ee.bits,X){e.msg="invalid literal/lengths set",r.mode=R;break}if(r.distbits=6,r.distcode=r.distdyn,ee={bits:r.distbits},X=l(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ee),r.distbits=ee.bits,X){e.msg="invalid distances set",r.mode=R;break}if(r.mode=E,n===h)break e;case E:r.mode=M;case M:if(u>=6&&f>=258){e.next_out=d,e.avail_out=f,e.next_in=c,e.avail_in=u,r.hold=U,r.bits=D,a(e,F),d=e.next_out,i=e.output,f=e.avail_out,c=e.next_in,o=e.input,u=e.avail_in,U=r.hold,D=r.bits,r.mode===P&&(r.back=-1);break}for(r.back=0;Q=r.lencode[U&(1<<r.lenbits)-1],G=Q>>>24,z=Q>>>16&255,W=65535&Q,!(G<=D);){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(z&&!(240&z)){for(H=G,K=z,Y=W;Q=r.lencode[Y+((U&(1<<H+K)-1)>>H)],G=Q>>>24,z=Q>>>16&255,W=65535&Q,!(H+G<=D);){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}U>>>=H,D-=H,r.back+=H}if(U>>>=G,D-=G,r.back+=G,r.length=W,0===z){r.mode=16205;break}if(32&z){r.back=-1,r.mode=P;break}if(64&z){e.msg="invalid literal/length code",r.mode=R;break}r.extra=15&z,r.mode=16201;case 16201:if(r.extra){for(te=r.extra;D<te;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}r.length+=U&(1<<r.extra)-1,U>>>=r.extra,D-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;Q=r.distcode[U&(1<<r.distbits)-1],G=Q>>>24,z=Q>>>16&255,W=65535&Q,!(G<=D);){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(!(240&z)){for(H=G,K=z,Y=W;Q=r.distcode[Y+((U&(1<<H+K)-1)>>H)],G=Q>>>24,z=Q>>>16&255,W=65535&Q,!(H+G<=D);){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}U>>>=H,D-=H,r.back+=H}if(U>>>=G,D-=G,r.back+=G,64&z){e.msg="invalid distance code",r.mode=R;break}r.offset=W,r.extra=15&z,r.mode=16203;case 16203:if(r.extra){for(te=r.extra;D<te;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}r.offset+=U&(1<<r.extra)-1,U>>>=r.extra,D-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=R;break}r.mode=16204;case 16204:if(0===f)break e;if(O=F-f,r.offset>O){if(O=r.offset-O,O>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=R;break}O>r.wnext?(O-=r.wnext,V=r.wsize-O):V=r.wnext-O,O>r.length&&(O=r.length),$=r.window}else $=i,V=d-r.offset,O=r.length;O>f&&(O=f),f-=O,r.length-=O;do{i[d++]=$[V++]}while(--O);0===r.length&&(r.mode=M);break;case 16205:if(0===f)break e;i[d++]=r.length,f--,r.mode=M;break;case x:if(r.wrap){for(;D<32;){if(0===u)break e;u--,U|=o[c++]<<D,D+=8}if(F-=f,e.total_out+=F,r.total+=F,4&r.wrap&&F&&(e.adler=r.check=r.flags?s(r.check,i,F,d-F):t(r.check,i,F,d-F)),F=f,4&r.wrap&&(r.flags?U:B(U))!==r.check){e.msg="incorrect data check",r.mode=R;break}U=0,D=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;D<32;){if(0===u)break e;u--,U+=o[c++]<<D,D+=8}if(4&r.wrap&&U!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=R;break}U=0,D=0}r.mode=16208;case 16208:X=y;break e;case R:X=v;break e;case 16210:return w;default:return _}return e.next_out=d,e.avail_out=f,e.next_in=c,e.avail_in=u,r.hold=U,r.bits=D,(r.wsize||F!==e.avail_out&&r.mode<R&&(r.mode<x||n!==g))&&q(e,e.output,e.next_out,F-e.avail_out),L-=e.avail_in,F-=e.avail_out,e.total_in+=L,e.total_out+=F,r.total+=F,4&r.wrap&&F&&(e.adler=r.check=r.flags?s(r.check,i,F,e.next_out-F):t(r.check,i,F,e.next_out-F)),e.data_type=r.bits+(r.last?64:0)+(r.mode===P?128:0)+(r.mode===E||r.mode===T?256:0),(0===L&&0===F||n===g)&&X===m&&(X=I),X},K=e=>{if(N(e))return _;let t=e.state;return t.window&&(t.window=null),e.state=null,m},Y=(e,t)=>{if(N(e))return _;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,m):_},J=(e,n)=>{const s=n.length;let r,a,o;return N(e)?_:(r=e.state,0!==r.wrap&&r.mode!==A?_:r.mode===A&&(a=1,a=t(a,n,s,0),a!==r.check)?v:(o=q(e,n,s,s),o?(r.mode=16210,w):(r.havedict=1,m)))};const X=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Q=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)X(n,t)&&(e[t]=n[t])}}return e},Z=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,s=0,r=e.length;t<r;t++){let r=e[t];n.set(r,s),s+=r.length}return n};let ee=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ee=!1}const te=new Uint8Array(256);for(let e=0;e<256;e++)te[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;te[254]=te[254]=1;var ne=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,s,r,a,o=e.length,i=0;for(r=0;r<o;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<o&&(s=e.charCodeAt(r+1),56320==(64512&s)&&(n=65536+(n-55296<<10)+(s-56320),r++)),i+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(i),a=0,r=0;a<i;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<o&&(s=e.charCodeAt(r+1),56320==(64512&s)&&(n=65536+(n-55296<<10)+(s-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},se=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let s,r;const a=new Array(2*n);for(r=0,s=0;s<n;){let t=e[s++];if(t<128){a[r++]=t;continue}let o=te[t];if(o>4)a[r++]=65533,s+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&s<n;)t=t<<6|63&e[s++],o--;o>1?a[r++]=65533:t<65536?a[r++]=t:(t-=65536,a[r++]=55296|t>>10&1023,a[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ee)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n})(a,r)},re=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+te[e[n]]>t?n:t},ae={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var oe=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var ie=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ce=Object.prototype.toString,{Z_NO_FLUSH:de,Z_FINISH:ue,Z_OK:le,Z_STREAM_END:fe,Z_NEED_DICT:ge,Z_STREAM_ERROR:pe,Z_DATA_ERROR:he,Z_MEM_ERROR:me}=f;function ye(e){this.options=Q({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oe,this.strm.avail_out=0;let n=W(this.strm,t.windowBits);if(n!==le)throw new Error(ae[n]);if(this.header=new ie,Y(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=ne(t.dictionary):"[object ArrayBuffer]"===ce.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=J(this.strm,t.dictionary),n!==le)))throw new Error(ae[n])}function be(e,t){const n=new ye(t);if(n.push(e),n.err)throw n.msg||ae[n.err];return n.result}ye.prototype.push=function(e,t){const n=this.strm,s=this.options.chunkSize,r=this.options.dictionary;let a,o,i;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ue:de,"[object ArrayBuffer]"===ce.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),a=H(n,o),a===ge&&r&&(a=J(n,r),a===le?a=H(n,o):a===he&&(a=ge));n.avail_in>0&&a===fe&&n.state.wrap>0&&0!==e[n.next_in];)z(n),a=H(n,o);switch(a){case pe:case he:case ge:case me:return this.onEnd(a),this.ended=!0,!1}if(i=n.avail_out,n.next_out&&(0===n.avail_out||a===fe))if("string"===this.options.to){let e=re(n.output,n.next_out),t=n.next_out-e,r=se(n.output,e);n.next_out=t,n.avail_out=s-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==le||0!==i){if(a===fe)return a=K(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ye.prototype.onData=function(e){this.chunks.push(e)},ye.prototype.onEnd=function(e){e===le&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Z(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var _e=ye,ve=be,we=function(e,t){return(t=t||{}).raw=!0,be(e,t)},Ie=be,Se=f,Ce={Inflate:_e,inflate:ve,inflateRaw:we,ungzip:Ie,constants:Se};e.Inflate=_e,e.constants=Se,e.default=Ce,e.inflate=ve,e.inflateRaw=we,e.ungzip=Ie,Object.defineProperty(e,"__esModule",{value:!0})}(t)},87894(e,t,n){"use strict";function s(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function r(e,t){return e.reduce((e,n)=>{const[s,r]=t(n);return e[s]=r,e},{})}function a(e,t){return Object.keys(e).reduce((n,s,r)=>(n[s]=t(e[s],s,r,e),n),{})}function o(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}function i(e,t){return t.reduce((t,n)=>(e[n]&&(t[n]=e[n]),t),{})}function c(e,t){const n=new Set(t.map(String));return o(e,Object.keys(e).filter(e=>!n.has(e)))}function d(e){return Object.keys(e).reduce((t,n)=>{const s=n;return void 0!==e[s]&&(t[s]=e[s]),t},{})}function u(e,t,n="asc"){function s(e,t,n,s){const r=("function"==typeof n?n(e):e[n])||0,a=("function"==typeof n?n(t):t[n])||0;return s?r-a:a-r}if(Array.isArray(t)){const[r,a]=Array.isArray(n)?n:[n,n],[o,i]=t,c="asc"===r,d="asc"===a;return e.sort((e,t)=>s(e,t,o,c)||s(e,t,i,d))}const r="asc"===n;return e.sort((e,n)=>s(e,n,t,r))}function l(e){return Array.from(new Set(e))}function f(e,t){return[...new Map(e.map(e=>[e[t],e])).values()]}function g(e){return e.filter(Boolean)}function p(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}function h(e,t){return e[0]<=t[t.length-1]&&e[e.length-1]>=t[0]}function m(e,t){return t[0]<=e&&e<=t[t.length-1]}function y(e,t){return e.filter(e=>t.has(e))}function b(e,t){if(!e?.length)return e;const n=[];let s=0;for(let r=0;r<e.length;r++)t[s]===e[r]?s+=1:n.push(e[r]);return n}function _(e,t){const n=[];for(let s=0;s<e.length;s+=t)n.push(e.slice(s,s+t));return n}function v(e,t){const n=[],s=[];return e.forEach((e,r,a)=>(t(e,r,a)?n:s).push(e)),[n,s]}function w(e){return S(e)?Array.isArray(e)?e.map(w):Object.keys(e).reduce((t,n)=>(t[n]=w(e[n]),t),{}):e}function I(e){return S(e)&&!Array.isArray(e)}function S(e){return"object"==typeof e&&null!==e}function C(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function A(e,t){return Number(t)-Number(e)}n.d(t,{$h:()=>y,Am:()=>l,LG:()=>a,My:()=>u,OX:()=>m,Oy:()=>d,Uk:()=>C,Up:()=>o,Vh:()=>I,Xd:()=>f,_E:()=>i,cJ:()=>c,dU:()=>s,h8:()=>h,jB:()=>v,k:()=>p,lD:()=>_,lK:()=>b,mg:()=>w,oE:()=>g,pA:()=>r,zV:()=>A})},88368(e,t,n){"use strict";function s(e,t){return e.chats.topicsInfoById[t]}function r(e,t){return s(e,t)?.topicsById}function a(e,t,n){return s(e,t)?.topicsById?.[n]}n.d(t,{S0:()=>a,pS:()=>r,xy:()=>s})},88458(e,t,n){"use strict";let s,r;async function a(){return s||(s=n.e(6708).then(n.bind(n,66708)).then(e=>e.default),r=await s),s}function o(){return r}n.d(t,{Y:()=>a,o:()=>o}),setTimeout(a,3e3)},88554(e,t,n){"use strict";n.d(t,{$:()=>v,A:()=>_});var s=n(84051),r=n(13439),a=n(91048),o=n(87357),i=n(76023),c=n(38691),d=n(20021);const u=["#34C578","#3CA3F3"],l=["#C9EB38","#09C167"],f=.125*i.$,g=.25*i.$,p=4*i.$,h=Math.PI/4,m=2*Math.PI*.1,y=h-m/2,b=h+m/2,_=(0,s.ph)((0,r.EK)((e,{peerId:t})=>{const n=(0,a._bp)(e,t),s=(0,a.SJA)(e);return{peerStories:n?.byId,storyIds:n?.orderedIds,lastReadId:n?.lastReadId,appTheme:s}})(function({size:e,className:t,peerStories:n,storyIds:r,lastReadId:a,withExtraGap:h,appTheme:m,colors:y}){const b=(0,s.li)(),_=(0,c.A)(),w=e>p,I=w?g:f,S=e+I+(w?.25*i.$:0),C=(0,s.Kr)(()=>(r||[]).reduce((e,t)=>(e.total+=1,a&&t<=a&&(e.read+=1),e),{total:0,read:0}),[a,r]),A=(0,s.Kr)(()=>!(!n||!r?.length)&&r.some(e=>{const t=n[e];if(!t||!("isForCloseFriends"in t))return!1;const s=a&&t.id<=a;return t.isForCloseFriends&&!s}),[a,n,r]);if((0,s.Nf)(()=>{b.current&&v({canvas:b.current,size:S,strokeWidth:I,segmentsCount:C.total,colorStops:y||(A?l:u),readSegmentsCount:C.read,withExtraGap:h,readSegmentColor:"dark"===m?"#737373":"#C4C9CC",dpr:_})},[m,A,S,C.read,C.total,h,_,y,e,I]),C.total)return(0,d.Y)("canvas",{ref:b,className:(0,o.A)("story-circle",t),style:`max-width: ${S}px; max-height: ${S}px;`})}));function v({canvas:e,size:t,strokeWidth:n=f,colorStops:s,segmentsCount:r,readSegmentsCount:a=0,withExtraGap:o=!1,readSegmentColor:i,dpr:c}){r>45&&(a=Math.round(a*(45/r)),r=45);const d=c,u=c,l=e.getContext("2d");if(!l)return;const g=t*d,p=n*u;e.width=g,e.height=g;const h=g/2,m=(g-p)/2,_=2*Math.PI/r,v=2*Math.PI*.02,w=l.createLinearGradient(0,0,Math.ceil(g*Math.cos(Math.PI/2)),Math.ceil(g*Math.sin(Math.PI/2)));1===s.length?(w.addColorStop(0,s[0]),w.addColorStop(1,s[0])):s.forEach((e,t)=>{w.addColorStop(t/(s.length-1),e)}),l.lineCap="round",l.clearRect(0,0,g,g),Array.from({length:r}).forEach((e,t)=>{const n=t<a;let s=t*_-Math.PI/2+v/2,c=s+_-(r>1?v:0);if(l.strokeStyle=n?i:w,l.lineWidth=p*(n?.5:1),o){if(s>=y&&c<=b)return;s<y&&c>b?(l.beginPath(),l.arc(h,h,m,b,c),l.stroke(),c=y):s<y&&c>y?c=y:s<b&&c>b&&(s=b)}l.beginPath(),l.arc(h,h,m,s,c),l.stroke()})}},88742(e,t,n){"use strict";var s=n(37932),r=n(66644),a=n(63495),o=n(96454),i=n(14487),c=n(14235),d=n(5560),u=n(6e4),l=n(70934),f=n(21687),g=n(57751),p=n(71322),h=n(84382),m=n(84553),y=n(24021),b=n(42385),_=n(13439),v=n(68873),w=n(17567),I=n(32989),S=n(91048),C=n(30708),A=n(55232);(0,h.S)(e=>{let t=(0,_.mS)();t.isInited&&(0,C.lS)(t).shouldUseSystemTheme&&(t=(0,v.qoo)(t,{theme:e}),(0,_.UF)(t))}),(0,_.aJ)("switchMultitabRole",async(e,t,n)=>{const{isMasterTab:s,tabId:r=(0,i.g0)()}=n;if(s!==(0,S.nTw)(e,r).isMasterTab)if(e=(0,I.w)(e,{isMasterTab:s},r),(0,_.UF)(e,{forceSyncOnIOs:!0}),s){if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,l.ug)(),t=JSON.parse(e);(0,g.AA)(t)}(0,g.wr)()&&(0,b.ZJ)(),(e=(0,_.mS)()).passcode.hasPasscode&&e.passcode.isScreenLocked||("connectionStateReady"===e.connectionState&&(e={...e,connectionState:"connectionStateConnecting"},(0,_.UF)(e)),t.initApi()),(0,m.ii)(),a.vM&&(0,A.X)(e.sharedState)}else(0,d.al)(),t.destroyConnection(),(0,m.KX)(),(0,A.m)(),(0,b.z0)(),t.onSomeTabSwitchedMultitabRole();else(0,y.px)("broadcastLocalDbUpdateFull")}),(0,_.aJ)("onSomeTabSwitchedMultitabRole",async e=>{if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,l.ug)(),t=JSON.parse(e);(0,g.AA)(t)}(0,y.px)("broadcastLocalDbUpdateFull")}),(0,_.aJ)("initShared",()=>{(0,m.ii)()}),(0,_.aJ)("initMain",e=>{const{hasWebNotifications:t,hasPushNotifications:n}=(0,S.eCL)(e);if(t&&n){const e=["click","keypress"],t=()=>{(0,d.B1)(),e.forEach(e=>{document.removeEventListener(e,t)})};e.forEach(e=>{document.addEventListener(e,t,{once:!0})})}}),(0,s.DW)(e=>{let t=!1;const n=(0,S.nTw)(e,(0,i.g0)());if(!n?.shouldInit)return;e=(0,_.mS)(),e=(0,I.w)(e,{shouldInit:!1},n.id);const{messageTextSize:s,language:c,shouldUseSystemTheme:d}=(0,C.lS)(e),l=(0,S.SJA)(e),g=(0,h.V)(),y=d?g:l,b=(0,S.Cw0)(e);(0,u.wT)(c,void 0,!0),(0,r.RK)(()=>{document.documentElement.style.setProperty("--composer-text-size",`${Math.max(s,o.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*s)}px`),document.documentElement.style.setProperty("--message-text-size",`${s}px`),document.documentElement.setAttribute("data-message-text-size",s.toString()),document.body.classList.add("initial"),document.body.classList.add(o.TF?"is-touch-env":"is-pointer-env"),(0,f.u)(b),o.pz?document.body.classList.add("is-ios"):o.Ni?document.body.classList.add("is-android"):o.MP?document.body.classList.add("is-macos"):o.H8?document.body.classList.add("is-windows"):o.ig&&document.body.classList.add("is-linux"),o.Yw&&document.body.classList.add("is-safari"),a.Vq&&document.body.classList.add("is-tauri"),a.cp&&document.body.classList.add("is-tauri")});const w=(0,S.PKK)(e);(0,p.A)(y,w),e=(0,v.qoo)(e,{theme:y}),(0,m.ii)(),t=!0,(0,_.UF)(e)}),(0,_.aJ)("setInstallPrompt",(e,t,n)=>{const{canInstall:s,tabId:r=(0,i.g0)()}=n;return(0,I.w)(e,{canInstall:s},r)}),(0,_.aJ)("setIsUiReady",(e,t,n)=>{const{uiReadyState:s,tabId:a=(0,i.g0)()}=n;return 2===s&&(0,r.RK)(()=>{document.body.classList.remove("initial")}),(0,I.w)(e,{uiReadyState:s},a)}),(0,_.aJ)("setAuthPhoneNumber",(e,t,n)=>{const{phoneNumber:s}=n;return(0,w.K)(e,{phoneNumber:s})}),(0,_.aJ)("setAuthRememberMe",(e,t,n)=>(0,w.K)(e,{rememberMe:Boolean(n.value)})),(0,_.aJ)("clearAuthErrorKey",e=>(0,w.K)(e,{errorKey:void 0})),(0,_.aJ)("disableHistoryAnimations",(e,t,n)=>{const{tabId:s=(0,i.g0)()}=n||{};setTimeout(()=>{e=(0,_.mS)(),e=(0,I.w)(e,{shouldSkipHistoryAnimations:!1},s),(0,_.UF)(e),(0,r.RK)(()=>{document.body.classList.remove("no-animate")})},450),e=(0,I.w)(e,{shouldSkipHistoryAnimations:!0},s),(0,_.UF)(e,{forceSyncOnIOs:!0})}),(0,_.aJ)("showNotification",(e,t,n)=>{const{tabId:s=(0,i.g0)(),...r}=n,a=r.localId;r.localId||=(0,c.A)();const o=[...(0,S.nTw)(e,s).notifications],d=o.findIndex(e=>a?e.localId===r.localId:e.message===r.message);return-1!==d&&o.splice(d,1),o.push(r),(0,I.w)(e,{notifications:o},s)}),(0,_.aJ)("dismissNotification",(e,t,n)=>{const{tabId:s=(0,i.g0)()}=n,r=(0,S.nTw)(e,s).notifications.filter(({localId:e})=>e!==n.localId);return(0,I.w)(e,{notifications:r},s)})},89704(e,t,n){"use strict";e.exports=n.p+"lock.f11661905df47960fa3e.png"},89925(e,t,n){"use strict";n.d(t,{$C:()=>i,Bn:()=>o,CC:()=>r,D7:()=>h,DV:()=>g,G9:()=>u,TD:()=>p,TN:()=>s,TQ:()=>d,Ul:()=>c,VS:()=>a,Vw:()=>b,d9:()=>l,je:()=>_,n7:()=>f,tn:()=>y,zW:()=>m});let s=function(e){return e[e.Backwards=0]="Backwards",e[e.Forwards=1]="Forwards",e[e.Around=2]="Around",e}({}),r=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Static=2]="Static",e}({}),a=function(e){return e[e.Main=0]="Main",e[e.EditProfile=1]="EditProfile",e[e.Notifications=2]="Notifications",e[e.DataStorage=3]="DataStorage",e[e.Language=4]="Language",e[e.ActiveSessions=5]="ActiveSessions",e[e.General=6]="General",e[e.GeneralChatBackground=7]="GeneralChatBackground",e[e.GeneralChatBackgroundColor=8]="GeneralChatBackgroundColor",e[e.Privacy=9]="Privacy",e[e.PrivacyPhoneNumber=10]="PrivacyPhoneNumber",e[e.PrivacyAddByPhone=11]="PrivacyAddByPhone",e[e.PrivacyLastSeen=12]="PrivacyLastSeen",e[e.PrivacyProfilePhoto=13]="PrivacyProfilePhoto",e[e.PrivacyBio=14]="PrivacyBio",e[e.PrivacyBirthday=15]="PrivacyBirthday",e[e.PrivacyGifts=16]="PrivacyGifts",e[e.PrivacyPhoneCall=17]="PrivacyPhoneCall",e[e.PrivacyPhoneP2P=18]="PrivacyPhoneP2P",e[e.PrivacyForwarding=19]="PrivacyForwarding",e[e.PrivacyVoiceMessages=20]="PrivacyVoiceMessages",e[e.PrivacyMessages=21]="PrivacyMessages",e[e.PrivacyGroupChats=22]="PrivacyGroupChats",e[e.PrivacyPhoneNumberAllowedContacts=23]="PrivacyPhoneNumberAllowedContacts",e[e.PrivacyPhoneNumberDeniedContacts=24]="PrivacyPhoneNumberDeniedContacts",e[e.PrivacyLastSeenAllowedContacts=25]="PrivacyLastSeenAllowedContacts",e[e.PrivacyLastSeenDeniedContacts=26]="PrivacyLastSeenDeniedContacts",e[e.PrivacyProfilePhotoAllowedContacts=27]="PrivacyProfilePhotoAllowedContacts",e[e.PrivacyProfilePhotoDeniedContacts=28]="PrivacyProfilePhotoDeniedContacts",e[e.PrivacyBioAllowedContacts=29]="PrivacyBioAllowedContacts",e[e.PrivacyBioDeniedContacts=30]="PrivacyBioDeniedContacts",e[e.PrivacyBirthdayAllowedContacts=31]="PrivacyBirthdayAllowedContacts",e[e.PrivacyBirthdayDeniedContacts=32]="PrivacyBirthdayDeniedContacts",e[e.PrivacyGiftsAllowedContacts=33]="PrivacyGiftsAllowedContacts",e[e.PrivacyGiftsDeniedContacts=34]="PrivacyGiftsDeniedContacts",e[e.PrivacyPhoneCallAllowedContacts=35]="PrivacyPhoneCallAllowedContacts",e[e.PrivacyPhoneCallDeniedContacts=36]="PrivacyPhoneCallDeniedContacts",e[e.PrivacyPhoneP2PAllowedContacts=37]="PrivacyPhoneP2PAllowedContacts",e[e.PrivacyPhoneP2PDeniedContacts=38]="PrivacyPhoneP2PDeniedContacts",e[e.PrivacyForwardingAllowedContacts=39]="PrivacyForwardingAllowedContacts",e[e.PrivacyForwardingDeniedContacts=40]="PrivacyForwardingDeniedContacts",e[e.PrivacyVoiceMessagesAllowedContacts=41]="PrivacyVoiceMessagesAllowedContacts",e[e.PrivacyVoiceMessagesDeniedContacts=42]="PrivacyVoiceMessagesDeniedContacts",e[e.PrivacyGroupChatsAllowedContacts=43]="PrivacyGroupChatsAllowedContacts",e[e.PrivacyGroupChatsDeniedContacts=44]="PrivacyGroupChatsDeniedContacts",e[e.PrivacyBlockedUsers=45]="PrivacyBlockedUsers",e[e.PrivacyNoPaidMessages=46]="PrivacyNoPaidMessages",e[e.Performance=47]="Performance",e[e.Folders=48]="Folders",e[e.FoldersCreateFolder=49]="FoldersCreateFolder",e[e.FoldersEditFolder=50]="FoldersEditFolder",e[e.FoldersEditFolderFromChatList=51]="FoldersEditFolderFromChatList",e[e.FoldersEditFolderInvites=52]="FoldersEditFolderInvites",e[e.FoldersIncludedChats=53]="FoldersIncludedChats",e[e.FoldersIncludedChatsFromChatList=54]="FoldersIncludedChatsFromChatList",e[e.FoldersExcludedChats=55]="FoldersExcludedChats",e[e.FoldersExcludedChatsFromChatList=56]="FoldersExcludedChatsFromChatList",e[e.TwoFaDisabled=57]="TwoFaDisabled",e[e.TwoFaNewPassword=58]="TwoFaNewPassword",e[e.TwoFaNewPasswordConfirm=59]="TwoFaNewPasswordConfirm",e[e.TwoFaNewPasswordHint=60]="TwoFaNewPasswordHint",e[e.TwoFaNewPasswordEmail=61]="TwoFaNewPasswordEmail",e[e.TwoFaNewPasswordEmailCode=62]="TwoFaNewPasswordEmailCode",e[e.TwoFaEnabled=63]="TwoFaEnabled",e[e.TwoFaChangePasswordCurrent=64]="TwoFaChangePasswordCurrent",e[e.TwoFaChangePasswordNew=65]="TwoFaChangePasswordNew",e[e.TwoFaChangePasswordConfirm=66]="TwoFaChangePasswordConfirm",e[e.TwoFaChangePasswordHint=67]="TwoFaChangePasswordHint",e[e.TwoFaTurnOff=68]="TwoFaTurnOff",e[e.TwoFaRecoveryEmailCurrentPassword=69]="TwoFaRecoveryEmailCurrentPassword",e[e.TwoFaRecoveryEmail=70]="TwoFaRecoveryEmail",e[e.TwoFaRecoveryEmailCode=71]="TwoFaRecoveryEmailCode",e[e.TwoFaCongratulations=72]="TwoFaCongratulations",e[e.ActiveWebsites=73]="ActiveWebsites",e[e.PasscodeDisabled=74]="PasscodeDisabled",e[e.PasscodeNewPasscode=75]="PasscodeNewPasscode",e[e.PasscodeNewPasscodeConfirm=76]="PasscodeNewPasscodeConfirm",e[e.PasscodeEnabled=77]="PasscodeEnabled",e[e.PasscodeChangePasscodeCurrent=78]="PasscodeChangePasscodeCurrent",e[e.PasscodeChangePasscodeNew=79]="PasscodeChangePasscodeNew",e[e.PasscodeChangePasscodeConfirm=80]="PasscodeChangePasscodeConfirm",e[e.PasscodeTurnOff=81]="PasscodeTurnOff",e[e.PasscodeCongratulations=82]="PasscodeCongratulations",e[e.Experimental=83]="Experimental",e[e.Stickers=84]="Stickers",e[e.QuickReaction=85]="QuickReaction",e[e.CustomEmoji=86]="CustomEmoji",e[e.DoNotTranslate=87]="DoNotTranslate",e[e.FoldersShare=88]="FoldersShare",e[e.Passkeys=89]="Passkeys",e}({}),o=function(e){return e[e.ChatList=0]="ChatList",e[e.GlobalSearch=1]="GlobalSearch",e[e.Settings=2]="Settings",e[e.Contacts=3]="Contacts",e[e.Archived=4]="Archived",e[e.Threads=5]="Threads",e[e.NewChannelStep1=6]="NewChannelStep1",e[e.NewChannelStep2=7]="NewChannelStep2",e[e.NewGroupStep1=8]="NewGroupStep1",e[e.NewGroupStep2=9]="NewGroupStep2",e[e.AlphahumanSidebar=10]="AlphahumanSidebar",e}({}),i=function(e){return e[e.ChatList=0]="ChatList",e[e.ChannelList=1]="ChannelList",e[e.BotApps=2]="BotApps",e[e.PublicPosts=3]="PublicPosts",e[e.Media=4]="Media",e[e.Links=5]="Links",e[e.Files=6]="Files",e[e.Music=7]="Music",e[e.Voice=8]="Voice",e}({}),c=function(e){return e[e.ChatInfo=0]="ChatInfo",e[e.Management=1]="Management",e[e.Statistics=2]="Statistics",e[e.BoostStatistics=3]="BoostStatistics",e[e.MessageStatistics=4]="MessageStatistics",e[e.StoryStatistics=5]="StoryStatistics",e[e.StickerSearch=6]="StickerSearch",e[e.GifSearch=7]="GifSearch",e[e.PollResults=8]="PollResults",e[e.AddingMembers=9]="AddingMembers",e[e.CreateTopic=10]="CreateTopic",e[e.EditTopic=11]="EditTopic",e[e.MonetizationStatistics=12]="MonetizationStatistics",e[e.NewGroup=13]="NewGroup",e[e.AgentChat=14]="AgentChat",e[e.ThreadHistory=15]="ThreadHistory",e}({}),d=function(e){return e[e.Inline=0]="Inline",e[e.ScheduledInline=1]="ScheduledInline",e[e.SharedMedia=2]="SharedMedia",e[e.ProfileAvatar=3]="ProfileAvatar",e[e.SettingsAvatar=4]="SettingsAvatar",e[e.MiddleHeaderAvatar=5]="MiddleHeaderAvatar",e[e.Album=6]="Album",e[e.ScheduledAlbum=7]="ScheduledAlbum",e[e.SearchResult=8]="SearchResult",e[e.ChannelAvatar=9]="ChannelAvatar",e[e.SuggestedAvatar=10]="SuggestedAvatar",e[e.StarsTransaction=11]="StarsTransaction",e[e.PreviewMedia=12]="PreviewMedia",e[e.SponsoredMessage=13]="SponsoredMessage",e}({}),u=function(e){return e[e.StoryRibbon=0]="StoryRibbon",e[e.MiddleHeaderAvatar=1]="MiddleHeaderAvatar",e[e.ChatList=2]="ChatList",e[e.SearchResult=3]="SearchResult",e}({}),l=function(e){return e[e.Inline=0]="Inline",e[e.SharedMedia=1]="SharedMedia",e[e.Search=2]="Search",e[e.OneTimeModal=3]="OneTimeModal",e}({}),f=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),g=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),p=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),h=function(e){return e[e.Closed=0]="Closed",e[e.InProgress=1]="InProgress",e[e.Loading=2]="Loading",e}({}),m=function(e){return e[e.Profile=0]="Profile",e[e.SharedMedia=1]="SharedMedia",e[e.MemberList=2]="MemberList",e[e.GiftList=3]="GiftList",e[e.StoryList=4]="StoryList",e[e.SavedDialogs=5]="SavedDialogs",e}({}),y=function(e){return e[e.Checkout=0]="Checkout",e[e.SavedPayments=1]="SavedPayments",e[e.ConfirmPassword=2]="ConfirmPassword",e[e.PaymentInfo=3]="PaymentInfo",e[e.ShippingInfo=4]="ShippingInfo",e[e.Shipping=5]="Shipping",e[e.ConfirmPayment=6]="ConfirmPayment",e}({});const b="UPLOADING_WALLPAPER_SLUG";let _=function(e){return e[e.Initial=0]="Initial",e[e.ChatPrivacyType=1]="ChatPrivacyType",e[e.Discussion=2]="Discussion",e[e.ChannelSubscribers=3]="ChannelSubscribers",e[e.GroupType=4]="GroupType",e[e.GroupPermissions=5]="GroupPermissions",e[e.GroupRemovedUsers=6]="GroupRemovedUsers",e[e.ChannelRemovedUsers=7]="ChannelRemovedUsers",e[e.GroupUserPermissionsCreate=8]="GroupUserPermissionsCreate",e[e.GroupUserPermissions=9]="GroupUserPermissions",e[e.ChatAdministrators=10]="ChatAdministrators",e[e.GroupRecentActions=11]="GroupRecentActions",e[e.ChatAdminRights=12]="ChatAdminRights",e[e.ChatNewAdminRights=13]="ChatNewAdminRights",e[e.GroupMembers=14]="GroupMembers",e[e.GroupAddAdmins=15]="GroupAddAdmins",e[e.Invites=16]="Invites",e[e.EditInvite=17]="EditInvite",e[e.Reactions=18]="Reactions",e[e.InviteInfo=19]="InviteInfo",e[e.JoinRequests=20]="JoinRequests",e[e.NewDiscussionGroup=21]="NewDiscussionGroup",e}({})},90603(e,t,n){"use strict";n.d(t,{Mt:()=>f,e$:()=>u,GR:()=>l});const s=n.p+"blue.7addb55a171bbda244ac.svg",r=n.p+"green.19008e11c98b08550285.svg";var a=n(38027);const o=n.p+"red.1ab26ec752237fc45355.svg",i=n.p+"rose.6dd2db47d5e1fb9bdb9d.svg",c=n.p+"violet.7c7f825ebb51cf3084e3.svg",d={7322096:[s,"blue"],16766590:[n.p+"yellow.40f6b4865f20f3e6a1ab.svg","yellow"],13338331:[c,"violet"],9367192:[r,"green"],16749490:[i,"rose"],16478047:[o,"red"]};function u(){return Object.keys(d).map(e=>parseInt(e,10))}function l(e){return e&&d[e][0]||a}function f(e){return`--color-topic-${e&&d[e][1]||"grey"}`}},90709(e,t,n){"use strict";n.d(t,{Ny:()=>b,G:()=>u,wT:()=>E,Wi:()=>i.W,rt:()=>o.rt,ZV:()=>o.ZV,eh:()=>o.eh,A3:()=>g,pU:()=>d,Xj:()=>_.Xj,Yh:()=>a.Yh,Sb:()=>a.Sb,Q_:()=>r.Q_,ES:()=>a.ES,AB:()=>o.AB,Fi:()=>_.Fi,Gh:()=>s.Gh,IC:()=>r.IC,l1:()=>r.l1,__:()=>r.__,cP:()=>r.cP,L7:()=>r.L7,Js:()=>r.Js,Gg:()=>r.Gg,SM:()=>M,Em:()=>x,nr:()=>r.nr,mr:()=>o.mr,ZD:()=>a.ZD,A5:()=>r.A5,zc:()=>r.zc,zb:()=>o.zb,ih:()=>o.ih,sT:()=>r.sT,ub:()=>r.ub,$r:()=>o.$r,cG:()=>r.cG,Kl:()=>s.Kl,si:()=>o.si,sd:()=>o.sd,Cz:()=>o.Cz,VO:()=>o.VO,JU:()=>o.JU,VD:()=>o.VD,LK:()=>o.LK,wp:()=>o.wp,Qm:()=>o.Qm,r_:()=>o.r_,lH:()=>o.lH,aN:()=>a.aN,zC:()=>o.zC,nd:()=>o.nd,Op:()=>o.Op,GZ:()=>a.GZ,NO:()=>o.NO,y2:()=>o.y2,yt:()=>a.yt,fB:()=>o.fB,sj:()=>a.sj,qG:()=>o.qG,yl:()=>o.yl,cs:()=>o.cs,cU:()=>c,lk:()=>o.lk,gU:()=>r.gU,Jw:()=>a.Jw,rK:()=>a.rK,wb:()=>a.wb,ni:()=>a.ni,fP:()=>o.fP,P5:()=>a.P5,BN:()=>a.BN,zX:()=>o.zX,gB:()=>o.gB,T_:()=>o.T_,i7:()=>r.i7,CO:()=>r.CO,_n:()=>r._n,PX:()=>r.PX,Zg:()=>r.Zg,kR:()=>s.kR,Xn:()=>o.Xn,xi:()=>o.xi,rI:()=>o.rI,e7:()=>r.e7,mU:()=>o.mU,Jj:()=>l,_I:()=>a._I,aL:()=>I.aL,Mw:()=>o.Mw,$_:()=>w,EN:()=>v,EQ:()=>a.EQ,Do:()=>a.Do,u0:()=>s.u0,Yg:()=>s.Yg,uC:()=>h,CD:()=>s.CD,NZ:()=>o.NZ,sC:()=>o.sC,Ct:()=>o.Ct,Pg:()=>o.Pg,rp:()=>_.rp,cy:()=>o.cy,y3:()=>o.y3,rj:()=>o.rj,eY:()=>o.eY,rU:()=>o.rU,FE:()=>a.FE,KG:()=>o.KG,mR:()=>o.mR,XR:()=>a.XR,G5:()=>a.G5,_P:()=>a._P,Qe:()=>r.Qe,zP:()=>a.zP,SJ:()=>r.SJ,TJ:()=>r.TJ,yn:()=>r.yn,WX:()=>r.WX,YE:()=>r.YE,Ve:()=>r.Ve,gA:()=>r.gA,Vs:()=>r.Vs,kE:()=>r.kE,Rl:()=>r.Rl,VN:()=>r.VN,PL:()=>s.PL,Ml:()=>o.Ml,hr:()=>o.hr,r$:()=>a.r$,Ak:()=>a.Ak,vz:()=>a.vz,X_:()=>a.X_,iZ:()=>o.iZ,Ax:()=>o.Ax,HN:()=>a.HN,Nb:()=>a.Nb,ZR:()=>a.ZR,Ie:()=>a.Ie,eu:()=>m,Tv:()=>a.Tv,a0:()=>f,u7:()=>a.u7,DX:()=>_.DX,NK:()=>a.NK,tv:()=>s.tv,PF:()=>s.PF,Sq:()=>r.Sq,cR:()=>a.cR,Ld:()=>a.Ld,vp:()=>a.vp,fu:()=>p,UB:()=>s.UB,v$:()=>a.v$,m4:()=>I.m4,AK:()=>y});var s=n(79089),r=n(62214),a=n(86525),o=n(77312),i=n(24896);function c(e){return e.isOutgoing?e.reactions?.recentReactions?.[0]:void 0}function d(e,t){const{currentUserId:n}=e;return t?.recentReactions?.some(({isUnread:e,isOwn:t,peerId:s})=>e&&!t&&n!==s)}function u(e){return!e.results.some(({count:e,localAmount:t})=>e||t)}function l(e){switch(e.type){case"emoji":return`emoji-${e.emoticon}`;case"custom":return`document-${e.documentId}`;case"paid":return"paid";default:return`unsupported-${e.emoticon||e.documentId}`}}function f(e,t){return e===t||!(!e||!t)&&l(e)===l(t)}function g(e,t){return"all"===t.type?"emoji"===e.type||t.areCustomAllowed:"some"===t.type&&t.allowed.some(t=>f(t,e))}function p(e,t){return e.slice().sort((e,n)=>{const s=e?"reaction"in e?e.reaction:e:void 0,r=n?"reaction"in n?n.reaction:n:void 0;if("paid"===s?.type)return-1;if("paid"===r?.type)return 1;const a=t?.findIndex(e=>f(e,s))||0,o=t?.findIndex(e=>f(e,r))||0;return(a>-1?a:1/0)-(o>-1?o:1/0)})}function h(e){return e.reactions?.results?.filter(e=>m(e)).sort((e,t)=>e.chosenOrder-t.chosenOrder).map(e=>e.reaction)||[]}function m(e){return void 0!==e.chosenOrder}function y(e,t){const n=e.map(e=>m(e)?{...e,chosenOrder:void 0,count:e.count-1}:e).filter(({count:e})=>e>0);return t.forEach((e,t)=>{const s=n.findIndex(t=>f(t.reaction,e));s>-1?n[s]={...n[s],chosenOrder:t,count:n[s].count+1}:n.push({reaction:e,chosenOrder:t,count:1})}),n}function b(e,t,n,s){const r=[];return e.some(e=>"paid"===e.reaction.type)?(e.forEach(e=>{"paid"!==e.reaction.type?r.push(e):r.push({...e,localAmount:(e.localAmount||0)+t,chosenOrder:-1,localIsPrivate:void 0!==n?n:e.localIsPrivate,localPeerId:s||e.localPeerId,localPreviousChosenOrder:e.chosenOrder})}),r):[{reaction:{type:"paid"},count:0,chosenOrder:-1,localAmount:t,localIsPrivate:n,localPeerId:s},...e]}var _=n(20179);function v(e,t="preview",n){const s=Boolean(e.content.video),r=Boolean(e.content.photo);if(s){if(n&&!e.content.altVideos)return;const s=n?e.content.altVideos.reduce((e,t)=>Math.abs((t.width||0)-480)<Math.abs((e.width||0)-480)?t:e):e.content.video;return(0,o.sC)(s,t)}if(r)return(0,o.rI)(e.content.photo,t)}function w(e,t){return`story${e}-${t}`}var I=n(78396),S=n(9716),C=n(87894),A=n(43336),P=n(4350),k=n(13235),T=n(13439);function E(e,{visibility:t,isUnspecified:n,allowedIds:s,blockedIds:r,shouldAllowPremium:a,botsPrivacy:o}){const{users:{byId:i},chats:{byId:c}}=e,[d,u]=(0,C.jB)(s,S.L8),[l,f]=(0,C.jB)(r,S.L8);return{visibility:t,isUnspecified:n,allowedUsers:d.map(e=>i[e]).filter(Boolean),allowedChats:u.map(e=>c[e]).filter(Boolean),blockedUsers:l.map(e=>i[e]).filter(Boolean),blockedChats:f.map(e=>c[e]).filter(Boolean),shouldAllowPremium:a,botsPrivacy:o}}function M(){const e=(0,T.mS)(),t=e.appConfig.limits?.moreAccounts||k.dR.moreAccounts,n=(0,P.zk)(),s=Object.values(n).filter(e=>e.isPremium).length,r=t[0]+s;return(0,A.qE)(r,t[0],t[1])}function x(){return Object.values((0,P.zk)()).filter(e=>!e.isTest).length}},91048(e,t,n){"use strict";n.d(t,{yMZ:()=>d.yM,SpN:()=>u.Sp,bdt:()=>S,yuw:()=>u.yu,B59:()=>j.B5,ES7:()=>F,WAX:()=>u.WA,BMJ:()=>Y.BM,oei:()=>G.oe,Nr8:()=>G.Nr,tKM:()=>G.tK,bE$:()=>d.bE,XD6:()=>d.XD,yps:()=>f.yp,XOs:()=>f.XO,PKK:()=>R,MBp:()=>B,Rwe:()=>U,wwb:()=>u.ww,OEt:()=>E,jyG:()=>u.jy,DBV:()=>u.DB,ori:()=>u.or,R4s:()=>u.R4,Y8y:()=>u.Y8,X2D:()=>W.X2,hXb:()=>d.hX,e5V:()=>h,BWX:()=>x,tOf:()=>u.tO,mDG:()=>u.mD,RBq:()=>u.RB,Ntz:()=>q.Nt,w5O:()=>d.w5,jGY:()=>d.jG,S86:()=>u.S8,ySL:()=>W.yS,ERc:()=>j.ER,rtZ:()=>j.rt,hds:()=>d.hd,qn$:()=>d.qn,$aQ:()=>d.$,AWZ:()=>d.AW,yHC:()=>d.yH,ZZX:()=>d.ZZ,$TA:()=>d.$T,P4G:()=>d.P4,O5q:()=>u.O5,zeq:()=>u.ze,ToO:()=>d.To,yFI:()=>u.yF,eg5:()=>u.eg,RnX:()=>u.Rn,dfQ:()=>d.df,Egn:()=>u.Eg,meB:()=>u.me,CuV:()=>$.Cu,Wy7:()=>G.Wy,xT4:()=>V,vn8:()=>p,vRX:()=>u.vR,Xf0:()=>u.Xf,TCk:()=>$.TC,BU_:()=>$.BU,BmE:()=>G.Bm,V9I:()=>z.V9,O8F:()=>G.O8,r8w:()=>G.r8,oZ0:()=>G.oZ,nTJ:()=>u.nT,GA4:()=>u.GA,U0A:()=>u.U0,Ys6:()=>u.Ys,KLw:()=>u.KL,dkp:()=>u.dk,VlN:()=>u.Vl,dU3:()=>u.dU,RjD:()=>u.Rj,kdX:()=>u.kd,VC8:()=>u.VC,Szq:()=>u.Sz,DI:()=>u.DI,lC:()=>u.lC,k9R:()=>u.k9,w0X:()=>j.w0,t0O:()=>G.t0,WLj:()=>G.WL,OD9:()=>G.OD,h5w:()=>u.h5,o45:()=>u.o4,aGO:()=>Y.aG,CzR:()=>G.Cz,I_m:()=>d.I_,mJZ:()=>d.mJ,D3D:()=>d.D3,ryq:()=>u.ry,_ls:()=>d._l,ALW:()=>d.AL,nZ4:()=>d.nZ,cwE:()=>N,trm:()=>f.tr,g29:()=>f.g2,SLS:()=>u.SL,sRo:()=>A,clw:()=>C,p5z:()=>u.p5,hc:()=>f.hc,rTV:()=>u.rT,F4N:()=>b,nJv:()=>u.nJ,fo$:()=>u.fo,ynf:()=>u.yn,H1_:()=>u.H1,Jbz:()=>u.Jb,ODG:()=>d.OD,n_C:()=>f.n_,Ani:()=>P,gjV:()=>v,dqr:()=>d.dq,Q31:()=>G.Q3,gd2:()=>z.gd,bL7:()=>K.bL,nIz:()=>D,nTL:()=>d.nT,apd:()=>f.ap,haw:()=>u.h,wmb:()=>q.wm,rKQ:()=>u.rK,xzS:()=>u.xz,gCU:()=>u.gC,YK:()=>g,cO5:()=>u.cO,S1W:()=>u.S1,D_S:()=>u.D_,OEv:()=>u.OE,a_$:()=>u.a_,k2W:()=>d.k2,BSN:()=>q.BS,tVS:()=>u.tV,rQx:()=>u.rQ,Iv$:()=>q.Iv,K52:()=>q.K5,P5N:()=>q.P5,Tl2:()=>u.Tl,Lzh:()=>u.Lz,JiE:()=>u.Ji,aF2:()=>j.aF,PGw:()=>j.PG,PVB:()=>W.PV,HS0:()=>W.HS,dNJ:()=>z.dN,_$$:()=>z._$,kBv:()=>d.kB,c7s:()=>W.c7,WA9:()=>W.WA,IVq:()=>W.IV,Vi6:()=>O,FDg:()=>W.FD,_bp:()=>z._b,Msb:()=>z.Ms,Cw0:()=>k,xYJ:()=>T,fcC:()=>u.fc,gVx:()=>z.gV,KQQ:()=>u.KQ,zcZ:()=>u.zc,Kt9:()=>j.Kt,EGt:()=>j.EG,N1i:()=>u.N1,EHH:()=>u.EH,Vz3:()=>u.Vz,gMr:()=>u.gM,jp_:()=>u.jp,qZq:()=>d.qZ,sam:()=>d.s,p6T:()=>d.p6,Rny:()=>u.iL,GHK:()=>G.GH,t75:()=>_,QP5:()=>u.QP,K3w:()=>u.K3,Jl6:()=>u.Jl,j_4:()=>u.j_,ZZ2:()=>u.ZZ,VF$:()=>d.VF,Y7C:()=>u.Y7,HdA:()=>u.Hd,LM$:()=>u.LM,eCL:()=>q.eC,LRV:()=>d.LR,KIM:()=>q.KI,ML4:()=>M,PIP:()=>u.PI,AOG:()=>d.AO,dg4:()=>d.dg,G4m:()=>j.G4,v8U:()=>u.v8,Osl:()=>j.Os,gqw:()=>y,ycM:()=>G.yc,wg6:()=>G.wg,R3Q:()=>z.R3,e7$:()=>j.e7,ke9:()=>d.ke,nTw:()=>l.n,SJA:()=>w,Gyz:()=>I,$jd:()=>u.$j,Tac:()=>u.T,L_2:()=>u.L_,Vw0:()=>u.Vw,QbG:()=>u.Qb,C5H:()=>u.C5,S0q:()=>H.S0,nkm:()=>u.nk,sZk:()=>u.sZ,pSx:()=>H.pS,xyP:()=>H.xy,Qq_:()=>q.Qq,ldX:()=>u.ld,mBe:()=>f.mB,gTO:()=>f.gT,Ua4:()=>f.U,vGo:()=>f.vG,K0y:()=>f.K0,rA3:()=>u.rA,NHc:()=>u.NH,wtp:()=>L,kgA:()=>u.kg,Pn$:()=>u.Pn});var s=n(89925),r=n(96454),a=n(14487),o=n(77312),i=n(9716),c=n(90709),d=n(21133),u=n(19408),l=n(5056),f=n(19926);function g(e,t,...[n=(0,a.g0)()]){return(0,l.n)(e,n).management.byChatId[t]}function p(e,...[t=(0,a.g0)()]){const{chatId:n,threadId:s}=(0,u.Xf)(e,t)||{};if(!n||!s)return;if((0,f.yp)(e,n))return"bot";if((0,i.L8)(n))return"user";const r=(0,d.hd)(e,n);return r?(0,c.YE)(r)?"group":"channel":void 0}function h(e,t){const n=(0,d.hd)(e,t),s=(0,d._l)(e,t);if(!n||s||n.isMonoforum)return!1;const r=(0,i.L8)(n.id)?(0,f.mB)(e,t):void 0,a=r&&(0,c.Gh)(r),o=r&&(0,c.tv)(r);return Boolean(!a&&n&&!(0,d.nZ)(e,n.id)&&!(0,c.Qe)(n.id)&&((0,i.L8)(n.id)||((0,c.SJ)(n)||n.isCreator)&&!n.isNotJoined)&&!o)}var m=n(30708);function y(e,t,...[n=(0,a.g0)()]){return(0,l.n)(e,n).statistics.byChatId[t]}function b(e,...[t=(0,a.g0)()]){const{mediaViewer:{chatId:n,messageId:s,isAvatarView:r,standaloneMedia:o,isSponsoredMessage:i}}=(0,l.n)(e,t);return Boolean(o||n&&(r||s||i))}function _(e,t,...[n=(0,a.g0)()]){const r=(0,l.n)(e,n);return r.editTopicPanel?s.Ul.EditTopic:r.createTopicPanel?s.Ul.CreateTopic:r.pollResults.messageId?s.Ul.PollResults:function(e,...[t=(0,a.g0)()]){const{chatId:n,threadId:s}=(0,u.Xf)(e,t)||{};if(!n||!s)return;const r=(0,l.n)(e,t).management.byChatId[n];return r?.isActive?r:void 0}(e,n)?s.Ul.Management:r.isStatisticsShown&&r.statistics.currentMessageId?s.Ul.MessageStatistics:r.isStatisticsShown&&r.statistics.currentStoryId?s.Ul.StoryStatistics:function(e,...[t=(0,a.g0)()]){if(!(0,l.n)(e,t).isStatisticsShown)return!1;const{chatId:n}=(0,u.Xf)(e,t)||{};return n?(0,d.AW)(e,n)?.canViewStatistics:void 0}(e,n)?s.Ul.Statistics:r.boostStatistics?s.Ul.BoostStatistics:r.monetizationStatistics?s.Ul.MonetizationStatistics:void 0!==r.stickerSearch.query?s.Ul.StickerSearch:void 0!==r.gifSearch.query?s.Ul.GifSearch:r.newChatMembersProgress!==s.D7.Closed?s.Ul.AddingMembers:r.agentChat.isOpen?s.Ul.AgentChat:r.threadHistory.isOpen?s.Ul.ThreadHistory:r.chatInfo.isOpen&&r.messageLists.length?s.Ul.ChatInfo:void 0}function v(e,t,...[n=(0,a.g0)()]){return void 0!==_(e,0,n)}function w(e){return(0,m.lS)(e).theme}function I(e,t){return e.settings.themes[t]}function S(e){const t=w(e);return e.settings.themes[t]?.patternColor}function C(e,...[t=(0,a.g0)()]){const n=(0,l.n)(e,t);return Boolean(n.forumPanelChatId)&&(void 0===n.globalSearch.query||Boolean(n.globalSearch.isClosing))}function A(e,...[t=(0,a.g0)()]){return!C(e,t)}function P(e,...[t=(0,a.g0)()]){const{reactionPicker:n}=(0,l.n)(e,t);return Boolean(n?.position)}function k(e){return(0,m.lS)(e).performance}function T(e,t){return k(e)[t]}function E(e,t){const n=(0,u.Pn)(e,t),s=(0,o.zX)(t)||(0,o.rU)(n);if(!s)return;const r=T(e,"autoplayVideos"),a=T(e,"autoplayGifs"),i=s.isGif||s.isRound;return r&&!i||a&&i}function M(e){return T(e,"loopAnimatedStickers")}function x(e){return T(e,"animatedEmoji")}function R(e){return T(e,"pageTransitions")}function B(e){return T(e,"rightColumnAnimations")}function U(e){return r.bW&&T(e,"snapEffect")}function N(e){return T(e,"contextMenuBlur")}function D(e){return e.isSynced}function L(e,t,...[n=(0,a.g0)()]){return(0,l.n)(e,n).webApps.openedWebApps[t]}function F(e,...[t=(0,a.g0)()]){const n=(0,l.n)(e,t).webApps.activeWebAppKey;if(n)return L(e,n,t)}function O(e,t){const n="isCustomPeer"in t,s=n?t.peerColorId:void 0,r=n?void 0:t.profileColor;if("collectible"===r?.type)return;const a=r?.color??s;return void 0!==a?e.peerColors?.profile?.[a]:void 0}function V(e,...[t=(0,a.g0)()]){return(0,l.n)(e,t).globalSearch.query}var $=n(94137),G=n(30163),j=n(55475),q=n(30757),z=n(1903),W=n(46211),H=n(88368),K=n(62495),Y=n(64569)},91525(e,t,n){"use strict";function s(e){const{fileName:t,mimeType:n}=e;return r(t,n)}function r(e,t){return e&&-1!==e.indexOf(".")?e.split(".").pop():t.split("/").pop()}function a(e){switch(e){case"apk":case"xls":case"xlsx":case"ods":return"green";case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":case"liz":case"lz4":case"lz5":case"xz":case"zst":case"wim":case"ppt":case"pptx":case"odp":return"orange";case"pdf":case"xps":return"red";default:return"default"}}function o(e){return Boolean(e.previewBlobUrl||e.thumbnail)}n.d(t,{ON:()=>o,QC:()=>r,fE:()=>a,rK:()=>s})},91800(e,t,n){"use strict";function s(e){const t=parseInt(getComputedStyle(e).lineHeight,10);return{totalLines:e.scrollHeight/t,lineHeight:t}}n.d(t,{A:()=>s})},93545(e,t,n){"use strict";n.d(t,{A:()=>i});var s=n(84051),r=n(46536),a=n(41257);const o=new Map;function i(e,t,n=!1){const i=(0,a.i)(t);(0,s.vJ)(()=>{const t=e?.current;if(!t||n)return;const s=([e])=>{0===e.contentRect.width&&0===e.contentRect.height||i.current(e)};let[a,c]=o.get(t)||[void 0,void 0];return a||(c=(0,r.h)(),a=new ResizeObserver(c.runCallbacks),o.set(t,[a,c]),a.observe(t)),c.addCallback(s),()=>{c.removeCallback(s),c.hasCallbacks()||(a.unobserve(t),a.disconnect(),o.delete(t))}},[n,i,e])}},93855(e,t,n){"use strict";n.d(t,{A:()=>m});var s=n(84051),r=n(13439),a=n(31481),o=n(90709),i=n(91048),c=n(87679),d=n(24909),u=n(4350),l=n(63527),f=n(32625),g=n(17712),p=n(62587),h=n(672);function m(e){const t=Boolean(e)&&(0,r.mS)().auth.rememberMe,n=(0,l.A)(i.nIz),[m,y]=(0,s.J0)(()=>(0,u.zk)()),b=e&&(0,o.cP)(e),_=(0,p.A)(b,!t),v=(0,h.A)(()=>{y((0,u.zk)())},[],1e3);(0,s.vJ)(()=>{if(!t||!n)return;const s="regular"===e.color?.type?e.color.color:void 0;(0,u.Ph)(u.Xz,{userId:e.id,firstName:e.firstName,lastName:e.lastName,emojiStatusId:e.emojiStatus?.documentId,color:s,isPremium:e.isPremium,phone:e.phoneNumber}),v()},[t,e?.emojiStatus?.documentId,e?.firstName,e?.id,e?.lastName,e?.color,e?.isPremium,e?.phoneNumber,v,n]);const w=(0,g.A)(async(e,t)=>{const n=await(0,d.y)(e,72,72),s=await(0,c.NN)(n);if(t?.aborted)return;const r=document.createElement("canvas"),a=r.getContext("2d");r.width=s.width,r.height=s.height,a.drawImage(s,0,0);const o=r.toDataURL("image/png");(0,u.Ph)(u.Xz,{avatarUri:o}),v()});return(0,s.vJ)(()=>{if(!_||!t||!n)return;const e=new AbortController;return w(_,e.signal),()=>{e.abort()}},[_,n,t]),(0,f.A)(v,6e4),(0,s.vJ)(()=>{function e(e){e.key?.startsWith(a.um6)&&v()}return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[v]),m}},94137(e,t,n){"use strict";n.d(t,{BU:()=>c,Cu:()=>d,TC:()=>i,f5:()=>u});var s=n(14487),r=n(24896),a=n(19408),o=n(5056);function i(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:i}=(0,a.Xf)(e,t)||{};if(!n||!i)return;const c=(0,r.W)(n,i);return(0,o.n)(e,t).middleSearch.byChatThreadKey[c]}function c(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:i}=(0,a.Xf)(e,t)||{};if(!n||!i)return;const c=(0,r.W)(n,i);return(0,o.n)(e,t).sharedMediaSearch.byChatThreadKey[c]}function d(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:i}=(0,a.Xf)(e,t)||{};if(!n||!i)return;const c=(0,r.W)(n,i);return(0,o.n)(e,t).chatMediaSearch.byChatThreadKey[c]}function u(e,t,n,...[a=(0,s.g0)()]){if(!t||!n)return;const i=(0,r.W)(t,n);return(0,o.n)(e,a).chatMediaSearch.byChatThreadKey[i]}},94519(e,t,n){"use strict";n.d(t,{A:()=>u});var s=n(84051),r=n(43336),a=n(16460),o=n(17712),i=n(93545),c=n(46637),d=n(672);function u(e,t){const[n,u]=(0,s.J0)(),[l,f]=(0,s.J0)(),g=(0,o.A)(()=>{const n=e.current,s=t?.current;if(!n||!s)return;if(!s.offsetWidth||!s.offsetHeight)return;const o=n.classList.contains("sticker-set-cover")||n.classList.contains("sticker-reaction")?n:n.querySelector("img");if(!o)return;const{left:i,top:c}=(0,a.A)(o,s.parentElement),{left:d,top:l}=(0,a.A)(s,s.parentElement),g=i-d,p=c-l;u((0,r.LI)(g/s.clientWidth,4)||0),f((0,r.LI)(p/s.clientHeight,4)||0)});(0,s.vJ)(g,[g]);const p=(0,d.A)(g,[g],150);return(0,i.A)(t,p),(0,c.A)(t,p),(0,s.Kr)(()=>void 0!==n&&void 0!==l?{x:n,y:l}:void 0,[n,l])}},95175(e,t,n){"use strict";n.d(t,{K:()=>i});var s=n(87894);const r=Symbol("EQUAL"),a={__delete:!0},o={__deleteAllChildren:!0};function i(e,t){if(e===t)return r;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(c=t,(n=e).length===c.length&&n.every((e,t)=>i(e,c[t])===r)))return r;var n,c;if(!(0,s.Vh)(e)||!(0,s.Vh)(t))return t;const d=e,u=t,l=Object.keys(d),f=Object.keys(u);if(!f.length)return l.length?o:r;const g=(0,s.Am)(l.concat(f)).reduce((e,t)=>{const n=d[t],s=u[t];if(!u.hasOwnProperty(t))return e[t]=a,e;if(!d.hasOwnProperty(t))return e[t]=s,e;const o=i(n,s);return o!==r&&(e[t]=o),e},{});return 0===Object.keys(g).length?r:g}},95753(e,t,n){"use strict";n.d(t,{_B:()=>l,gt:()=>c,lc:()=>u,oe:()=>i,rm:()=>d,xG:()=>f});var s=n(14487),r=n(87894),a=n(91048),o=n(32989);function i(e,t,n,s,r){const o=(0,a.a_$)(e,t,s);return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...e.translations.byChatId[t],byLangCode:{...e.translations.byChatId[t]?.byLangCode,[s]:{...o,[n]:{...o[n],...r}}}}}}}}function c(e,t,n){const s=e.translations.byChatId[t];if(!s)return e;const{byLangCode:a}=s,o=Object.keys(a).reduce((e,t)=>{const s=(0,r.cJ)(a[t],[n]);return Object.keys(s).length&&(e[t]=s),e},{});return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...s,byLangCode:o}}}}}function d(e,t,n,s,r){return n.forEach((n,a)=>{e=i(e,t,n,s,{text:r[a],isPending:!1})}),e}function u(e,t,n,...[r=(0,s.g0)()]){const i=(0,a.nTw)(e,r);return(0,o.w)(e,{requestedTranslations:{...i.requestedTranslations,byChatId:{...i.requestedTranslations.byChatId,[t]:{toLanguage:n}}}},r)}function l(e,t,n,r,...[i=(0,s.g0)()]){const c=(0,a.nTw)(e,i);return(0,o.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:{...c.requestedTranslations.byChatId[t]?.manualMessages,[n]:r}}}}},i)}function f(e,t,n,...[i=(0,s.g0)()]){const c=(0,a.nTw)(e,i),d=c.requestedTranslations.byChatId[t]?.manualMessages;if(!d)return e;const u=(0,r.cJ)(d,[n]);return(0,o.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:u}}}},i)}},95807(e,t,n){"use strict";function s(...e){return e.filter(Boolean).join(";")}n.d(t,{A:()=>s})},96454(e,t,n){"use strict";n.d(t,{$M:()=>p,Aw:()=>a,Bu:()=>H,CM:()=>V,DL:()=>j,Fy:()=>L,H$:()=>W,H8:()=>i,J6:()=>E,MP:()=>o,Nd:()=>g,Ni:()=>u,OF:()=>B,OL:()=>T,OS:()=>O,Oo:()=>A,QH:()=>P,SC:()=>k,So:()=>U,TF:()=>b,TL:()=>v,Tz:()=>w,Uz:()=>C,Yw:()=>f,_7:()=>m,bW:()=>M,et:()=>q,ig:()=>c,ir:()=>G,kn:()=>z,l5:()=>N,lE:()=>y,nB:()=>F,ol:()=>D,pW:()=>_,pz:()=>d,uH:()=>x,w3:()=>h,yS:()=>l,zf:()=>$});var s=n(31481),r=n(63495);window.location.host,s.mFn;const a=function(){const{userAgent:e,platform:t}=window.navigator;return-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}(),o="macOS"===a,i="Windows"===a,c="Linux"===a,d="iOS"===a,u="Android"===a,l=d||u,f=!(navigator.userAgentData?.brands.some(e=>"Chromium"===e.brand)||/Chrom(e|ium)\//.test(navigator.userAgent))&&/applewebkit/i.test(navigator.userAgent),g=navigator.userAgent.includes("YaBrowser"),p=navigator.userAgent.toLowerCase().includes("firefox")||navigator.userAgent.toLowerCase().includes("iceweasel")||navigator.userAgent.toLowerCase().includes("icecat"),h={Main:0,Auxiliary:1,Secondary:2,Fourth:3,Fifth:4},m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),y=m||r.Vq,b=window.matchMedia("(pointer: coarse)").matches,_=Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext)),v=a&&(o||d)&&function(){const e=document.createElement("span");e.classList.add("emoji-test-element"),document.body.appendChild(e),e.innerText="ðŸ‡¨ðŸ‡¶";const t=e.offsetWidth;e.innerText="â¤ï¸";const n=e.offsetWidth;return document.body.removeChild(e),Math.abs(t-n)<5}(),w="serviceWorker"in navigator,I=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)?.[2],S=I&&132===Number(I),C=w&&!S,A=Boolean((new Audio).canPlayType("audio/ogg; codecs=opus")),P=!s.W75&&"filter"in(document.createElement("canvas").getContext("2d")||{}),k="requestFullscreen"in document.createElement("div"),T=!0,E=!l&&!p&&!f,M=!l&&!p&&!f,x=!p,R=document.createElement("video"),B=Boolean(R.canPlayType('video/webm; codecs="vp9"').replace("no","")),U=!0,N=Boolean(navigator.storage?.getDirectory);N&&(async()=>{try{const e=await navigator.storage.getDirectory();await e.removeEntry("downloads",{recursive:!0})}catch{}})();const D=CSS.supports("offset-rotate: 0deg"),L=CSS.supports("backdrop-filter: blur()")||CSS.supports("-webkit-backdrop-filter: blur()"),F="onbeforeinstallprompt"in window,O=!(m&&l),V=!s.W75,$="LanguageDetector"in window,G=CSS.supports("view-transition-class: test")&&!p,j=navigator.credentials&&window.PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential,q=750,z=((()=>{const e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;e.remove(),document.documentElement.style.setProperty("--scrollbar-width",`${t}px`)})(),1048576*(l?512:2e3)),W="geolocation"in navigator,H=async()=>{try{const e=await navigator.permissions.query({name:"geolocation"});if("granted"===e.state||"prompt"===e.state)return{accessRequested:!0,accessGranted:!0,geolocation:await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})};if("denied"===e.state)return{accessRequested:!0,accessGranted:!1}}catch(e){return{accessRequested:!1,accessGranted:!1}}return{accessRequested:!1,accessGranted:!1}}},96530(e,t,n){"use strict";n.d(t,{A:()=>o});var s=n(87357),r=n(17712);var a=n(20021);const o=({children:e,isPrimary:t,className:n,isRtl:o,withMultilineFix:i,onClick:c})=>{const d=(0,r.A)(e=>{e.preventDefault(),c(e)});return(0,a.Y)("a",{href:"#",className:(0,s.A)("Link","swBnOk1h",n,t&&"Jz1SC8nz"),dir:i?void 0:o?"rtl":"auto",onClick:c?d:void 0,children:e})}},96773(e,t,n){"use strict";n.d(t,{A:()=>T});var s=n(84051),r=n(13439),a=n(31481),o=n(90709),i=n(70636),c=n(26129),d=n(91048),u=n(24585),l=n(17663),f=n(17142),g=n(48775);function p(e,t){const n=t.map((e,t)=>`$PLACEHOLDER-${t}`),s=e.internalFormatters.conjunction.formatToParts(n),r=[];return s.forEach(e=>{if("literal"===e.type)return void r.push(e.value);const n=Number(e.value.slice(13));r.push(t[n])}),r}var h=n(80140),m=n(4961),y=n(18501),b=n(4262),_=n(39351),v=n(17712),w=n(59030),I=n(87412),S=n(76471),C=n(96530),A=n(50805),P=n(20021);const k="ActionUnsupported",T=(0,s.ph)((0,r.EK)((e,{message:t})=>{const n=(0,d.hds)(e,t.chatId),s=(0,d.Y7C)(e,t),{replyToMsgId:r,replyToPeerId:a}=(0,c.Q)(t)||{},o=r?(0,d.O5q)(e,a||t.chatId,r):void 0;return{currentUserId:e.currentUserId,replyMessage:o,chat:n,sender:s}})(({message:e,currentUserId:t,sender:n,chat:s,replyMessage:c,isInsideTopic:T,asPreview:E})=>{const{openTelegramLink:M,openUrl:x}=(0,r.ko)(),{chatId:R,isOutgoing:B}=e,U=e.content.action,N=(0,_.A)(),D=(0,w.A)();function L(e){return E?e:(0,P.Y)("span",{className:A.A.strong,children:e})}return(0,v.A)(()=>{const _=(0,r.mS)(),v=R===a.zv8,w=R===t,A=s&&(0,o.WX)(s),F=n&&(0,i.F9)(N,n),O=s&&(0,i.F9)(N,s),V=N("ActionFallbackUser"),$=N("ActionFallbackChat"),G=N("ActionFallbackChannel"),j=(0,b.Nm)(n?.id,F||V,E),q=(0,b.Nm)(s?.id,O||$,E);switch(U.type){case"pinMessage":if(c){const e=(0,o.BN)(N,c);if(e){const t=(0,b.sB)(c,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),E);return(0,b.AD)(N,"ActionPinnedText",B,{text:t,from:j})}const t=(0,b.I$)(N,c);if(t){const e=(0,b.sB)(c,t,E);return(0,b.AD)(N,"ActionPinnedMedia",B,{from:j,media:e})}}return(0,b.AD)(N,"ActionPinnedNotFound",B,{from:j});case"gameScore":{const{score:e}=U,t=c?.content.game?.title,n=t&&(0,b.sB)(c,(0,m.A)(t),E);return n?(0,b.AD)(N,"ActionGameScore",B,{from:j,count:e,game:n},{pluralValue:e}):(0,b.AD)(N,"ActionGameScoreNoGame",B,{from:j,count:e},{pluralValue:e})}case"chatJoinedByLink":return N("ActionUserJoinedByLink",{from:j},{withNodes:!0});case"chatJoinedByRequest":return(0,b.AD)(N,"ActionJoinedByRequest",B,{from:j});case"channelJoined":{const{isViaRequest:e,inviterId:n}=U,s=n?(0,d.PVB)(_,n):void 0;if(s&&n!==t){const e=(0,b.Nm)(n,(0,i.F9)(N,s)||V,E);return N("ActionAddYou",{from:e},{withNodes:!0})}return N(e?"ActionChannelJoinedByRequestChannelYou":"ActionChannelJoinedYou")}case"chatEditTitle":{const{title:e}=U;return A?N("ActionChangedTitleChannel",{title:e}):(0,b.AD)(N,"ActionChangedTitle",B,{title:e,from:j})}case"chatDeletePhoto":return A?N("ActionRemovedPhotoChannel"):(0,b.AD)(N,"ActionRemovedPhoto",B,{from:j});case"chatEditPhoto":return A?N("ActionChangedPhotoChannel"):(0,b.AD)(N,"ActionChangedPhoto",B,{from:j});case"chatCreate":{const{title:e}=U;return N("ActionCreatedChat",{title:e,from:j},{withNodes:!0})}case"channelCreate":{const{title:e}=U;return A?N("ActionCreatedChannel"):(0,b.AD)(N,"ActionCreatedChat",B,{title:e,from:j})}case"chatMigrateTo":{const{channelId:e}=U,t=(0,d.hds)(_,e),n=(0,b.Nm)(e,(0,i.F9)(N,t),E);return N("ActionMigratedTo",{chat:n},{withNodes:!0})}case"channelMigrateFrom":{const{chatId:e,title:t}=U,n=(0,b.Nm)(e,t||$,E);return N("ActionMigratedFrom",{chat:n},{withNodes:!0})}case"topicCreate":{const{title:t,iconColor:n,iconEmojiId:s}=U,r=(0,d.L_2)(_,e),a=(0,P.FD)(P.FK,{children:[s?(0,P.Y)(I.A,{documentId:s,isSelectable:!0}):(0,P.Y)(S.A,{topicId:r,title:t,iconColor:n}),"Â ",(0,m.A)(t)]}),o=(0,b.U5)(R,Number(r),a,E);return N("ActionTopicCreated",{topic:o},{withNodes:!0})}case"topicEdit":{const{iconEmojiId:t,isClosed:n,isHidden:s,title:r}=U,o=(0,d.L_2)(_,e),i=(0,d.S0q)(_,R,o),c=(0,P.FD)(P.FK,{children:[t&&"0"!==t?(0,P.Y)(I.A,{documentId:t,isSelectable:!0}):(0,P.Y)(S.A,{topicId:o,title:r||i?.title||N("ActionTopicPlaceholder"),iconColor:i?.iconColor}),o!==a.HxB&&"Â ",(0,m.A)(r||i?.title||N("ActionTopicPlaceholder"))]}),u=(0,b.U5)(R,Number(o),c,E),l=(0,b.U5)(R,Number(o),N("ActionTopicPlaceholder"),E);return void 0!==n?T?N(n?"ActionTopicClosedInside":"ActionTopicReopenedInside"):N(n?"ActionTopicClosed":"ActionTopicReopened",{from:j,topic:u},{withNodes:!0}):void 0!==s?T?N(s?"ActionTopicHiddenInside":"ActionTopicUnhiddenInside"):N(s?"ActionTopicHidden":"ActionTopicUnhidden",{topic:u},{withNodes:!0}):r&&t?N("ActionTopicIconAndRenamed",{from:j,link:l,topic:u},{withNodes:!0}):void 0===r?t&&"0"!==t?N("ActionTopicIconChanged",{from:j,link:l,emoji:(0,P.Y)(I.A,{documentId:t,loopLimit:2})},{withNodes:!0}):N("ActionTopicIconRemoved",{from:j,link:l},{withNodes:!0}):N("ActionTopicRenamed",{from:j,link:l,title:r},{withNodes:!0})}case"boostApply":return(0,b.AD)(N,"ActionBoostApply",B,{from:j,count:U.boosts},{pluralValue:U.boosts});case"chatAddUser":{const{userIds:e}=U;if(n?.id===e[0])return(0,b.AD)(N,"ActionUserJoined",B,{from:j});if(1===e.length){const t=(0,d.PVB)(_,e[0]),n=t&&(0,i.F9)(N,t)||V,s=(0,b.Nm)(t?.id,n,E);return(0,b.AD)(N,"ActionAddUser",B,{from:j,user:s})}const t=e.map(e=>(0,d.PVB)(_,e)).filter(Boolean);if(!t.length)return(0,b.AD)(N,"ActionAddUser",B,{from:j,user:V});const s=t.map(e=>(0,b.Nm)(e.id,(0,i.F9)(N,e)||V,E));return(0,b.AD)(N,"ActionAddUsersMany",B,{from:j,users:p(N,s)})}case"chatDeleteUser":{const{userId:e}=U;if(n?.id===e)return(0,b.AD)(N,"ActionUserLeft",B,{from:j});const t=(0,d.PVB)(_,e),s=t&&(0,i.F9)(N,t)||V,r=(0,b.Nm)(t?.id,s,E);return(0,b.AD)(N,"ActionKickUser",B,{from:j,user:r})}case"botAllowed":{const{app:e,domain:t,isAttachMenu:s,isFromRequest:r}=U;if(s)return N("ActionAttachMenuBotAllowed");if(r)return N("ActionWebappBotAllowed");if(e){const t=n&&(0,o.Kl)(n),s=t&&`${a.jsp+t}/${e.shortName}`,r=s?(0,P.Y)(C.A,{onClick:()=>M({url:s}),children:e.title}):N("ActionBotAppPlaceholder");return N("ActionBotAllowedFromApp",{app:r},{withNodes:!0})}if(!t)return N(k);const i=(0,u.Tc)(t),c=(0,P.Y)(C.A,{onClick:()=>x({url:i}),children:t});return N("ActionBotAllowedFromDomain",{domain:c},{withNodes:!0})}case"giveawayLaunch":{const{stars:e}=U;return e?N(A?"ActionGiveawayStarsStarted":"ActionGiveawayStarsStartedGroup",{from:j,amount:L((0,g.Kk)(N,e))},{withNodes:!0}):N(A?"ActionGiveawayStarted":"ActionGiveawayStartedGroup",{from:j},{withNodes:!0})}case"giveawayResults":{const{winnersCount:e,isStars:t,unclaimedCount:n}=U;return e?n?N(t?"ActionGiveawayResultsStarsSome":"ActionGiveawayResultsSome"):N(t?"ActionGiveawayResultsStars":"ActionGiveawayResults",{count:e},{pluralValue:e}):N("ActionGiveawayResultsNone")}case"giftStars":case"giftPremium":case"giftTon":{const{amount:e,currency:t,cryptoAmount:n,cryptoCurrency:s,type:r}=U,a=(0,f.vv)(N,e,t,{asFontIcon:!0}),o=n&&"giftTon"!==r?(0,f.vv)(N,n,s):void 0,i=o?N("ActionGiftCostCrypto",{price:a,cryptoPrice:o},{withNodes:!0}):a;return v?N("ActionGiftTextCostAnonymous",{cost:i},{withNodes:!0}):(0,b.AD)(N,"ActionGiftTextCost",B,{from:j,cost:L(i)})}case"prizeStars":case"giftCode":return(0,b.AD)(N,"ActionGiftTextUnknown",B,void 0);case"groupCall":{const{duration:e}=U,t=e?(0,l.A$)(N,e):void 0;return t?A?N("ActionGroupCallFinishedChannel",{duration:t}):N("ActionGroupCallFinishedGroup",{from:j,duration:t},{withNodes:!0}):A?N("ActionGroupCallStartedChannel"):N("ActionGroupCallStartedGroup",{from:j},{withNodes:!0})}case"groupCallScheduled":{const{scheduleDate:e}=U,t=(0,l.L2)(1e3*e,N.code,!0);return A?N("ActionGroupCallScheduledChannel",{date:t}):N("ActionGroupCallScheduledGroup",{from:j,date:t},{withNodes:!0})}case"inviteToGroupCall":{const{userIds:e}=U;if(1===e.length){const t=(0,d.PVB)(_,e[0]),n=t&&(0,i.F9)(N,t)||V,s=(0,b.Nm)(t?.id,n,E);return(0,b.AD)(N,"ActionVideoInvited",B,{from:j,user:s})}const t=e.map(e=>(0,d.PVB)(_,e)).filter(Boolean);if(!t.length)return(0,b.AD)(N,"ActionVideoInvited",B,{from:j,user:V});const n=t.map(e=>(0,b.Nm)(e.id,(0,i.F9)(N,e)||V,E));return(0,b.AD)(N,"ActionVideoInvitedMany",B,{from:j,users:p(N,n)})}case"paymentSent":{const{currency:e,totalAmount:t,isRecurringInit:n,isRecurringUsed:s}=U,r=L((0,f.vv)(N,t,e,{asFontIcon:!0})),a=c&&(0,o.NO)(c),i=a?.title;return s?N("ActionPaymentUsedRecurring",{amount:r},{withNodes:!0}):i?N(n?"ActionPaymentInitRecurringFor":"ActionPaymentDoneFor",{amount:r,user:q,invoice:(0,b.sB)(c,i,E)},{withNodes:!0}):N(n?"ActionPaymentInitRecurring":"ActionPaymentDone",{amount:r,user:q},{withNodes:!0})}case"paymentRefunded":{const{currency:e,totalAmount:t,peerId:n}=U,s=(0,d.PVB)(_,n),r=s&&(0,i.F9)(N,s)||V,a=(0,b.Nm)(s?.id,r,E),o=(0,f.vv)(N,t,e,{asFontIcon:!0});return N("ActionPaymentRefunded",{peer:a,amount:o},{withNodes:!0})}case"starGift":{const{gift:e,alreadyPaidUpgradeStars:s,peerId:r,savedId:a,fromId:o,isPrepaidUpgrade:c,isAuctionAcquired:u}=U,l=Boolean(r&&a),f=o?(0,d.PVB)(_,o):n,p=f&&(0,i.F9)(N,f)||V,h=(0,b.Nm)(f?.id,p,E),m=r?(0,d.PVB)(_,r):void 0,y=m&&(0,i.F9)(N,m)||(l?G:V),I=(0,b.Nm)(m?.id,y,E),S=e.stars+(s||0),C=L((0,g.Kk)(N,S));if(u)return N("ActionStarGiftAuctionWon",{cost:C},{withNodes:!0});if(c&&e.upgradeStars){const t=L((0,g.Kk)(N,e.upgradeStars));return(0,b.AD)(N,"ActionStarGiftPrepaidUpgrade",B,{peer:B?I:j,cost:t})}if(l){const e=(0,d.PVB)(_,r),n=f?.id===t,s=e&&(0,i.F9)(N,e)||G,a=(0,b.Nm)(r,s,E);return(0,b.AD)(N,"ActionStarGiftSentChannel",n,{user:h,channel:a,cost:C})}return v?N("ActionStarGiftReceivedAnonymous",{cost:C},{withNodes:!0}):w?N("ActionStarGiftSelfBought",{cost:C},{withNodes:!0}):B?N("ActionStarGiftSent",{cost:C},{withNodes:!0}):N("ActionStarGiftReceived",{user:j,cost:C},{withNodes:!0})}case"starGiftUnique":{const{isTransferred:e,isUpgrade:s,savedId:r,peerId:o,fromId:c,resaleAmount:u,gift:l,transferStars:p,isPrepaidUpgrade:h}=U,m=Boolean(o&&r),y=c?(0,d.PVB)(_,c):n,v=y&&(0,i.F9)(N,y)||V,I=(0,b.Nm)(y?.id,v,E),S=o?(0,d.PVB)(_,o):void 0,C=S&&(0,i.F9)(N,S)||(m?G:V),A=(0,b.Nm)(S?.id,C,E);if(h)return B?N("ActionStarGiftPrepaidUpgradedYou"):N("ActionStarGiftPrepaidUpgraded",{user:A},{withNodes:!0});if(u&&!p){const e=u.currency===a.ykW?(0,g.QH)(N,(0,f.wD)(u.amount)):(0,g.Kk)(N,u.amount);return N(B?"ApiMessageMessageActionResaleStarGiftUniqueOutgoing":"ApiMessageMessageActionResaleStarGiftUniqueIncoming",{gift:N("GiftUnique",{title:l.title,number:l.number}),stars:L(e)},{withNodes:!0})}if(m){const n=(0,d.PVB)(_,o),r=y?.id===t,c=y?.id===a.zv8,u=n&&(0,i.F9)(N,n)||G,l=(0,b.Nm)(o,u,E);if(s)return(0,b.AD)(N,"ActionStarGiftUpgradedChannel",r,{user:I,channel:l});if(e)return c?N("ActionStarGiftTransferredUnknownChannel",{channel:l},{withNodes:!0}):(0,b.AD)(N,"ActionStarGiftTransferredChannel",r,{user:I,channel:l})}if(w){if(s)return N("ActionStarGiftUpgradedSelf");if(e)return N("ActionStarGiftTransferredSelf")}return s?B?N("ActionStarGiftUpgradedMine",{user:q},{withNodes:!0}):w?N("ActionStarGiftUpgradedSelf"):N("ActionStarGiftUpgradedUser",{user:j},{withNodes:!0}):!e&&!p||u?B?N("ActionGiftUniqueSent"):N("ActionGiftUniqueReceived",{user:j},{withNodes:!0}):n?.id===a.zv8?N("ActionStarGiftTransferredUnknown"):w?N("ActionStarGiftTransferredSelf"):B?N("ActionStarGiftTransferredMine",{user:q},{withNodes:!0}):N("ActionStarGiftTransferred",{user:j},{withNodes:!0})}case"suggestProfilePhoto":{const e=B?s:n,t=(0,b.Nm)(e.id,(0,i.F9)(N,e)||V,E);return(0,b.AD)(N,"ActionSuggestedPhoto",B,{user:t})}case"webViewDataSent":return N("ActionWebviewDataDone",{text:U.text});case"expired":{const{isRoundVideo:e,isVoice:t}=U;return N(t?"ActionExpiredVoice":e?"ActionExpiredVideo":k)}case"historyClear":return N("ActionHistoryCleared");case"screenshotTaken":return(0,b.AD)(N,"ActionScreenshotTaken",B,{from:j});case"contactSignUp":return N("ActionUserRegistered",{from:j},{withNodes:!0});case"customAction":return U.message;case"paidMessagesPrice":{const{stars:e,isAllowedInChannel:t}=U;return 0===e?A?N(t?"ActionMessageChannelFree":"ActionMessageChannelDisabled",{peer:q},{withNodes:!0}):(0,b.AD)(N,"ActionPaidMessagePriceFree",B,{peer:j}):(0,b.AD)(N,"ActionPaidMessagePrice",B,{peer:j,amount:(0,g.Kk)(N,e)},{withMarkdown:!0})}case"paidMessagesRefunded":{const{stars:e}=U,t=(0,d.PVB)(_,R),n=t&&(0,i.F9)(N,t)||V;return N(B?"ApiMessageActionPaidMessagesRefundedOutgoing":"ApiMessageActionPaidMessagesRefundedIncoming",{stars:(0,g.Kk)(N,e),user:(0,b.Nm)(t?.id,n)},{withNodes:!0,withMarkdown:!0})}case"suggestedPostSuccess":{const{amount:e}=U,t=e?.currency||a.OUy,n=e?.amount||0,r=s?.isMonoforum?(0,d.k2W)(_,R):s,o=r&&(0,i.F9)(N,r),c=(0,b.Nm)(r?.id,o||G,E),u=t===a.ykW?(0,g.QH)(N,(0,f.wD)(n)):(0,g.Kk)(N,n);return N("ActionSuggestedPostSuccess",{channel:c,amount:u},{withNodes:!0})}case"suggestedPostRefund":{const{payerInitiated:e}=U,t=c?(0,d.Y7C)(_,c):n,r=t&&(0,i.F9)(N,t),o=(0,b.Nm)(t?.id,r||V,E),u=c?.suggestedPostInfo?.price,l=u?.currency||a.OUy,p=u?.amount||0,h=s?.isMonoforum?(0,d.k2W)(_,R):s,m=h&&(0,i.F9)(N,h),y=(0,b.Nm)(h?.id,m||G,E),v=l===a.ykW?(0,g.QH)(N,(0,f.wD)(p)):(0,g.Kk)(N,p);return e?N("SuggestedPostRefundedByUser",{amount:v,user:o,channel:y},{withNodes:!0,withMarkdown:!0}):N("SuggestedPostRefundedByChannel",{amount:v,peer:o,channel:y},{withNodes:!0,withMarkdown:!0})}case"suggestedPostApproval":{const{isRejected:e,isBalanceTooLow:t,rejectComment:r}=U;if(e)return(0,b.AD)(N,r?"SuggestedPostRejectedWithReason":"SuggestedPostRejected",B,{peer:j},{withMarkdown:!0});if(t){const e=c?(0,d.Y7C)(_,c):n,t=e&&(0,i.F9)(N,e),s=(0,b.Nm)(e?.id,t||V,E),r=(c?.suggestedPostInfo?.price?.currency||a.OUy)===a.ykW?N("CurrencyTon"):N("CurrencyStars");return N("SuggestedPostBalanceTooLow",{peer:s,currency:r},{withNodes:!0,withMarkdown:!0})}const o=s?.isMonoforum?(0,d.k2W)(_,R):s,u=o&&(0,i.F9)(N,o),f=(0,b.Nm)(o?.id,u||G,E),{scheduleDate:g}=U;if(g){const e=(0,l.e0)(g,N,D),t=g<=(0,h.Fm)();return(0,b.AD)(N,t?"SuggestedPostPublished":"SuggestedPostPublishSchedule",B,{peer:f,date:e},{withMarkdown:!0})}return N(k)}case"todoCompletions":{const{completedIds:e,incompletedIds:t}=U;let n,s;const{todo:r}=c?(0,o.r_)(c):{};if(r){const a=r.todo.items;n=a.find(t=>e.includes(t.id)),s=a.find(e=>t.includes(e.id))}if(s){const e=s.title,t=(0,b.sB)(c,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),E);return(0,b.AD)(N,"MessageActionTodoCompletionsAsNotDone",B,{peer:j,task:t})}if(n){const e=n.title,t=(0,b.sB)(c,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),E);return(0,b.AD)(N,"MessageActionTodoCompletionsAsDone",B,{peer:j,task:t})}if(e){const t=N("MessageActionTodoTaskCount",{count:e.length},{pluralValue:e.length}),n=(0,b.sB)(c,(0,y.fd)({text:t,asPreview:!0}),E,{noEllipsis:!0});return(0,b.AD)(N,"MessageActionTodoCompletionsAsDone",B,{peer:j,task:n})}const a=N("MessageActionTodoTaskCount",{count:t.length},{pluralValue:t.length}),i=(0,b.sB)(c,(0,y.fd)({text:a,asPreview:!0}),E,{noEllipsis:!0});return(0,b.AD)(N,"MessageActionTodoCompletionsAsNotDone",B,{peer:j,task:i})}case"todoAppendTasks":{const{items:e}=U,{todo:t}=c?(0,o.r_)(c):{},n=t?.todo.title.text||"",s=(0,b.sB)(c,(0,y.fd)({text:n,asPreview:!0}),E);if(1===e.length){const t=e[0].title,n=(0,b.sB)(c,(0,y.fd)({text:t.text,entities:t.entities,asPreview:!0}),E);return(0,b.AD)(N,"MessageActionAppendTodo",B,{peer:j,task:n,list:s})}const r=N("MessageActionTodoTaskCount",{count:e.length},{pluralValue:e.length}),a=(0,b.sB)(c,(0,y.fd)({text:r,asPreview:!0}),E,{noEllipsis:!0});return(0,b.AD)(N,"MessageActionAppendTodoMultiple",B,{peer:j,tasks:a,list:s})}case"phoneCall":return N((0,b.fB)(U,B));default:return N(k)}})()}))},98255(e,t,n){"use strict";n.d(t,{A:()=>c});var s=n(37932),r=n(13439),a=n(22237),o=n(35297);const i=new Map;(0,s.DW)(e=>{for(const[t,{setter:n}]of i)n(t(e))});const c=function(e){let t=i.get(e);if(!t){const[n,s]=(0,a.n5)(e((0,r.mS)()));t={clientsCount:0,getter:n,setter:s},i.set(e,t)}return(0,o.A)(()=>{const t=i.get(e);return t.clientsCount++,()=>{t.clientsCount--,t.clientsCount||i.delete(e)}},[e]),t.getter}},98607(e,t,n){"use strict";function s(e,t,n){const s=e.split(t),[r,...a]=s;return a.reduce((e,t)=>e.concat(n,t),[r]).filter(Boolean)}function r(e,t,n){return"string"==typeof e?s(e,t,n):e&&Array.isArray(e)?e.flatMap(e=>"string"==typeof e?s(e,t,n):Array.isArray(e)?r(e,t,n):e):e}n.d(t,{i:()=>s,t:()=>r})},99375(e,t,n){"use strict";n.d(t,{Ay:()=>i,Dd:()=>d,zr:()=>c});var s=n(31481);const r={CHAT_RESTRICTED:"You can't send messages in this chat, you were restricted",CHAT_SEND_POLL_FORBIDDEN:"You can't create polls in this chat",CHAT_SEND_STICKERS_FORBIDDEN:"You can't send stickers in this chat",CHAT_SEND_GIFS_FORBIDDEN:"You can't send gifs in this chat",CHAT_SEND_MEDIA_FORBIDDEN:"You can't send media in this chat",CHAT_LINK_EXISTS:"The chat is public, you can't hide the history to new users",SLOWMODE_WAIT_X:"Slowmode is enabled in this chat: you must wait for the specified number of seconds before sending another message to the chat.",USER_BANNED_IN_CHANNEL:"You're banned from sending messages in supergroups / channels",USER_IS_BLOCKED:"You were blocked by this user",YOU_BLOCKED_USER:"You blocked this user",IMAGE_PROCESS_FAILED:"Failure while processing image",MEDIA_EMPTY:"The provided media object is invalid",MEDIA_GROUPED_INVALID:"Failed to replace album media",MEDIA_NEW_INVALID:"Failed to replace new media",MESSAGE_NOT_MODIFIED:"Message not modified. The new content is identical to the current one.",MEDIA_INVALID:"Media invalid",PASSWORD_HASH_INVALID:"Incorrect password",PHOTO_EXT_INVALID:"The extension of the photo is invalid",PHOTO_INVALID_DIMENSIONS:"The photo dimensions are invalid",PHOTO_SAVE_FILE_INVALID:"Internal issues, try again later",MESSAGE_DELETE_FORBIDDEN:"You can't delete one of the messages you tried to delete, most likely because it is a service message.",MESSAGE_POLL_CLOSED:"Poll closed",MESSAGE_EDIT_TIME_EXPIRED:"You can't edit this message anymore.",PINNED_DIALOGS_TOO_MUCH:"Sorry, you can only pin 5 chats to the top",CHANNEL_PRIVATE:"This channel is private",MEDIA_CAPTION_TOO_LONG:"The provided caption is too long",ADDRESS_STREET_LINE1_INVALID:"The address you provided is not valid",ADDRESS_STREET_LINE2_INVALID:"The address you provided is not valid",ADDRESS_CITY_INVALID:"The city you provided is not valid",ADDRESS_COUNTRY_INVALID:"The country you provided is not valid",ADDRESS_POSTCODE_INVALID:"The postcode you provided is not valid",ADDRESS_STATE_INVALID:"The state you provided is not valid",REQ_INFO_NAME_INVALID:"The name you provided is not valid",REQ_INFO_PHONE_INVALID:"The phone you provided is not valid",REQ_INFO_EMAIL_INVALID:"The email you provided is not valid",LINK_NOT_MODIFIED:"This discussion is already linked to the channel",MESSAGE_TOO_LONG:"Message is too long",SERVICE_WORKER_DISABLED:"Service Worker is disabled. Streaming media may not be supported. Try reloading the page without holding <Shift> key",MESSAGE_TOO_LONG_PLEASE_REMOVE_CHARACTERS:"The provided message is too long. Please remove {EXTRA_CHARS_COUNT} character{PLURAL_S}.",FRESH_RESET_AUTHORISATION_FORBIDDEN:"You canâ€™t logout other sessions if less than 24 hours have passed since you logged on the current session",BOTS_TOO_MUCH:"There are too many bots in this chat/channel",BOT_GROUPS_BLOCKED:"This bot can't be added to groups",USERS_TOO_MUCH:"The maximum number of users has been exceeded",USER_CHANNELS_TOO_MUCH:"One of the users you tried to add is already in too many channels/supergroups",USER_KICKED:"This user was kicked from this supergroup/channel",USER_NOT_MUTUAL_CONTACT:"The provided user is not a mutual contact",USER_PRIVACY_RESTRICTED:"The user's privacy settings do not allow you to do this",INVITE_HASH_EMPTY:"The invite hash is empty",INVITE_HASH_EXPIRED:"The invite link has expired",INVITE_HASH_INVALID:"The invite hash is invalid",CHANNELS_TOO_MUCH:"You have joined too many channels/supergroups",USER_ALREADY_PARTICIPANT:"You already in the group",SCHEDULE_DATE_INVALID:"Invalid schedule date provided",WALLPAPER_DIMENSIONS_INVALID:"The wallpaper dimensions are invalid, please select another file",ADMINS_TOO_MUCH:"There are too many admins",ADMIN_RANK_EMOJI_NOT_ALLOWED:"An admin rank cannot contain emojis",ADMIN_RANK_INVALID:"The specified admin rank is invalid",FRESH_CHANGE_ADMINS_FORBIDDEN:"You were just elected admin, you can't add or modify other admins yet",INPUT_USER_DEACTIVATED:"Can't do this action to a deleted account",BOT_PRECHECKOUT_TIMEOUT:"The request for payment has expired",PROVIDER_ACCOUNT_TIMEOUT:"Request to the payment provider has expired",STARGIFT_CONVERT_TOO_OLD:"This gift no longer can be converted to Stars",SUBSCRIPTION_ALREADY_ACTIVE:"You are already subscribed",PEERS_LIST_EMPTY:"No chats are added to the list",PAID_MEDIA_FORBIDDEN:"You can't send paid media in this chat",USER_DISALLOWED_STARGIFTS:"User is not accepting gifts"};s.Oig&&(r.CHAT_WRITE_FORBIDDEN="You can't write in this chat",r.CHAT_ADMIN_REQUIRED="You must be an admin in this chat to do this");const a={ADDRESS_STREET_LINE1_INVALID:{field:"streetLine1",message:"Incorrect street address"},ADDRESS_STREET_LINE2_INVALID:{field:"streetLine2",message:"Incorrect street address"},ADDRESS_CITY_INVALID:{field:"city",message:"Incorrect city"},ADDRESS_COUNTRY_INVALID:{field:"countryIso2",message:"Incorrect country"},ADDRESS_POSTCODE_INVALID:{field:"postCode",message:"Incorrect post code"},ADDRESS_STATE_INVALID:{field:"state",message:"Incorrect state"},REQ_INFO_NAME_INVALID:{field:"fullName",message:"Incorrect name"},REQ_INFO_PHONE_INVALID:{field:"phone",message:"Incorrect phone"},REQ_INFO_EMAIL_INVALID:{field:"email",message:"Incorrect email"}},o=new Set(["BOT_PRECHECKOUT_FAILED","PAYMENT_FAILED"]);function i(e){const{message:t,isSlowMode:n,textParams:s}=e;if(n){const e=t.indexOf(" (caused by");return e>0?t.substring(0,e):t}let a=r[t];return a&&s&&(a=Object.keys(s).reduce((e,t)=>e.replace(t,s[t]),a)),a}function c(e){return a[e.message]}function d(e){return o.has(e.message)}}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"==typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"==typeof n.then)return n}var r=Object.create(null);o.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>a[e]=()=>n[e]);return a.default=()=>n,o.d(r,a),r},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,n)=>(o.f[n](e,t),t),[])),o.u=e=>e+"."+{26:"d42450dc56640b1ae27f",46:"1f296786b4b7ec17dc01",59:"dd88e76406cb6bb4ee99",61:"90b18d7e14e7f2d2cd82",69:"648f3f970f9aa8241dec",90:"435e37d1050b83369f3b",103:"94ca41907433e3a100f8",131:"999fe102ea7b8b6e7bd6",194:"fe29c004acd27b212485",213:"346b7f1b29008340076b",234:"d356069a970bacaaa3f2",304:"eb789f69371d7b59d034",313:"6762e1c8475c10546741",356:"eac92228ab1fa5ea42d9",373:"ad933aaace223551a687",387:"b5d31d4916f1dc896736",400:"5e15991358a64f489b61",405:"9ebdcbf5d54ca4945947",409:"fce16b7594bf808a473d",433:"13d1679f9c71eb7b0f36",453:"7aba01d64b7090c4168b",482:"0f8c86fe53ed93e92c9f",562:"62dc75e88882f2b75e18",564:"bc969cef20e92ace67a5",633:"c5af4556cf67949607d0",676:"2f3586f227b3c3b92132",683:"c49779dd9429d22fa76c",695:"71b64cce9d8ef3bcd603",748:"a116d1870cfe8fec11f4",768:"9885ce4c6bf3e80444b8",835:"360d591b755d21c69548",947:"19f842ff6be2cf0629e6",970:"68129826e3ac78ca5a60",984:"1ac4466376847410440d",996:"a8dbc41e71438a90c062",1022:"b6b4c00395e0cb18c423",1095:"b4d9bdc59cb3b059fc3f",1105:"c487668b3b60b3a1f786",1164:"39a91364139ba5d8f18b",1168:"77f1915df3042db3064e",1215:"47ef5a0e8e6dc9f8b23c",1348:"4c77480922e7cbd8e9c9",1387:"2b71d7eb62f2ca593645",1401:"a39bfd55e8c996eab31c",1465:"ffc487369f0c39aebf80",1516:"a6f225def68398dfbc7c",1567:"53ba58bb2e984748589c",1575:"586213da1fea97f73c96",1586:"f65e493a367f3ca64f9d",1620:"d226904eba9b2b1da735",1670:"77c75930e7534de19264",1692:"56b9745648d8780718d4",1700:"9be2d31666730b5cfa2f",1775:"a6071b9d656415562335",1780:"fdc64722ce7264f7ebc0",1877:"2f7ecd05cc8d70f2fb0c",1930:"c8f77a3a2fcea2c5a889",2057:"82a2ad50fc4256dda39c",2158:"ca0050108eb278545f98",2164:"731a9ab06ab66bab1a1e",2225:"fd69d6ba85906e47ca66",2230:"47ed6feb510de3f040e9",2263:"1faa54b4fae1f21c0a59",2315:"bff46f469ef077822165",2394:"165016e1af67fd6c90fa",2448:"f1da7a47d88066772e84",2465:"85c59f68fbe5089c0943",2498:"c8e3e2c0da75d35c6608",2651:"f0a1a6077f9afa7696ea",2670:"9737a48998a6454a952f",2729:"f4efba1f2bdd37e1a55c",2800:"dfcb59f460e2c877fa7b",2801:"8842236b5f5cbf0b2686",2856:"03b0e7170e6a4e5a949a",2857:"af05287e08cf1de9b645",2859:"9238962a2121e18ab020",2916:"0e6b8d785bcdfc90f1a1",2990:"8495a179e74b9346cc6c",3080:"3e651706c7dbc098692d",3272:"a2344e3393361e80d864",3325:"105eb88e6eab8c322f29",3363:"895f47ffe0eac3d5eb7e",3405:"e054fe83663ae1685277",3499:"80ce013f263af659b3c8",3524:"b5664be32ce063988e11",3564:"1d0ed96c6ddae5bf0988",3715:"600e1ca66cf1ce19ccae",3731:"b4f101d92d77ffa435dc",3745:"e57891f1228edf138c63",3747:"8e7d7812644a6841d4b3",3787:"03f30e547fb1d8deb163",3813:"6bf21c8badc91bbc5610",3892:"b32c5f1201212118610c",3906:"f1eaa2fee0b5cdb8a766",3981:"a4729e0a8cce6eafc3ab",4008:"56ca101b055e6bacae40",4019:"44332b4f8a8d17e5a967",4020:"e63bde1a9241d23381c5",4102:"41a654cbdb45e3b673bc",4128:"26aa06652c577720dabe",4134:"17d3297e3e035bd91029",4180:"1b75a4448ceb719a3738",4204:"71c2ea704dc4e4bdbc43",4230:"75b03afd87ee1ebcafdf",4326:"3e6197c047229ef234fd",4336:"d832286a43072f2eee83",4383:"1ae645a0406c1468c784",4435:"31746bf937849884155c",4448:"70e50622b95750be3b12",4484:"2cc82a17fd7ffa38335c",4550:"427508a76cecef16f3d4",4765:"ace7b726252df58fece4",4785:"183ec9a60842ac108984",4810:"78271fa08dc08c5fbb10",4917:"30c8b957edc77f09dda5",4940:"7c0fadbf2503e12e1c0f",5032:"55a2ee9510b3fb83a424",5046:"48d3e5a91ae0b6083be8",5060:"c297cbea45374f18cf73",5073:"01039cbf84742b8b7329",5116:"e519f174b099f8bd2236",5148:"5361670bbbb75ffcf4bc",5193:"6a726769b851069b3b2c",5246:"73f6c3c8898da871776e",5260:"802b59f8622032a9c98f",5269:"7f001c3812fd5f2bcdc1",5336:"589d193e8a74ec0d3fc5",5345:"f3de6f81a1ea42d269b1",5361:"c775137362e1e6513e43",5408:"9d19e33f731fd5de5806",5420:"4e58ec001503659d948a",5429:"0cf14038bce0e59d5de5",5434:"8ab4efc6401c88627921",5438:"76ec714a86d7c0c94a68",5499:"ef18f07a3242df97616a",5525:"0f22975f288b08013bf2",5628:"39b3258e394999a10721",5719:"1f3acfc2b4f9a3c7c392",5735:"514031621c6b44e7d3fe",5819:"8519713404ec92a39e26",5962:"6efdc7b1a77cf75bdd7b",6005:"a4415670d3dd34f8784c",6047:"d47862028c2efabe804a",6058:"ae15a40167fea15ded8a",6167:"eacaf5b55eb5216764db",6168:"130393fdc4c19a638710",6241:"bd8b64db3b3f38619f8a",6265:"e78abddb57734c4e5621",6272:"08ac6e205d1028a088f3",6308:"7f64cc841a957ca784f4",6314:"101ec08f51eb426fd42d",6338:"322eca7147ac4cdd4a36",6438:"98fd99285e3416d79179",6441:"db3dbf9983dc0d880a7a",6442:"39e3c09c0020ed6129bd",6473:"f8e7c8d064ca8c529b6f",6685:"e8765fa3bf4aee64ba1c",6686:"39f110d8cc643acf8471",6708:"e271a05126ecfc3dde97",6726:"8ade1a6f82e7245828e7",6802:"e224578d8ae8741c7a50",6827:"54bb7c735a02f23944bc",6854:"50083268c2a50f9472fd",6860:"7e8a1cf7576ef42884d0",6869:"8e6bef3a51cb39cf0712",6930:"d9f5fe18b10ff3c740cd",6947:"203be054c3b22cd13dad",7001:"8192d4cc113a712a48ac",7120:"861921f79c28f1c99c72",7244:"dc19cae3f028c5d34896",7276:"2adbfe29cd62bb2a7d6a",7283:"36e8612b60ce28140475",7353:"f037a4ac95e76b584a34",7357:"67b51dab94789e79dcba",7405:"71f8f462c579227ba275",7408:"2ef11f87352381caada9",7424:"97b34d57a45ce61529a7",7426:"92e65e80641806abe1c4",7487:"b53eb606a7814d0c01f3",7499:"849a11c540cf1eaa07fc",7561:"5ece2de96ec98edaf60e",7586:"be685801cd14a8982b1c",7594:"0e0d0e81185165e876f2",7612:"e31654890c52973e04eb",7617:"67e3aae71e321040aaf6",7688:"c6284aace709e94cf7a4",7738:"e526facc521749ec8a89",7768:"501676da351f022bc1eb",7854:"299222fe8adb91ecb663",7880:"bf5770eada6e868f8161",7901:"1f0107f229f44fed1d82",7939:"130465def73ddf4fabe9",7972:"2fea24a83f85e313cb3e",7978:"88546edfa1e867eab83e",8043:"ab004f29c2e0cdcaab85",8062:"0dd35623c010798b1ca4",8100:"c343218f3f597a3bcea3",8114:"58f75a1159e1d944cb88",8142:"56d5bbe37a61443cefb8",8150:"b830be2e1a53ff5c6e53",8169:"10a89a24f091ddb760a3",8201:"670ad37dfc5197daa429",8213:"f31131ac825f51f3e9f7",8214:"6c56767a4d14bbddc617",8233:"85844c42d58a0b47be5f",8308:"906b15ca617589b77e13",8349:"15fe46cdbbdc710c6098",8393:"70032037c7d8cff1533c",8409:"4cded9bb3a97c03bd70b",8590:"73b0dd17508a20fed95e",8602:"a575d509b15e427646be",8764:"b3a515e969ad88f6402e",8790:"d73185342608912e14c7",8804:"4825e6ccd94f2a381b6c",8843:"06c64d7c9b1cfbb6a7a2",8924:"6982ce0da62e3829ffac",8925:"64f4ee0df28d228251b6",8967:"f48e81b01da8e66a89f8",8980:"0359186057d5162dac41",9004:"4df0f376ddfbc4139e71",9030:"5c93da0f8ceafe3ded4f",9072:"081b1224b5aa200a9e2b",9141:"80248a79109eb2afdaed",9183:"682c16bcd0bdd6c092fc",9238:"d341475c2a03f92bdd35",9250:"ccb33e6f99d2c24f8505",9287:"0270f3c92e13fa843854",9295:"1fb093c32ab899d98c4e",9359:"3c935654a35e6a605e0a",9375:"a7c825230b63cb5dec7c",9443:"64ad9e2c0544710c7d94",9451:"ea7f8857125e717fe211",9549:"2e2f20615f2170938b7b",9623:"6c12ccd0b80b6a493ad0",9677:"237a35a8b60262b25bb2",9710:"47d283cf5e57a2f137a9",9753:"532bc8683f96283b76d3",9761:"098fd276d6878c0bb5a8",9849:"8d7bc011da08cbb6b000",9869:"9b25ddc987874f7569f4",9998:"3a242cc4249d72179c0a"}[e]+".js",o.miniCssF=e=>(({2394:"BundleCalls",4765:"shared-components",6930:"BundleStars",7405:"BundleAuth",7768:"BundleMain",9451:"BundleExtra"}[e]||e)+"."+{1670:"77c75930e7534de19264",2394:"165016e1af67fd6c90fa",3892:"b32c5f1201212118610c",4765:"ace7b726252df58fece4",4810:"78271fa08dc08c5fbb10",6930:"d9f5fe18b10ff3c740cd",7405:"71f8f462c579227ba275",7768:"501676da351f022bc1eb",9451:"ea7f8857125e717fe211"}[e]+".css"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},s="alphahuman-telegram:",o.l=(e,t,r,a)=>{if(n[e])n[e].push(t);else{var i,c;if(void 0!==r)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==s+r){i=l;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",s+r),i.src=e),n[e]=[t];var f=(t,s)=>{i.onerror=i.onload=null,clearTimeout(g);var r=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(s)),t)return t(s)},g=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{if("undefined"!=typeof document){var e={7784:0,8287:0,8792:0};o.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{1670:1,2394:1,3892:1,4765:1,4810:1,6930:1,7405:1,7768:1,9451:1}[t]&&n.push(e[t]=(e=>new Promise((t,n)=>{var s=o.miniCssF(e),r=o.p+s;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var r=(o=n[s]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){var o;if((r=(o=a[s]).getAttribute("data-href"))===e||r===t)return o}})(s,r))return t();((e,t,n,s,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",o.nc&&(a.nonce=o.nc),a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)s();else{var o=n&&n.type,i=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=i,a.parentNode&&a.parentNode.removeChild(a),r(c)}},a.href=t,document.head.appendChild(a)})(e,r,0,t,n)}))(t).then(()=>{e[t]=0},n=>{throw delete e[t],n}))}}})(),(()=>{o.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={7784:0,8287:0,8792:0};o.f.j=(t,n)=>{var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var r=new Promise((n,r)=>s=e[t]=[n,r]);n.push(s[2]=r);var a=o.p+o.u(t),i=new Error;o.l(a,n=>{if(o.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,s[1](i)}},"chunk-"+t,t)}};var t=(t,n)=>{var s,r,[a,i,c]=n,d=0;if(a.some(t=>0!==e[t])){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);c&&c(o)}for(t&&t(n);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkalphahuman_telegram=self.webpackChunkalphahuman_telegram||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";o(2188);var e=o(13439),t=o(31481),n=o(96454),s=o(55148),r=o(87679),a=o(5560);function i(n){const o=n.data;if(t.MVx&&console.log("[SW] Message from worker",o),!o.type)return;const i=(0,e.ko)(),c=o.payload;switch(o.type){case"focusMessage":i.focusMessage?.(c);break;case"playNotificationSound":(0,a.wC)(o.payload.id);break;case"share":i.openChatWithDraft({text:(0,s.E)(c.url,c.text,c.title),files:(0,r.kc)(c.files)})}}function c(){navigator.serviceWorker.removeEventListener("message",i),navigator.serviceWorker.addEventListener("message",i),(0,a.Mi)()}n.Tz&&(window.addEventListener("load",async()=>{try{const s=navigator.serviceWorker.controller;if(!s||s.scriptURL.includes("/k/")){const e=(await navigator.serviceWorker.getRegistrations()).filter(e=>!e.scope.includes("/k/"));e.length&&(t.Oig&&console.log("[SW] Hard reload detected, re-enabling Service Worker"),await Promise.all(e.map(e=>e.unregister())))}await navigator.serviceWorker.register(new URL(o.p+o.u(234),o.b)),t.Oig&&console.log("[SW] ServiceWorker registered"),await navigator.serviceWorker.ready,await navigator.serviceWorker.getRegistration(),navigator.serviceWorker.controller?(t.Oig&&console.log("[SW] ServiceWorker ready"),c()):(t.Oig&&console.error("[SW] ServiceWorker not available"),n.pz||n.Ni||t.W75||(0,e.ko)().showDialog?.({data:{message:"SERVICE_WORKER_DISABLED",hasErrorKey:!0}}))}catch(e){t.Oig&&console.error("[SW] ServiceWorker registration failed: ",e)}}),window.addEventListener("focus",async()=>{await navigator.serviceWorker.ready,c()}));var d=o(37932),u=o(80140),l=o(68873),f=o(91048);let g,p=[];function h(){let t=(0,e.mS)();if(!t.isInited)return;const n=(0,u.Fm)();Object.values(t.stories.byPeerId).forEach(e=>{Object.values(e.byId).forEach(e=>{"story"===e["@type"]&&(e.expireDate>n||e.isInProfile||(t=(0,l.ONz)(t,e.peerId,e.id)))})}),(0,e.UF)(t)}(0,d.DW)(e=>{const t=g;g=e;const n=(0,f.nTw)(e)?.isMasterTab,s=t&&(0,f.nTw)(t)?.isMasterTab;n!==s&&(n&&!s?p.length||p.push(window.setInterval(h,12e4)):(p.forEach(e=>clearInterval(e)),p=[]))});var m=o(63495),y=o(74824),b=o(14487),_=o(42385),v=o(20714),w=o(87894),I=o(57751);async function S(n=!1,s){if(s=s||(0,e.mS)(),!n&&"byTabId"in s)return;const r=(0,w.mg)(v.HB),a=await(0,_.Lj)(r);let o=a||r;t.fng&&(o.auth.state="authorizationStateReady");const{hasPasscode:i,isScreenLocked:c}=o.passcode;if(i&&!c&&(o=(0,l.Vg3)(o,{isScreenLocked:!0}),(0,I.rE)()),n&&(o.byTabId=s.byTabId),!a){const e=await(0,_.Jr)();e&&(o.sharedState=e)}(0,e.UF)(o)}var C=o(60343),A=o(80089),P=o(66414),k=o(74065),T=o(68344),E=o(32989),M=o(55232);(0,_.r2)(),(0,e.aJ)("initShared",async(e,t,n)=>{const{force:s}=n||{};await S(s,e)}),(0,e.aJ)("init",(t,n,s)=>{const{tabId:r=(0,b.g0)(),isMasterTab:a}=s||{},o=(0,w.mg)(v.Je);o.id=r,o.audioPlayer.playbackRate=t.audioPlayer.lastPlaybackRate,o.audioPlayer.isPlaybackRateActive=t.audioPlayer.isLastPlaybackRateActive,o.mediaViewer.playbackRate=t.mediaViewer.lastPlaybackRate,t.lastIsChatInfoShown&&(o.chatInfo={isOpen:!0}),t={...t,byTabId:{...t.byTabId,[r]:o}},a&&(o.isMasterTab=!0),m.vM&&o.isMasterTab&&(0,M.X)(t.sharedState),Object.keys(t.messages.byChatId).forEach(e=>{const n=t.messages.byChatId[e].threadsById;Object.keys(n).forEach(n=>{const s=Number(n),a=(0,f.C5H)(t,e,s,"lastViewportIds");a?.every(n=>(0,C.iL)(n)||t.messages.byChatId[e]?.byId[n])?(t=(0,T.tX)(t,e,s,r),t=(0,l.n4t)(t,e,s,"viewportIds",a,r)):t=(0,l.eww)(t,e,s,"lastViewportIds",void 0)})}),Object.keys(t.messages.byChatId).forEach(e=>{const n=t.messages.byChatId[e].threadsById,s=Object.keys(n).reduce((e,t)=>{const s=n[Number(t)];return e[Number(t)]={...s,listedIds:s.lastViewportIds},e},{});t={...t,messages:{...t.messages,byChatId:{...t.messages.byChatId,[e]:{...t.messages.byChatId[e],threadsById:s}}}}});const i=(0,P.xV)(t.currentUserId);"authorizationStateReady"===t.auth.state||t.passcode.hasPasscode||t.passcode.isScreenLocked||Object.values(t.byTabId).forEach(({id:e})=>{e!==r&&(t=(0,E.w)(t,{inactiveReason:"auth"},e))}),(0,y.isCacheApiSupported)().then(n=>{(t=(0,e.mS)()).isCacheApiSupported=n,(0,e.UF)(t)}),t.peerColors&&(0,k.En)(t.peerColors.general);const c=i&&"chatId"in i?[i]:o.messageLists;return(0,E.w)(t,{messageLists:c},r)}),(0,e.aJ)("requestMasterAndCallAction",async(t,n,s)=>{const{tabId:r=(0,b.g0)()}=s;if((0,f.nTw)(t,r).isMasterTab){const{action:e,payload:t}=s;return void n[e](t)}t.phoneCall||t.groupCalls.activeGroupCallId?(await(0,A.po)(A.ar.Calls),"hangUp"in n&&n.hangUp({tabId:r}),"leaveGroupCall"in n&&n.leaveGroupCall({tabId:r})):(0,b.I)(),t=(0,e.mS)(),t=(0,E.w)(t,{multitabNextAction:s},r),(0,e.UF)(t)}),(0,e.aJ)("clearMultitabNextAction",(e,t,n)=>{const{tabId:s=(0,b.g0)()}=n||{};return(0,E.w)(e,{multitabNextAction:void 0},s)});var x=o(61433),R=o(66644),B=o(30708),U=o(19822),N=o(37836);let D=!1;async function L(){await new Promise(e=>{const t=[];let n=performance.now();(0,U.i0)(()=>{const s=performance.now();if(t.push(s-n),n=s,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0},N.IJ)})<=35&&function(){D=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame(()=>{t.addEventListener("transitionend",()=>{e.remove()}),t.style.transform=""})}()}var F=o(59607),O=o(43044),V=o(4350),$=o(19800);let G=!1;async function j(e){try{const t=e instanceof URL?e:new URL(e,window.location.href);if(window.location.origin===t.origin)await window.tauri.openNewWindow(t.toString());else{const e=await o.e(8967).then(o.bind(o,11348));await e.open(t.toString())}}catch(t){console.error("Failed to open link:",e,t)}}var q=o(84051),z=o(75357),W=o(87357),H=o(4029),K=o(70934),Y=o(43503);var J=o(43874),X=o(29886),Q=o(5718),Z=o(61157),ee=(o(88742),o(11117),o(48544),o(26943),o(4990),o(14)),te=o(26072),ne=o(41036),se=o(80464),re=o(52745),ae=o(20021);const oe=()=>{const e=(0,se.A)(A.ar.Auth,"AuthCode");return e?(0,ae.Y)(e,{}):(0,ae.Y)(re.A,{})},ie=()=>{const e=(0,se.A)(A.ar.Auth,"AuthPassword");return e?(0,ae.Y)(e,{}):(0,ae.Y)(re.A,{})},ce=["400 1em Roboto","500 1em Roboto","500 1em 'Numbers Rounded'"];function de(){if("fonts"in document)return Promise.all(ce.map(e=>document.fonts.load(e)))}var ue=o(6e4),le=o(64713);function fe(){const e=new URL(window.location.href),t=document.referrer?new URL(document.referrer):void 0;if(t?.origin===e.origin&&t.pathname===e.pathname&&t.searchParams.get("account")!==e.searchParams.get("account"))return void window.location.assign(t);const n=(0,V.Nv)(1);window.location.href=n}function ge(){let e=navigator.language.toLowerCase();return e&&"pt-br"!==e&&(e=e.substr(0,2)),e}var pe=o(37661),he=o(39351),me=o(24021),ye=o(17712);function be(e,n){const[s,r]=(0,q.J0)(void 0),a=(0,ye.A)(async()=>{if(!n)return;const s=await(0,me.px)("fetchLangStrings",{langCode:n,langPack:t.rgX,keys:[e]}),r=s?.strings[e];return r&&"string"==typeof r?r:void 0});return(0,q.vJ)(()=>{a().then(r)},[e,n]),s}var _e=o(93855),ve=o(64493),we=o(19806),Ie=o(40664),Se=o(52491),Ce=o(529),Ae=o(4961),Pe=o(35297),ke=o(22699),Te=o(24433),Ee=o(57474);const Me=200+t.xB5;function xe(e,t=""){if(!t.length)return e;const n=(0,Ce.l)(t);return e.filter(e=>n(e.defaultName)||e.name&&n(e.name))}const Re=(0,q.ph)((0,e.EK)(e=>{const{countryList:{phoneCodes:t}}=e;return{phoneCodeList:t}})(({id:e,value:t,isLoading:s,onChange:r,phoneCodeList:a})=>{const o=(0,he.A)(),i=(0,q.li)(),[c,d]=(0,q.J0)(),[u,l]=(0,q.J0)([]),f=(0,q.hb)(e=>{d(e),l(xe(a,e))},[a]);(0,Pe.A)(([e])=>{!e?.length&&a.length&&l(xe(a,c))},[a,c]);const g=(0,q.hb)(e=>{r(e),setTimeout(()=>f(void 0),Me)},[r,f]),p=(0,q.hb)(e=>{f(e.currentTarget.value)},[f]),h=(0,q.hb)(e=>{if(8!==e.keyCode)return;const n=e.currentTarget;t&&void 0===c&&(n.value=""),f(n.value)},[c,f,t]),y=(0,q.hb)(({onTrigger:r,isOpen:a})=>{const d=()=>{if(a)return;setTimeout(()=>{i.current.select()},50),r();const e=document.getElementById("auth-phone-number-form");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},u=t&&n.TL&&(0,Se.D0)(t.iso2),l=c??[u,t?.name||t?.defaultName||""].filter(Boolean).join(" ");return(0,ae.FD)("div",{className:(0,W.A)("input-group",t&&"touched"),children:[(0,ae.Y)("input",{ref:i,className:(0,W.A)("form-control",a&&"focus"),type:"text",id:e,value:l,autoComplete:"off",spellCheck:!m.Vq&&void 0,onClick:d,onFocus:d,onInput:e=>{p(e),d()},onKeyDown:h}),(0,ae.Y)("label",{children:o("LoginSelectCountryTitle")}),s?(0,ae.Y)(Ee.A,{color:"black"}):(0,ae.Y)("i",{onClick:d,className:(0,W.A)("css-icon-down",a&&"open")})]})},[c,p,h,e,s,o,t]);return(0,ae.FD)(ke.A,{className:"CountryCodeInput",trigger:y,children:[u.map(e=>(0,ae.FD)(Te.A,{className:t&&e.iso2===t.iso2?"selected":"",onClick:()=>g(e),children:[(0,ae.Y)("span",{className:"country-flag",children:(0,Ae.A)((0,Se.D0)(e.iso2),["hq_emoji"])}),(0,ae.Y)("span",{className:"country-name",children:e.name||e.defaultName}),(0,ae.FD)("span",{className:"country-code",children:["+",e.countryCode]})]},`${e.iso2}-${e.countryCode}`)),!u.length&&(0,ae.Y)(Te.A,{className:"no-results",disabled:!0,children:(0,ae.Y)("span",{children:o("CountryNone")})},"no-results")]})})),Be=o.p+"monkey.a3d5fcdc50b18dc55695.svg";let Ue=!1;const Ne=(0,q.ph)((0,e.EK)(e=>{const{sharedState:{settings:{language:t}},countryList:{phoneCodes:n},config:s,auth:r,connectionState:a}=e;return{auth:r,connectionState:a,language:t,phoneCodeList:n,isTestServer:s?.isTestServer}})(({auth:t,connectionState:s,phoneCodeList:a,language:o,isTestServer:i})=>{const{setAuthPhoneNumber:c,setAuthRememberMe:d,loadNearestCountry:u,loadCountryList:l,clearAuthErrorKey:f,goToAuthQrCode:g,setSharedSettingOption:p,loginWithPasskey:h}=(0,e.ko)(),{state:m,phoneNumber:y,nearestCountry:b,isLoading:_,errorKey:v,rememberMe:w,isLoadingQrCode:I,passkeyOption:S}=t,C=(0,he.A)(),A=(0,q.li)(),P=ge(),k="connectionStateReady"===s,T=be("AuthContinueOnThisLanguage",P),[E,M]=(0,q.J0)(),[x,B]=(0,q.J0)(),[U,N]=(0,q.J0)(!1),[D,L]=(0,q.J0)(),[F,O,$]=(0,pe.A)(),G=(0,_e.A)(),j=Object.values(G).length>0,z=(0,q.Kr)(()=>Object.entries(G).filter(([,e])=>e.isTest===i).reduce((e,[t,{phone:n}])=>(n&&(e[n]=Number(t)),e),{}),[G,i]),W=E?`+${E.countryCode} ${x||""}`:x,H=W&&W.replace(/[^\d]+/g,"").length>=7;(0,q.vJ)(()=>{n.TF||A.current.focus()},[E]),(0,q.vJ)(()=>{k&&!b&&u()},[k,b]),(0,q.vJ)(()=>{k&&l({langCode:o})},[k,o]),(0,q.vJ)(()=>{b&&a&&!E&&!U&&M((0,le.gH)(a,b))},[E,b,U,a]);const K=(0,ye.A)(e=>{e.length||B("");const t=a&&(0,le.oL)(a,e),n=!E||t&&t.iso2!==E.iso2||!t&&e.length?t:E;(!E||!n||n&&n.iso2!==E.iso2)&&M(n),B((0,le.n4)(e,n))}),Y=(0,ye.A)(()=>{O(),(0,ue.wT)(P,()=>{$(),p({language:P})})});(0,q.vJ)(()=>{void 0===x&&y&&K(y)},[y,x,K]),(0,q.Nf)(()=>{A.current&&D&&A.current.setSelectionRange(...D)},[D]);const J=(0,q.li)(!1),X=(0,ye.A)(()=>{J.current=!0,(0,R.YS)(()=>{J.current=!1})}),Q=(0,ye.A)(()=>{fe()}),Z=(0,ye.A)(e=>{M(e),B("")}),ee=(0,ye.A)(e=>{v&&f(),Ue||(Ue=!0,de(),(0,r.NN)(Be));const{value:t,selectionStart:s,selectionEnd:a}=e.target;L(s&&a&&a<t.length?[s,a]:void 0),N(!0);const o=n.Yw&&E&&void 0!==W&&t.length-W.length>1&&!J.current;K(o?`${E.countryCode} ${t}`:t)}),te=(0,ye.A)(e=>{d({value:e.target.checked})}),ne=(0,ye.A)(()=>{g()}),se=(0,ye.A)(()=>{h()}),oe="authorizationStateWaitPhoneNumber"===m;return(0,ae.FD)("div",{id:"auth-phone-number-form",className:"custom-scroll",children:[j&&(0,ae.Y)(ve.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",iconName:"close",onClick:Q}),(0,ae.FD)("div",{className:"auth-form",children:[(0,ae.Y)("div",{id:"logo"}),(0,ae.Y)("h1",{children:C("AuthTitle")}),(0,ae.Y)("p",{className:"note",children:C("StartText")}),(0,ae.FD)("form",{className:"form",action:"",onSubmit:function(e){if(e.preventDefault(),_)return;const t=W?.replace(/[^\d]/g,"");t&&z[t]?window.location.replace((0,V.Nv)(z[t])):H&&c({phoneNumber:W})},children:[(0,ae.Y)(Re,{id:"sign-in-phone-code",value:E,isLoading:!b&&!E,onChange:Z}),(0,ae.Y)(Ie.A,{ref:A,id:"sign-in-phone-number",label:C("LoginPhonePlaceholder"),value:W,error:v&&C.withRegular(v),inputMode:"tel",onChange:ee,onPaste:n.Yw?X:void 0}),(0,ae.Y)(we.A,{id:"sign-in-keep-session",label:C("AuthKeepSignedIn"),checked:Boolean(w),onChange:te}),H&&(oe?(0,ae.Y)(ve.A,{className:"auth-button",type:"submit",ripple:!0,isLoading:_,children:C("LoginNext")}):(0,ae.Y)(re.A,{})),oe&&(0,ae.Y)(ve.A,{className:"auth-button",isText:!0,ripple:!0,isLoading:I,onClick:ne,children:C("LoginQRLogin")}),S&&(0,ae.Y)(ve.A,{className:"auth-button",isText:!0,onClick:se,children:C("LoginPasskey")}),P&&P!==o&&T&&(0,ae.Y)(ve.A,{className:"auth-button",isText:!0,isLoading:F,onClick:Y,children:T})]})]})]})}));var De=o(36175),Le=o(56863),Fe=o(83057),Oe=o(4438),Ve=o(61911);let $e;const Ge=(0,q.ph)((0,e.EK)(e=>{const{connectionState:t,auth:n}=e,{language:s}=(0,B.lS)(e);return{connectionState:t,auth:n,language:s}})(({connectionState:n,auth:s,language:r})=>{const{returnToAuthPhoneNumber:a,setSharedSettingOption:i,loginWithPasskey:c}=(0,e.ko)(),{state:d,qrCode:u,passkeyOption:l}=s,f=ge(),g=(0,he.A)(),p=(0,q.li)(),h="connectionStateReady"===n,m=be("AuthContinueOnThisLanguage",f),[y,b,_]=(0,pe.A)(),[v,w,I]=(0,pe.A)(),S=(0,_e.A)(),C=Object.values(S).length>0,{result:A}=(0,Le.A)(async()=>new(0,(await($e||($e=o.e(7283).then(o.t.bind(o,97283,23))),$e)).default)({width:280,height:280,image:Ve,margin:10,type:"svg",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8},qrOptions:{errorCorrectionLevel:"M"}}),[]),P=(0,Fe.A)(v);(0,q.Nf)(()=>{if(!u||!A)return()=>{I()};if(!h)return;const e=p.current,n=`tg://login?token=${u.token}`;t.rkj&&(0,z.oA)(),A.update({data:n}),v||(A.append(e),w()),t.rkj&&setTimeout(()=>{(0,z.Z3)()},50)},[h,u,v,A]);const k=(0,ye.A)(()=>{fe()}),T=(0,ye.A)(()=>{b(),(0,ue.wT)(f,()=>{_(),i({language:f})})}),E=(0,ye.A)(()=>{a()}),M=(0,ye.A)(()=>{c()}),x="authorizationStateWaitQrCode"===d;return(0,ae.FD)("div",{id:"auth-qr-form",className:"custom-scroll",children:[C&&(0,ae.Y)(ve.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",iconName:"close",onClick:k}),(0,ae.FD)("div",{className:"auth-form qr",children:[(0,ae.FD)("div",{className:"qr-outer",children:[(0,ae.FD)("div",{className:(0,W.A)("qr-inner",P),children:[(0,ae.Y)("div",{className:"qr-container",ref:p,style:"width: 280px; height: 280px"},"qr-container"),(0,ae.Y)(Oe.A,{tgsUrl:De.w.QrPlane,size:54,className:"qr-plane",nonInteractive:!0,noLoop:!1})]},"qr-inner"),!v&&(0,ae.Y)("div",{className:"qr-loading",children:(0,ae.Y)(re.A,{})})]}),(0,ae.Y)("h1",{children:g("LoginQRTitle")}),(0,ae.FD)("ol",{children:[(0,ae.Y)("li",{children:(0,ae.Y)("span",{children:g("LoginQRHelp1")})}),(0,ae.Y)("li",{children:(0,ae.Y)("span",{children:g("LoginQRHelp2",void 0,{withNodes:!0,withMarkdown:!0})})}),(0,ae.Y)("li",{children:(0,ae.Y)("span",{children:g("LoginQRHelp3")})})]}),x&&(0,ae.Y)(ve.A,{className:"auth-button",isText:!0,onClick:E,children:g("LoginQRCancel")}),l&&(0,ae.Y)(ve.A,{className:"auth-button",isText:!0,onClick:M,children:g("LoginPasskey")}),f&&f!==r&&m&&(0,ae.Y)(ve.A,{className:"auth-button",isText:!0,isLoading:y,onClick:T,children:m})]})]})})),je=()=>{const e=(0,se.A)(A.ar.Auth,"AuthRegister");return e?(0,ae.Y)(e,{}):(0,ae.Y)(re.A,{})},qe=(0,q.ph)((0,e.EK)(e=>({authState:e.auth.state}))(({authState:t})=>{const{returnToAuthPhoneNumber:s,goToAuthQrCode:r}=(0,e.ko)(),a="iOS"===n.Aw||"Android"===n.Aw;(0,te.A)({isActive:!a&&"authorizationStateWaitPhoneNumber"===t||a&&"authorizationStateWaitQrCode"===t,onBack:()=>{a?s():r()}});const o=(0,ee.A)("authorizationStateReady"!==t?t:void 0,!0);return(0,ae.Y)(ne.Ay,{activeKey:function(){switch(o){case"authorizationStateWaitCode":return 0;case"authorizationStateWaitPassword":return 1;case"authorizationStateWaitRegistration":return 2;case"authorizationStateWaitPhoneNumber":return 3;case"authorizationStateWaitQrCode":return 4;default:return a?3:4}}(),name:"fade",className:"Auth","data-tauri-drag-region":!(!m.Vq||!n.MP)||void 0,children:function(){switch(o){case"authorizationStateWaitCode":return(0,ae.Y)(oe,{});case"authorizationStateWaitPassword":return(0,ae.Y)(ie,{});case"authorizationStateWaitRegistration":return(0,ae.Y)(je,{});case"authorizationStateWaitPhoneNumber":return(0,ae.Y)(Ne,{});case"authorizationStateWaitQrCode":return(0,ae.Y)(Ge,{});default:return a?(0,ae.Y)(Ne,{}):(0,ae.Y)(Ge,{})}}()})}));var ze=o(83649),We=o(11778),He=o(76023),Ke=o(50680),Ye=o(87412),Je=o(18276),Xe=o(9267),Qe=o(3325),Ze=o(17663),et=o(32625),tt=o(59030),nt=o(68292);const st={root:"eldglPwL",svg:"xhUfxjkV",circle:"hsaty2zA"},rt=(0,q.ph)(({duration:e,className:t,onEnd:n})=>{const[s,r]=(0,q.J0)(e),a=(0,tt.A)();return(0,et.A)(()=>r(e=>e-1),s>0?1e3:void 0),(0,q.vJ)(()=>{s<=0&&n?.()},[s,n]),(0,q.vJ)(()=>{r(e)},[e]),(0,ae.FD)("div",{className:(0,W.A)(st.root,t),children:[(0,ae.Y)("svg",{className:st.svg,width:"32px",height:"32px",children:(0,ae.Y)("circle",{cx:"16",cy:"16",r:14,transform:"rotate(-90, 16, 16)",pathLength:"100","stroke-dasharray":"100","stroke-dashoffset":100-(s-1)/e*100,className:st.circle})}),(0,ae.Y)(nt.A,{className:st.text,text:(0,Ze.dq)(a,1e3*s)})]})}),at=3e3,ot=1.75*He.$,it=({notification:n})=>{const s=(0,e.ko)(),r=(0,he.A)(),{localId:a,message:o,action:i,actionText:c,cacheBreaker:d,className:u,disableClickDismiss:l,dismissAction:f,duration:g=at,icon:p,shouldUseCustomIcon:h,customEmojiIconId:m,shouldShowTimer:y,title:b,containerSelector:_}=n,[v,w]=(0,q.J0)(!0),I=(0,q.li)(),{transitionClassNames:S}=(0,Ke.A)(v),C=(0,ye.A)(()=>{s.dismissNotification({localId:a})}),A=(0,ye.A)(e=>{!e&&l||(w(!1),setTimeout(C,150+t.xB5),f&&s[f.action](f.payload))}),P=(0,ye.A)(()=>{i&&(Array.isArray(i)?i.forEach(e=>s[e.action](e.payload)):s[i.action](i.payload)),l&&(w(!1),setTimeout(C,150+t.xB5)),A()}),k=(0,ye.A)(()=>{i&&(Array.isArray(i)?i.forEach(e=>s[e.action](e.payload)):s[i.action](i.payload)),A()});(0,q.vJ)(()=>v?(0,We.A)(A):void 0,[v,A]),(0,q.vJ)(()=>(I.current=window.setTimeout(()=>A(!0),g),()=>{I.current&&(clearTimeout(I.current),I.current=void 0)}),[g,d]);const T=(0,ye.A)(()=>{l||I.current&&(clearTimeout(I.current),I.current=void 0)}),E=(0,ye.A)(()=>{l||(I.current&&clearTimeout(I.current),I.current=window.setTimeout(A,g))}),M=(0,q.Kr)(()=>{if(b)return(0,ze.Yw)(b)?r.with(b):(0,Ae.A)(b,["simple_markdown","emoji","br","links"])},[r,b]),x=(0,q.Kr)(()=>(0,ze.Yw)(o)?r.with(o):"string"==typeof o?(0,Ae.A)(o,["simple_markdown","emoji","br","links"]):o,[r,o]),R=(0,q.Kr)(()=>{if(c)return(0,ze.Yw)(c)?r.with(c):c},[r,c]),B=(0,q.Kr)(()=>m?(0,ae.Y)(Ye.A,{className:"notification-emoji-icon",forceAlways:!0,size:ot,documentId:m}):h&&"star"===p?(0,ae.Y)(Xe.A,{type:"gold",className:(0,W.A)("notification-icon"),size:"adaptive"}):(0,ae.Y)(Je.A,{name:p||"info-filled",className:"notification-icon"}),[m,p,h]);return(0,ae.Y)(Qe.A,{className:"Notification-container",containerSelector:_,children:(0,ae.FD)("div",{className:(0,W.A)("Notification",S,u),onClick:k,onMouseEnter:T,onMouseLeave:E,children:[B,(0,ae.FD)("div",{className:"content",children:[Boolean(M)&&(0,ae.Y)("div",{className:"notification-title",children:M}),x]}),Boolean(R)&&(0,ae.Y)(ve.A,{color:"translucent-white",onClick:P,className:"notification-button",children:R}),y&&(0,ae.Y)(rt,{className:"notification-timer",duration:Math.ceil(g/1e3)},d)]})})},ct=(0,q.ph)((0,e.EK)(e=>(0,w.Up)((0,f.nTw)(e),["notifications"]))(({notifications:e})=>{if(e.length)return(0,ae.Y)("div",{id:"Notifications",children:e.map(e=>(0,ae.Y)(it,{notification:e},e.localId))})}));var dt=o(23174),ut=o(62214),lt=o(58554),ft=o(15283);const gt="ThfRMqwq",pt="kN2M6u9m";var ht=o(89704);const mt=o.p+"mask.c474db1e76529489b940.svg",yt=o.p+"telegram-logo.1b2bb5b107f046ea9325.svg";function bt(){const{listIds:t,byId:n}=(0,e.mS)().chats;if(t.active)return Promise.all(t.active.slice(0,10).map(async e=>{const t=n[e];if(!t)return;const s=(0,ut.cP)(t);return s?lt.hd(s,dt.qZ.BlobUrl):void 0}))}const _t={main:()=>Promise.all([(0,A.Vw)(A.ar.Main).then(de),bt(),(0,r.NN)(mt),O.CO]),authPhoneNumber:()=>Promise.all([de(),(0,r.NN)(yt)]),authCode:()=>(0,r.NN)(Be),authPassword:()=>(0,r.NN)(Be),authQrCode:de,lock:()=>Promise.all([de(),(0,r.NN)(ht)]),inactive:()=>{}},vt=(0,e.EK)((e,{isMobile:n})=>{const s=(0,f.nTw)(e),{foldersPosition:r}=(0,B.lS)(e);return{shouldSkipHistoryAnimations:s.shouldSkipHistoryAnimations,uiReadyState:s.uiReadyState,isRightColumnShown:(0,f.gjV)(e,n),leftColumnWidth:e.leftColumnWidth,isFoldersSidebarShown:r===t._C3&&!n&&(0,f.XD6)(e)}})(({page:t,children:n,isRightColumnShown:s,shouldSkipHistoryAnimations:r,leftColumnWidth:a,isFoldersSidebarShown:o})=>{const{setIsUiReady:i}=(0,e.ko)(),[c,d]=(0,pe.A)(),{shouldRender:u,transitionClassNames:l}=(0,Ke.A)(!c,void 0,!0);return(0,ft.A)(()=>{let e;return Promise.race([(0,N.v7)(700),t?(async()=>{try{await _t[t]()}catch(e){}})():Promise.resolve()]).then(()=>{d(),i({uiReadyState:1}),e=window.setTimeout(()=>{i({uiReadyState:2})},1e3)}),()=>{e&&(clearTimeout(e),e=void 0),i({uiReadyState:0})}}),(0,ae.FD)(ae.FK,{children:[n,u&&!r&&Boolean(t)&&(0,ae.Y)("div",{className:(0,W.A)("U9MowLv_",l),children:"main"===t?(0,ae.FD)("div",{className:(0,W.A)("RcG6eRZw",o&&"oHY8tVQC"),children:[o&&(0,ae.Y)("div",{className:"HjZ2pMig"}),(0,ae.Y)("div",{className:"oL7XcRwI",style:a?`width: ${a}px`:void 0}),(0,ae.Y)("div",{className:(0,W.A)("LYe7IaQO",gt)}),s&&(0,ae.Y)("div",{className:"wYSGQZXX"})]}):"inactive"===t||"lock"===t?(0,ae.Y)("div",{className:(0,W.A)(pt,gt)}):(0,ae.Y)("div",{className:pt})})]})}),wt=o.p+"app-inactive.da3925145f0a7111c0f1.png",It=({inactiveReason:e})=>{const t=(0,he.A)(),n=(0,ye.A)(()=>{window.location.reload()});return(0,te.A)({isActive:!0,onBack:n,shouldResetUrlHash:!0}),(0,ae.Y)("div",{id:"AppInactive",children:(0,ae.FD)("div",{className:"content",children:[(0,ae.Y)("img",{src:wt,alt:""}),(0,ae.Y)("h3",{className:"title",children:t("auth"===e?"AppInactiveAuthTitle":"AppInactiveOtherClientTitle")}),(0,ae.Y)("div",{className:"description",children:(0,Ae.A)(t("auth"===e?"AppInactiveAuthDescription":"AppInactiveOtherClientDescription"),["br"])}),(0,ae.Y)("div",{className:"actions",children:(0,ae.Y)(ve.A,{isText:!0,ripple:!0,onClick:n,children:t("AppInactiveReload")})})]})})},St=e=>{const{isLocked:t}=e,n=(0,se.A)(A.ar.Main,"LockScreen",!t);return n?(0,ae.Y)(n,{...e}):void 0},Ct=e=>{const t=(0,se.A)(A.ar.Main,"Main");return t?(0,ae.Y)(t,{...e}):void 0},At=(0,q.ph)(()=>{const[e,n]=(0,q.J0)(!1),s=(0,ye.A)(()=>{localStorage.setItem(t.ezG,"true"),n(!0)});return(0,ae.Y)("div",{id:"welcome-form",className:"custom-scroll",children:(0,ae.FD)("div",{className:"welcome-form",children:[(0,ae.Y)("div",{className:"welcome-lottie",children:(0,ae.Y)("img",{src:"/icon-square-192x192.png",alt:"AlphaHuman Logo"})}),(0,ae.Y)("h1",{children:"Welcome to AlphaHuman"}),(0,ae.FD)("p",{className:"note",children:["Summarize your busiest chats, execute human-like tasks in seconds, and connect your favorite tools to get more done, faster. All on Telegram.",(0,ae.Y)("br",{}),(0,ae.Y)("br",{}),"Are you ready to get AI superpowers?",(0,ae.Y)("br",{}),(0,ae.Y)("br",{}),(0,ae.Y)("small",{children:"(This is a telegram client so all your credentials are stored in your device and never passed onto any servers)"})]}),(0,ae.Y)(ve.A,{className:"auth-button welcome-button",onClick:s,isLoading:e,disabled:e,children:"Let's Cook ðŸ”¥"})]})})});o(48335);const Pt="vLjLWJ5_";o(48073);const kt="GfYGCbG9",Tt={notion:()=>{const{completeNotionOAuthSuccess:t,completeNotionOAuthError:n}=(0,e.ko)(),[s,r]=(0,q.J0)(null),[a,o]=(0,q.J0)(null),i=(0,ye.A)(()=>{window.location.href="/"});return(0,q.vJ)(()=>{const e=(0,P.pT)();if(!e)return void setTimeout(()=>{window.location.href="/"},1e3);if("success"===e.type){const n=e.workspace||"Unknown Workspace";o({type:"success",message:`Successfully connected to Notion workspace: ${n}`}),t({workspace:n})}else if("error"===e.type){const t=e.error||"Unknown error occurred";o({type:"error",message:`Failed to connect to Notion: ${t}`}),n({error:t})}r(10);const s=setInterval(()=>{r(e=>null===e||e<=1?(clearInterval(s),window.location.href="/",null):e-1)},1e3);return()=>clearInterval(s)},[t,n]),(0,ae.Y)("div",{className:"R4QrqW5I",children:(0,ae.Y)("div",{className:"QlxeWA0E",children:a?(0,ae.FD)(ae.FK,{children:[(0,ae.Y)("div",{className:"B5uX29gR",children:(0,ae.Y)("i",{className:"success"===a.type?"icon icon-check":"icon icon-close"})}),(0,ae.Y)("h2",{className:"Yphd6w3h",children:"success"===a.type?"Connection Successful!":"Connection Failed"}),(0,ae.Y)("p",{className:Pt,children:a.message}),(0,ae.FD)("div",{className:"kl34uAW2",children:[(0,ae.Y)("p",{className:"kQ0qCKVq",children:null!==s?`Redirecting in ${s} seconds`:"Redirecting..."}),(0,ae.Y)("button",{className:"bIzV_NoA",onClick:i,children:"Go Home Now"})]})]}):(0,ae.FD)(ae.FK,{children:[(0,ae.Y)("div",{className:"wxHs5sjQ",children:(0,ae.Y)("i",{className:"icon icon-spinner"})}),(0,ae.Y)("p",{className:Pt,children:"Processing Notion connection..."})]})})})},google:()=>{const{completeGoogleOAuthSuccess:t,completeGoogleOAuthError:n}=(0,e.ko)(),[s,r]=(0,q.J0)(null),[a,o]=(0,q.J0)(null),i=(0,ye.A)(()=>{window.location.href="/"});return(0,q.vJ)(()=>{const e=(0,P.hq)();if(!e)return void setTimeout(()=>{window.location.href="/"},1e3);if("success"===e.type)o({type:"success",message:"Successfully connected to Google"}),t();else if("error"===e.type){const t=e.error||"Unknown error occurred";o({type:"error",message:`Failed to connect to Google: ${t}`}),n({error:t})}r(10);const s=setInterval(()=>{r(e=>null===e||e<=1?(clearInterval(s),window.location.href="/",null):e-1)},1e3);return()=>clearInterval(s)},[t,n]),(0,ae.Y)("div",{className:"onYr0umE",children:(0,ae.Y)("div",{className:"vnO4SUh2",children:a?(0,ae.FD)(ae.FK,{children:[(0,ae.Y)("div",{className:"LaWrwWyv",children:(0,ae.Y)("i",{className:"success"===a.type?"icon icon-check":"icon icon-close"})}),(0,ae.Y)("h2",{className:"iSe4TLLh",children:"success"===a.type?"Connection Successful!":"Connection Failed"}),(0,ae.Y)("p",{className:kt,children:a.message}),(0,ae.FD)("div",{className:"jv3pO0cg",children:[(0,ae.Y)("p",{className:"P8reD1qX",children:null!==s?`Redirecting in ${s} seconds`:"Redirecting..."}),(0,ae.Y)("button",{className:"ZX2ZXEF7",onClick:i,children:"Go Home Now"})]})]}):(0,ae.FD)(ae.FK,{children:[(0,ae.Y)("div",{className:"OQJDRPRw",children:(0,ae.Y)("i",{className:"icon icon-spinner"})}),(0,ae.Y)("p",{className:kt,children:"Processing Google connection..."})]})})})}};var Et=function(e){return e[e.welcome=0]="welcome",e[e.auth=1]="auth",e[e.main=2]="main",e[e.lock=3]="lock",e[e.inactive=4]="inactive",e[e.oauthCallback=5]="oauthCallback",e}(Et||{});const Mt=Object.keys(Et).length/2,xt=m.Vq?t.zGP:t.j0M,Rt=`${xt} ${t.LaL}`,Bt=(0,e.EK)(e=>{const{state:t,hasWebAuthTokenFailed:n,hasWebAuthTokenPasswordRequired:s}=e.auth;return{authState:t,isScreenLocked:e.passcode?.isScreenLocked,hasPasscode:e.passcode?.hasPasscode,inactiveReason:(0,f.nTw)(e).inactiveReason,hasWebAuthTokenFailed:n||s,theme:(0,f.SJA)(e),isTestServer:e.config?.isTestServer,actionMessageBg:(0,f.bdt)(e)}})(({authState:e,isScreenLocked:s,hasPasscode:r,inactiveReason:a,hasWebAuthTokenFailed:o,isTestServer:i,theme:c,actionMessageBg:d})=>{const{isMobile:u}=(0,J.Ay)(),l="iOS"===n.Aw||"Android"===n.Aw;(0,q.vJ)(()=>{n.nB&&(0,H.a)()},[]),(0,q.vJ)(()=>{const e=(0,P.cA)();if(!(0,I.wr)()&&!V.Xz&&!e){const t=(0,V.zk)();Object.keys(t).map(Number).sort((e,t)=>t-e).forEach(n=>{const s=Number(n);if(t[s]){const t=(0,V.Nv)(s);window.location.href=`${t}#${e||"login"}`}})}(async()=>{if((0,I.$m)()&&V.Xz&&await(0,K.H)()){const e=(0,V.Nv)(1);window.location.href=e}})()},[]),(0,q.vJ)(()=>{const e=document.body,t=e=>{e.preventDefault(),e.dataTransfer&&(e.target.dataset.dropzone?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none")},n=e=>{e.preventDefault()};return e.addEventListener("drop",n),e.addEventListener("dragover",t),e.addEventListener("dragenter",t),()=>{e.removeEventListener("drop",n),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",t)}},[]);const[f,g]=(0,q.J0)(!0);(0,q.vJ)(()=>{const e=setInterval(()=>{const n="true"===localStorage.getItem(t.ezG);n!==f&&g(n),n&&clearInterval(e)},1e3);return()=>clearInterval(e)},[f]);let p,h=Et.auth;const y=[{provider:"notion",checker:P.wr},{provider:"google",checker:P.MQ}];let b=null;for(const{provider:e,checker:t}of y)if(t()){h=Et.oauthCallback,b=e,p=void 0;break}if(!b){if(f)if(a)p=void 0,h=Et.inactive;else if(s)p="lock",h=Et.lock;else if(e)switch(e){case"authorizationStateWaitPhoneNumber":p="authPhoneNumber",h=Et.auth;break;case"authorizationStateWaitCode":p="authCode",h=Et.auth;break;case"authorizationStateWaitPassword":p="authPassword",h=Et.auth;break;case"authorizationStateWaitRegistration":h=Et.auth;break;case"authorizationStateWaitQrCode":p="authQrCode",h=Et.auth;break;case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":p="main",h=Et.main}else(0,I.wr)()?(p="main",h=Et.main):r?h=Et.lock:(p=l?"authPhoneNumber":"authQrCode",h=Et.auth);else p="welcome",h=Et.welcome;h!==Et.lock&&h!==Et.inactive&&h!==Et.main&&(0,P.f4)()?.tgWebAuthToken&&!o&&(p="main",h=Et.main)}(0,q.vJ)(()=>{(0,Y.u)()},[]),(0,q.vJ)(()=>{document.title=a?Rt:xt},[a]);const _=(0,X.A)(h);(()=>{const e=(0,q.hb)(async e=>{if(e.target instanceof HTMLElement&&!e.target?.closest("input, a, button")&&e.target?.closest("[data-tauri-drag-region]")){const e=await(window.tauri?.getCurrentWindow());e?.startDragging()}},[]);(0,q.vJ)(()=>{if(m.Vq&&n.MP)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[e])})(),(0,q.Nf)(()=>{document.body.classList.add(gt)},[]),(0,q.Nf)(()=>{document.body.style.setProperty("--theme-background-color","dark"===c?t.PqE:t.XLD)},[c]),(0,q.Nf)(()=>{d&&document.body.style.setProperty("--action-message-bg",d)},[d]);const v=Z.GE;return(0,Q.R)(()=>{(0,z.dL)(()=>{document.body.classList.toggle("in-background",v())},document.body)},[v]),(0,ae.FD)(vt,{page:p,isMobile:u,children:[(0,ae.Y)(ne.Ay,{name:"fade",activeKey:h,shouldCleanup:!0,className:(0,W.A)("full-height",(h===Et.auth||_===Et.auth)&&"is-auth"),renderCount:Mt,children:function(){switch(h){case Et.welcome:return(0,ae.Y)(At,{});case Et.auth:return(0,ae.Y)(qe,{});case Et.main:return(0,ae.Y)(Ct,{isMobile:u});case Et.lock:return(0,ae.Y)(St,{isLocked:s});case Et.inactive:return(0,ae.Y)(It,{inactiveReason:a});case Et.oauthCallback:{const e=b?Tt[b]:void 0;return e?(0,ae.Y)(e,{}):(0,ae.Y)("div",{children:"Unknown OAuth provider"})}}}}),(0,ae.Y)(ct,{})]})});t.rkj&&(0,R.Z3)(),m.Vq&&(function(){const e=Promise.resolve().then(o.bind(o,55962));window.tauri??={},Object.assign(window.tauri,{markTitleBarOverlay:async function(t){if(n.MP)return(await e).invoke("mark_title_bar_overlay",{isOverlay:t})},setNotificationsCount:async function(t,n=!1){return(await e).invoke("set_notifications_count",{amount:t,isMuted:n})},openNewWindow:async function(t){return(await e).invoke("open_new_window_cmd",{url:t})},relaunch:()=>o.e(2263).then(o.bind(o,82263)).then(({relaunch:e})=>e()),checkUpdate:()=>o.e(1567).then(o.bind(o,21567)).then(({check:e})=>e()),getCurrentWindow:()=>o.e(748).then(o.bind(o,60748)).then(({getCurrentWindow:e})=>e()),setWindowTitle:async function(t){return(await e).invoke("set_window_title",{title:t})}})}(),function(){function s(e){const t=e.target,s=t?.closest("a[href]");s&&("_blank"===s.target||e.ctrlKey||e.metaKey||e.button===n.w3.Auxiliary)&&(e.preventDefault(),j(s.getAttribute("href")))}G||(G=!0,t.Oig||document.addEventListener("contextmenu",e=>{e.preventDefault()}),o.e(8925).then(o.bind(o,8925)).then(({listen:t})=>{t("download-finished",t=>{t.payload.success||(0,e.ko)().showNotification({message:{key:"NativeDownloadFailed"}})})}),document.addEventListener("keydown",e=>{if("Backspace"===e.key||"Backspace"===e.code){const t=e.target;"INPUT"===t?.tagName||"TEXTAREA"===t?.tagName||t?.isContentEditable||e.preventDefault()}},!0),window.open=(e,t,n)=>(e&&j(e),null),document.addEventListener("click",s),document.addEventListener("auxclick",s))}()),async function(){if(t.Oig&&console.log(">>> INIT"),!window.isCompatTestPassed)return;(0,$.Tq)(),function(){const n=new BroadcastChannel(t.YoZ);n.addEventListener("message",n=>{if(n.data!==t.cK8){let t=(0,e.mS)();const n=(0,f.nTw)(t);t=(0,E.w)(t,{inactiveReason:"otherClient"},n.id),(0,e.UF)(t)}}),n.postMessage(t.cK8)}(),(0,F.mY)(),await(0,F.Ld)("12.17.0"),localStorage.setItem(V.pn,"1"),(0,N.yu)(()=>{const t=(0,e.mS)();1===Object.keys(t.byTabId).length&&localStorage.removeItem(V.pn)}),await S(),(0,e.ko)().init(),(0,e.ko)().updateShouldEnableDebugLog(),(0,e.ko)().updateShouldDebugExportedSenders();const s=(0,e.mS)();(0,O.S7)((0,B.lS)(s).language,!0),(0,b.wr)(t=>{(0,e.ko)().switchMultitabRole({isMasterTab:t},{forceSyncOnIOs:!0})});const r="authorizationStateReady"!==(0,e.mS)().auth.state;(0,b.UJ)(r),t.Oig&&console.log(">>> START INITIAL RENDER"),(0,R.RK)(()=>{!function(){if(!n.MP)return;const e=document.getElementById("the-manifest-placeholder");if(!e)return;const s=`site_apple${t.Oig?"_dev":""}.webmanifest`;e.setAttribute("href",s)}(),x.Ay.render((0,ae.Y)(Bt,{}),document.getElementById("root")),function(){if(!n.pz)return;let e,t=Date.now();function s(){e||D||(e=window.setInterval(L,5e3))}window.addEventListener("focus",()=>{const e=Date.now();e-t<100||(t=e,s(),L())}),window.addEventListener("blur",()=>{clearInterval(e),e=void 0}),document.hasFocus()&&(s(),L())}()}),t.Oig&&console.log(">>> FINISH INITIAL RENDER"),t.Oig&&document.addEventListener("dblclick",()=>{console.warn("TAB STATE",(0,f.nTw)((0,e.mS)())),console.warn("GLOBAL STATE",(0,e.mS)())})}(),(0,N.yu)(()=>{const t=(0,e.ko)();t.leaveGroupCall?.({isPageUnload:!0}),t.hangUp?.({isPageUnload:!0})})})()})();
//# sourceMappingURL=main.ab5c8e2a9816ce94ab08.js.map